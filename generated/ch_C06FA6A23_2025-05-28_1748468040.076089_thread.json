{
  "id": "ch_C06FA6A23_2025-05-28_1748468040.076089_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "neerad.phansalkar",
    "Anil",
    "Victor Zeng"
  ],
  "messages": [
    {
      "sender": "neerad.phansalkar",
      "user_id": "U08K6KE6R54",
      "message": "Getting some errors when starting api-server on crafting. @Victor Zeng is this related to your recent change (https://github.com/instabase/instabase/pull/70961)?\n```[2025-05-28 21:25:39 +0000] [18] [ERROR] Exception in worker process\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/arbiter.py\", line 608, in spawn_worker\n    worker.init_process()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/gthread.py\", line 94, in init_process\n    super().init_process()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/base.py\", line 135, in init_process\n    self.load_wsgi()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/base.py\", line 147, in load_wsgi\n    self.wsgi = self.app.wsgi()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/base.py\", line 66, in wsgi\n    self.callable = self.load()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/wsgiapp.py\", line 57, in load\n    return self.load_wsgiapp()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/wsgiapp.py\", line 47, in load_wsgiapp\n    return util.import_app(self.app_uri)\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/util.py\", line 370, in import_app\n    mod = importlib.import_module(module)\n  File \"/usr/local/lib/python3.9/importlib/__init__.py\", line 127, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\n  File \"<frozen importlib._bootstrap_external>\", line 850, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\n  File \"/instabase-api-server/py/manage_api_server.py\", line 79, in <module>\n    server.register_blueprints()\n  File \"/instabase-api-server/py/instabase/api_server/server/main.py\", line 227, in register_blueprints\n    self._register_apis_v2()\n  File \"/instabase-api-server/py/instabase/api_server/server/main.py\", line 262, in _register_apis_v2\n    from instabase.api_server.handler.api.v2.aihub import internal, licenses, payment, connector_catalog, oauth_providers\n  File \"/instabase-api-server/py/instabase/api_server/handler/api/v2/aihub/licenses.py\", line 595, in <module>\n    request_id: Optional[str]) -> Tuple[Optional[str], Optional[str]]:\nNameError: name 'Tuple' is not defined\n[2025-05-28 21:25:39 +0000] [17] [ERROR] Exception in worker process\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/arbiter.py\", line 608, in spawn_worker\n    worker.init_process()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/gthread.py\", line 94, in init_process\n    super().init_process()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/base.py\", line 135, in init_process\n    self.load_wsgi()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/base.py\", line 147, in load_wsgi\n    self.wsgi = self.app.wsgi()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/base.py\", line 66, in wsgi\n    self.callable = self.load()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/wsgiapp.py\", line 57, in load\n    return self.load_wsgiapp()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/wsgiapp.py\", line 47, in load_wsgiapp\n    return util.import_app(self.app_uri)\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/util.py\", line 370, in import_app\n    mod = importlib.import_module(module)\n  File \"/usr/local/lib/python3.9/importlib/__init__.py\", line 127, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\n  File \"<frozen importlib._bootstrap_external>\", line 850, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\n  File \"/instabase-api-server/py/manage_api_server.py\", line 79, in <module>\n    server.register_blueprints()\n  File \"/instabase-api-server/py/instabase/api_server/server/main.py\", line 227, in register_blueprints\n    self._register_apis_v2()\n  File \"/instabase-api-server/py/instabase/api_server/server/main.py\", line 262, in _register_apis_v2\n    from instabase.api_server.handler.api.v2.aihub import internal, licenses, payment, connector_catalog, oauth_providers\n  File \"/instabase-api-server/py/instabase/api_server/handler/api/v2/aihub/licenses.py\", line 595, in <module>\n    request_id: Optional[str]) -> Tuple[Optional[str], Optional[str]]:\nNameError: name 'Tuple' is not defined\n[2025-05-28 21:25:39 +0000] [18] [INFO] Worker exiting (pid: 18)\n[2025-05-28 21:25:39 +0000] [17] [INFO] Worker exiting (pid: 17)\nlevel=ERROR time=2025-05-28 21:25:39,920 msg=\"Error removing file for pid: 17, curpid: 17\"  path=\"instabase/shared/gunicorn_hooks_config.py:40\" process=\"MainProcess\" thread=\"MainThread\" trace_id=\"\"\nlevel=ERROR time=2025-05-28 21:25:39,920 msg=\"Error removing file for pid: 18, curpid: 18\"  path=\"instabase/shared/gunicorn_hooks_config.py:40\" process=\"MainProcess\" thread=\"MainThread\" trace_id=\"\"\nlevel=ERROR time=2025-05-28 21:25:39,922 msg=\"[Errno 2] No such file or directory: '/dev/shm/gunicorn/pids/17'\"  path=\"instabase/shared/gunicorn_hooks_config.py:42\" process=\"MainProcess\" thread=\"MainThread\" trace_id=\"\" exception=\"Traceback (most recent call last):\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/arbiter.py\", line 608, in spawn_worker\n    worker.init_process()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/gthread.py\", line 94, in init_process\n    super().init_process()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/base.py\", line 135, in init_process\n    self.load_wsgi()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/base.py\", line 147, in load_wsgi\n    self.wsgi = self.app.wsgi()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/base.py\", line 66, in wsgi\n    self.callable = self.load()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/wsgiapp.py\", line 57, in load\n    return self.load_wsgiapp()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/wsgiapp.py\", line 47, in load_wsgiapp\n    return util.import_app(self.app_uri)\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/util.py\", line 370, in import_app\n    mod = importlib.import_module(module)\n  File \"/usr/local/lib/python3.9/importlib/__init__.py\", line 127, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\n  File \"<frozen importlib._bootstrap_external>\", line 850, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\n  File \"/instabase-api-server/py/manage_api_server.py\", line 79, in <module>\n    server.register_blueprints()\n  File \"/instabase-api-server/py/instabase/api_server/server/main.py\", line 227, in register_blueprints\n    self._register_apis_v2()\n  File \"/instabase-api-server/py/instabase/api_server/server/main.py\", line 262, in _register_apis_v2\n    from instabase.api_server.handler.api.v2.aihub import internal, licenses, payment, connector_catalog, oauth_providers\n  File \"/instabase-api-server/py/instabase/api_server/handler/api/v2/aihub/licenses.py\", line 595, in <module>\n    request_id: Optional[str]) -> Tuple[Optional[str], Optional[str]]:\nNameError: name 'Tuple' is not defined\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/arbiter.py\", line 621, in spawn_worker\n    sys.exit(self.WORKER_BOOT_ERROR)\nSystemExit: 3\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"instabase/shared/gunicorn_hooks_config.py\", line 37, in __delete_pid\n    Path('{}/{}'.format(GUNICORN_STATE_DIR, pid)).unlink()\n  File \"/usr/local/lib/python3.9/pathlib.py\", line 1354, in unlink\n    self._accessor.unlink(self)\nFileNotFoundError: [Errno 2] No such file or directory: '/dev/shm/gunicorn/pids/17'\"\nlevel=ERROR time=2025-05-28 21:25:39,922 msg=\"[Errno 2] No such file or directory: '/dev/shm/gunicorn/pids/18'\"  path=\"instabase/shared/gunicorn_hooks_config.py:42\" process=\"MainProcess\" thread=\"MainThread\" trace_id=\"\" exception=\"Traceback (most recent call last):\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/arbiter.py\", line 608, in spawn_worker\n    worker.init_process()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/gthread.py\", line 94, in init_process\n    super().init_process()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/base.py\", line 135, in init_process\n    self.load_wsgi()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/workers/base.py\", line 147, in load_wsgi\n    self.wsgi = self.app.wsgi()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/base.py\", line 66, in wsgi\n    self.callable = self.load()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/wsgiapp.py\", line 57, in load\n    return self.load_wsgiapp()\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/app/wsgiapp.py\", line 47, in load_wsgiapp\n    return util.import_app(self.app_uri)\n  File \"/usr/local/lib/python3.9/site-packages/gunicorn/util.py\", line 370, in import_app\n    mod = importlib.import_module(module)\n  File \"/usr/local/lib/python3.9/importlib/__init__.py\", line 127, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\n  File \"<frozen importlib._bootstrap_external>\", line 850, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\n  File \"/instabase-api-server/py/manage_api_server.py\", line 79, in <module>\n    server.register_blueprints()\n  File \"/instabase-api-server/py/instabase/api_server/server/main.py\", line 227, in register_blueprints\n    self._register_apis_v2()\n  File \"/instabase-api-server/py/instabase/api_server/server/main.py\", line 262, in _register_apis_v2\n    from instabase.api_server.handler.api.v2.aihub import internal, licenses, payment, connector_catalog, oauth_providers\n  File \"/instabase-api-server/py/instabase/api_server/handler/api/v2/aihub/licenses.py\", line 595, in <module>\n    request_id: Optional[str]) -> Tuple[Optional[str], Optional[str]]:\nNameError: name 'Tuple' is not defined```",
      "time": "14:34",
      "timestamp": "1748468040.076089",
      "is_reply": false
    },
    {
      "sender": "Victor Zeng",
      "user_id": "U03JT46AUPP",
      "message": "Looks like a merge conflict between mine and @Sayan’s PR. I will fix.",
      "time": "14:36",
      "timestamp": "1748468174.532399",
      "is_reply": true
    },
    {
      "sender": "Victor Zeng",
      "user_id": "U03JT46AUPP",
      "message": "https://github.com/instabase/instabase/pull/70986",
      "time": "14:43",
      "timestamp": "1748468584.760669",
      "is_reply": true
    },
    {
      "sender": "Victor Zeng",
      "user_id": "U03JT46AUPP",
      "message": "@Heymian force merge plz?",
      "time": "14:46",
      "timestamp": "1748468778.648839",
      "is_reply": true
    },
    {
      "sender": "Anil",
      "user_id": "U01BH8XBR55",
      "message": "merged it in :slightly_smiling_face:",
      "time": "14:51",
      "timestamp": "1748469067.979669",
      "is_reply": true
    },
    {
      "sender": "Victor Zeng",
      "user_id": "U03JT46AUPP",
      "message": "Thanks!",
      "time": "14:51",
      "timestamp": "1748469091.727839",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2025-05-28.json",
    "message_count": 6,
    "start_time": "1748468040.076089",
    "end_time": "1748469091.727839",
    "is_thread": true
  }
}