{
  "id": "ch_C06FA6A23_2020-06-02_1591139974.457100_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Heymian",
    "lydia",
    "achao"
  ],
  "messages": [
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "hey @Heymian @achao seeing this in file service logs:\n```[2020-06-02 23:19:02,940] {/instabase/file-tservice/instabase/storage/fileservice/handler.py:161} ERROR - !FileHandler exception: An error occurred (AuthorizationHeaderMalformed) when calling the ListObjectsV2 operation: The authorization header is malformed; a non-empty Access Key (AKID) must be provided in the credential.\n\nTraceback (most recent call last):\n\n  File \"/instabase/file-tservice/instabase/storage/fileservice/handler.py\", line 147, in run_method\n\n    return f(*args, **kwargs)\n\n  File \"/instabase/file-tservice/instabase/storage/fileservice/handler.py\", line 803, in stat\n\n    return client.stat(file_path)\n\n  File \"/instabase/file-tservice/instabase/storage/fileservice/s3client_boto3.py\", line 1065, in stat\n\n    path_type = self._get_type(abs_path)\n\n  File \"/instabase/file-tservice/instabase/storage/fileservice/s3client_boto3.py\", line 285, in _get_type\n\n    is_dir = self._is_dir(abs_path)\n\n  File \"/instabase/file-tservice/instabase/storage/fileservice/s3client_boto3.py\", line 278, in _is_dir\n\n    Delimiter=_FILE_SEP)\n\n  File \"/home/ibuser/.local/lib/python3.7/site-packages/botocore/client.py\", line 357, in _api_call\n\n    return self._make_api_call(operation_name, kwargs)\n\n  File \"/home/ibuser/.local/lib/python3.7/site-packages/botocore/client.py\", line 661, in _make_api_call\n\n    raise error_class(parsed_response, operation_name)\n\nbotocore.exceptions.ClientError: An error occurred (AuthorizationHeaderMalformed) when calling the ListObjectsV2 operation: The authorization header is malformed; a non-empty Access Key (AKID) must be provided in the credential.\n\n\n\n[2020-06-02 23:19:02,960] {/instabase/file-tservice/instabase/storage/fileservice/util/fs_common.py:44} ERROR - : An error occurred while accessing your filesystem.```",
      "time": "16:19",
      "timestamp": "1591139974.457100",
      "is_reply": false
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "on local dev. is this an issue or something wrong with my dev system?",
      "time": "16:19",
      "timestamp": "1591139995.457300",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "I think something might be wrong with your aws creds? If you go to your home dir ~/.aws what do you see in there",
      "time": "16:20",
      "timestamp": "1591140039.457500",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "actually.. PM so you donâ€™t share your aws creds with the world",
      "time": "16:20",
      "timestamp": "1591140047.457700",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "haha",
      "time": "16:20",
      "timestamp": "1591140059.457900",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "i see the credentials. haven't touched them",
      "time": "16:21",
      "timestamp": "1591140068.458100",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "[default]\naws_access_key_id = XXX\naws_secret_access_key = XXXX",
      "time": "16:21",
      "timestamp": "1591140094.458300",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "and config?",
      "time": "16:21",
      "timestamp": "1591140107.458500",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "should be right right? (xxx contains my actual keys)",
      "time": "16:21",
      "timestamp": "1591140112.458700",
      "is_reply": true
    },
    {
      "sender": "achao",
      "user_id": "UH026QKA4",
      "message": "hmm this is local?",
      "time": "16:21",
      "timestamp": "1591140118.458900",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "[default]\nregion = us-east-1",
      "time": "16:22",
      "timestamp": "1591140120.459100",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "yea localhost",
      "time": "16:22",
      "timestamp": "1591140122.459300",
      "is_reply": true
    },
    {
      "sender": "achao",
      "user_id": "UH026QKA4",
      "message": "is mountservice running / try restarting it?",
      "time": "16:22",
      "timestamp": "1591140139.459500",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "yea. i brew uninstalled python2.7 today - could that have caused these issues?",
      "time": "16:23",
      "timestamp": "1591140191.459800",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "i see this when i start the dockers, though they seem to run fine\n```ERROR - Could not start service - mount-tservice. Error=b'Traceback (most recent call last):\\n  File \"/usr/local/bin/aws\", line 19, in <module>\\n    import awscli.clidriver\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/awscli/clidriver.py\", line 17, in <module>\\n    import botocore.session\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/session.py\", line 30, in <module>\\n    import botocore.credentials\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/credentials.py\", line 34, in <module>\\n    from botocore.config import Config\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/config.py\", line 16, in <module>\\n    from botocore.endpoint import DEFAULT_TIMEOUT, MAX_POOL_CONNECTIONS\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/endpoint.py\", line 22, in <module>\\n    from botocore.awsrequest import create_request_object\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/awsrequest.py\", line 26, in <module>\\n    import botocore.utils\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/utils.py\", line 31, in <module>\\n    import botocore.httpsession\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/httpsession.py\", line 7, in <module>\\n    from urllib3.util.ssl_ import (\\nImportError: cannot import name \\'ssl\\' from \\'urllib3.util.ssl_\\' (/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/urllib3/util/ssl_.py)\\nTraceback (most recent call last):\\n  File \"/usr/local/bin/aws\", line 19, in <module>\\n    import awscli.clidriver\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/awscli/clidriver.py\", line 17, in <module>\\n    import botocore.session\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/session.py\", line 30, in <module>\\n    import botocore.credentials\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/credentials.py\", line 34, in <module>\\n    from botocore.config import Config\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/config.py\", line 16, in <module>\\n    from botocore.endpoint import DEFAULT_TIMEOUT, MAX_POOL_CONNECTIONS\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/endpoint.py\", line 22, in <module>\\n    from botocore.awsrequest import create_request_object\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/awsrequest.py\", line 26, in <module>\\n    import botocore.utils\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/utils.py\", line 31, in <module>\\n    import botocore.httpsession\\n  File \"/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/botocore/httpsession.py\", line 7, in <module>\\n    from urllib3.util.ssl_ import (\\nImportError: cannot import name \\'ssl\\' from \\'urllib3.util.ssl_\\' (/usr/local/Cellar/awscli/1.16.220/libexec/lib/python3.7/site-packages/urllib3/util/ssl_.py)\\n'```",
      "time": "16:24",
      "timestamp": "1591140246.460000",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "oh actually that makes sense that this is because i uninstalled python 2.7",
      "time": "16:24",
      "timestamp": "1591140281.460200",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "it was probably used by aws cli",
      "time": "16:24",
      "timestamp": "1591140288.460400",
      "is_reply": true
    },
    {
      "sender": "achao",
      "user_id": "UH026QKA4",
      "message": "mm yeah looks like a python dependency is out of date",
      "time": "16:25",
      "timestamp": "1591140334.460600",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "yea this is a me problem :stuck_out_tongue: thanks!",
      "time": "16:26",
      "timestamp": "1591140405.460800",
      "is_reply": true
    },
    {
      "sender": "achao",
      "user_id": "UH026QKA4",
      "message": "np!",
      "time": "16:29",
      "timestamp": "1591140563.461000",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2020-06-02.json",
    "message_count": 20,
    "start_time": "1591139974.457100",
    "end_time": "1591140563.461000",
    "is_thread": true
  }
}