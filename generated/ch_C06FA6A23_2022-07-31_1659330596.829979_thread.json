{
  "id": "ch_C06FA6A23_2022-07-31_1659330596.829979_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "shaunak",
    "Pranjal Rai",
    "Shubham Oli"
  ],
  "messages": [
    {
      "sender": "Shubham Oli",
      "user_id": "U01CKNF7BSL",
      "message": "Hi Team,\n\nI’ve just merged and deployed a PR in dogfood which upgrades Flask (and other deps) to v2.1.2 from v1.1.2. Since this is a major version upgrade I’ll need your help to make sure everything is working as expected.\n\nThe services are:\n• 4 web services\n• Runner service\n• nb-reaper\n• model-service\n• celery-webdriver-tasks\nPlease verify the components once which you own so that it becomes easier to validate the change across multiple services.\n\nThank you!! in advance.\n\ncc: @shaunak @Heymian @Rakesh @Naveen @Pranjal Rai\n\nNote(s):\n• *You’ll need to run `pip install -r tools/devtools/code-dependencies/python/requirements_py37.txt` in your local to update the dependencies once you pull/rebase from the latest master.*\n• *Changes are still not cherrypicked to the older release so things might break in case you switch to an older release in your lcoal*",
      "time": "22:09",
      "timestamp": "1659330596.829979",
      "is_reply": false
    },
    {
      "sender": "Pranjal Rai",
      "user_id": "USA5NG0JC",
      "message": "Hey Shubham,\nI just took the latest master and facing some issues.\nGetting this error while trying to start the webservices:\n```cd /Users/hari/workspace/instabase/webserver/api-server/build/py && /bin/bash start-local.sh\nError: While importing 'py.manage', an ImportError was raised:\n\nTraceback (most recent call last):\n  File \"/Users/hari/workspace/venv3/lib/python3.7/site-packages/flask/cli.py\", line 234, in locate_app\n    __import__(module_name)\n  File \"/Users/hari/workspace/instabase/webserver/api-server/build/py/manage.py\", line 7, in <module>\n    from instabase.server import config\nModuleNotFoundError: No module named 'instabase'\n\n\nUsage: flask [OPTIONS] COMMAND [ARGS]...\nTry 'flask --help' for help.\n\nError: No such command 'gevent_server'.\nmake: *** [runlocal] Error 2```\nI have the requests-oauthlib version as 1.1.0 and oauthlib version as 2.1.0",
      "time": "23:24",
      "timestamp": "1659335062.322619",
      "is_reply": true
    },
    {
      "sender": "Shubham Oli",
      "user_id": "U01CKNF7BSL",
      "message": "This is local?",
      "time": "23:28",
      "timestamp": "1659335294.775789",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "Hey @Shubham Oli, we might require upgrading requirements.in (http://requirements.in) and requirements.txt for local development as well?",
      "time": "23:29",
      "timestamp": "1659335344.361449",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "And ask people to upgrade their Flask libraries?",
      "time": "23:29",
      "timestamp": "1659335370.350749",
      "is_reply": true
    },
    {
      "sender": "Pranjal Rai",
      "user_id": "USA5NG0JC",
      "message": "Yes Shubham, it's local env",
      "time": "23:32",
      "timestamp": "1659335556.325769",
      "is_reply": true
    },
    {
      "sender": "Shubham Oli",
      "user_id": "U01CKNF7BSL",
      "message": "I’ve already updated the versions in requirements.in (http://requirements.in) and txt for local.\n\n@Pranjal Rai do you see the same error after you run `pip install -r tools/devtools/code-dependencies/python/requirements_py37.txt`",
      "time": "23:37",
      "timestamp": "1659335873.627869",
      "is_reply": true
    },
    {
      "sender": "Shubham Oli",
      "user_id": "U01CKNF7BSL",
      "message": "@Pranjal Rai let’s connect sometime today and fix this? this will break for everyone",
      "time": "23:38",
      "timestamp": "1659335937.449949",
      "is_reply": true
    },
    {
      "sender": "Pranjal Rai",
      "user_id": "USA5NG0JC",
      "message": "Hey Shubham,\nGot this error while installing the deps\n```ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\nflask-oauthlib 0.9.6 requires oauthlib!=2.0.3,!=2.0.4,!=2.0.5,<3.0.0,>=1.1.2, but you have oauthlib 3.2.0 which is incompatible.\nflask-oauthlib 0.9.6 requires requests-oauthlib<1.2.0,>=0.6.2, but you have requests-oauthlib 1.3.1 which is incompatible.```",
      "time": "23:39",
      "timestamp": "1659335983.932929",
      "is_reply": true
    },
    {
      "sender": "Pranjal Rai",
      "user_id": "USA5NG0JC",
      "message": "Let me know when you're free to connect.",
      "time": "23:40",
      "timestamp": "1659336000.776779",
      "is_reply": true
    },
    {
      "sender": "Shubham Oli",
      "user_id": "U01CKNF7BSL",
      "message": "call?",
      "time": "23:40",
      "timestamp": "1659336004.258159",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "@Shubham Oli ok cool!  Let's add the instructions for engineers to also update their venvs?",
      "time": "23:40",
      "timestamp": "1659336009.984249",
      "is_reply": true
    },
    {
      "sender": "Pranjal Rai",
      "user_id": "USA5NG0JC",
      "message": "Sure",
      "time": "23:40",
      "timestamp": "1659336010.350289",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2022-07-31.json",
    "message_count": 13,
    "start_time": "1659330596.829979",
    "end_time": "1659336010.350289",
    "is_thread": true
  }
}