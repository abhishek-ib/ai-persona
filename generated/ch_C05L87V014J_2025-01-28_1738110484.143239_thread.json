{
  "id": "ch_C05L87V014J_2025-01-28_1738110484.143239_thread",
  "type": "channel",
  "channel_name": "ask-crafting",
  "conversation_type": "thread",
  "participants": [
    "prateek.tenkale",
    "mfichman"
  ],
  "messages": [
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Hey all, I'm trying to make API requests to my crafting sandbox from postman running on my mac. I created an API token from my Settings page, tried using that as a Bearer Token in the Authorization header in Postman, but it just seems to return html for the sandboxes sign in page. How would we be able to get around this?",
      "time": "16:28",
      "timestamp": "1738110484.143239",
      "is_reply": false
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Ah, this is because of Crafting's gateway, which requires Okta authentication first.\n\nOne way around this that I know is to tunnel port 80 out of your sandbox and onto your laptop's port 8080, like so:\n\n```cs ssh -- -L8080:localhost:80```\nThen you can connect to your sandbox on http://localhost:8080 (NOT https)",
      "time": "16:32",
      "timestamp": "1738110733.002359",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Theoretically, there's probably a way to put the Okta token into your API request, but I haven't personally tried that. You could try going to your browser, finding an API request, right-click => copy as cURL and look for whatever header has the Okta token.",
      "time": "16:33",
      "timestamp": "1738110799.158059",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "If you have trouble, set a short meeting w/ me and I can demonstrate",
      "time": "16:34",
      "timestamp": "1738110848.913859",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Yup makes sense! Will give ssh a try. Copy as curl seemed to work",
      "time": "16:35",
      "timestamp": "1738110931.728429",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "I played around with it a bit, there's this `cloudsandbox-ap-token` cookie that you can set as well to get past okta login",
      "time": "16:36",
      "timestamp": "1738110993.739279",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "If I just set the same cookie in Postman as is set in browser it seems to work",
      "time": "16:38",
      "timestamp": "1738111130.723579",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C05L87V014J",
    "channel_name": "ask-crafting",
    "date_file": "2025-01-28.json",
    "message_count": 7,
    "start_time": "1738110484.143239",
    "end_time": "1738111130.723579",
    "is_thread": true
  }
}