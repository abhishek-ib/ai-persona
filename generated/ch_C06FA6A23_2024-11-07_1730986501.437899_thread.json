{
  "id": "ch_C06FA6A23_2024-11-07_1730986501.437899_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "HH",
    "puneet",
    "raman.goel"
  ],
  "messages": [
    {
      "sender": "puneet",
      "user_id": "U01J76ED68Z",
      "message": "> Also lmk if you can get it working on aihub-sandbox.internal! I can't seem to select any service there on the Jaeger UI.\nfor aihub-sandbox, I am seeing the query error out in jaeger, looking at the logs, this looks like an issue with elasticsearch. Can you check if elasticsearch / opensearch is running?  -\n```2024-11-07T13:17:17.261216084Z stderr F {\"level\":\"error\",\"ts\":1730985437.2608225,\"caller\":\"config/config.go:155\",\"msg\":\"Elasticsearch could not process bulk request\",\"request_count\":1,\"failed_count\":0,\"error\":\"no available connection: no Elasticsearch node available\",\"errorVerbose\":\"no Elasticsearch node available\\ngithub.com/olivere/elastic.init (http://ngithub.com/olivere/elastic.init)\\n\\t<autogenerated>:1\\nruntime.doInit1\\n\\truntime/proc.go:7176\\nruntime.doInit\\n\\truntime/proc.go:7143\\nruntime.main\\n\\truntime/proc.go:253\\nruntime.goexit\\n\\truntime/asm_amd64.s:1695\\nno available connection\\ngithub.com/olivere/elastic.(*Client).next (http://ngithub.com/olivere/elastic.(*Client).next)\\n\\tgithub.com/olivere/elastic@v6.2.37+incompatible/client.go:1226\\ngithub.com/olivere/elastic.(*Client).PerformRequest\\n\\tgithub.com/olivere/elastic@v6.2.37+incompatible/client.go:1301\\ngithub.com/olivere/elastic.(*BulkService).Do\\n\\tgithub.com/olivere/elastic@v6.2.37+incompatible/bulk.go:298\\ngithub.com/olivere/elastic.(*bulkWorker).commit.func1\\n\\tgithub.com/olivere/elastic@v6.2.37+incompatible/bulk_processor.go:535\\ngithub.com/olivere/elastic.RetryNotify\\n\\tgithub.com/olivere/elastic@v6.2.37+incompatible/retry.go:40\\ngithub.com/olivere/elastic.(*bulkWorker).commit\\n\\tgithub.com/olivere/elastic@v6.2.37+incompatible/bulk_processor.go:580\\ngithub.com/olivere/elastic.(*bulkWorker).work\\n\\tgithub.com/olivere/elastic@v6.2.37+incompatible/bulk_processor.go:501\\nruntime.goexit\\n\\truntime/asm_amd64.s:1695\",\"response\":null,\"stacktrace\":\"github.com/jaegertracing/jaeger/pkg/es/config.NewClient.func2\\n\\tgithub.com/jaegertracing/jaeger/pkg/es/config/config.go:155\\ngithub.com/olivere/elastic.(*bulkWorker).commit\\n\\tgithub.com/olivere/elastic@v6.2.37+incompatible/bulk_processor.go:588\\ngithub.com/olivere/elastic.(*bulkWorker).work\\n\\tgithub.com/olivere/elastic@v6.2.37+incompatible/bulk_processor.go:501\"}```\ncc @raman.goel",
      "time": "05:35",
      "timestamp": "1730986501.437899",
      "is_reply": false
    },
    {
      "sender": "puneet",
      "user_id": "U01J76ED68Z",
      "message": "In AIHub, I tried looking into the logs but did not find anything, also did not see any errors. I am able to search, but with trace ID we are getting 404 which means the trace is not found.\nI confirmed that jaeger is able to store the spans in opensearch, so could be a problem from either querying or retention of traces in storage.\nOne hypothesis I have is if we are dropping the spans in storage due to it being full. I am not able to see elasticsearch stats though in grafana, @HH do you if we can look at ES stats to check how much storage jaeger is taking?\n\nI will try to reproduce this in a sandbox to do further debugging.",
      "time": "05:56",
      "timestamp": "1730987786.798929",
      "is_reply": true
    },
    {
      "sender": "HH",
      "user_id": "U03S42PSK5M",
      "message": "@raman.goel can you check ES stats once?",
      "time": "06:03",
      "timestamp": "1730988204.584229",
      "is_reply": true
    },
    {
      "sender": "raman.goel",
      "user_id": "U03T8ARCDDE",
      "message": "Since, AIHUB is using managed ES,  I will need to get the TPAM. I will check this in sometime. Since we donâ€™t have that metric in our central obs",
      "time": "21:48",
      "timestamp": "1731044936.391309",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2024-11-07.json",
    "message_count": 4,
    "start_time": "1730986501.437899",
    "end_time": "1731044936.391309",
    "is_thread": true
  }
}