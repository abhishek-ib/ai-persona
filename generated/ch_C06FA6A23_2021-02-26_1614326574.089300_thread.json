{
  "id": "ch_C06FA6A23_2021-02-26_1614326574.089300_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Mohit",
    "sudeep",
    "Aaron Tami",
    "Naveen",
    "shaunak",
    "Karthik S"
  ],
  "messages": [
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "For licensing service you can probably set:\n```            - name: GRPC_MAX_CONNECTION_AGE_SECONDS\n              value: \"30000\"```\nto a very high value",
      "time": "00:02",
      "timestamp": "1614326574.089300",
      "is_reply": false
    },
    {
      "sender": "Aaron Tami",
      "user_id": "UGG8PLD2P",
      "message": "Setting that high seems to help",
      "time": "00:03",
      "timestamp": "1614326630.089800",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "interesting … @Aaron Tami when you say seems to help. does this mean it reduces the frequency of error or does it removes the error altogether ?",
      "time": "00:05",
      "timestamp": "1614326717.090300",
      "is_reply": true
    },
    {
      "sender": "Karthik S",
      "user_id": "UDQNWKX1P",
      "message": "There is one side effect of setting GRPC_MAX_CONNECTION_AGE_SECONDS to 30000 - Since Go is garbage collected, the buffers associated with the connections wont be garbage collected quickly, leading to increased memory footprint. I'll set it to 30000 and see if the issue goes away .",
      "time": "00:05",
      "timestamp": "1614326718.090500",
      "is_reply": true
    },
    {
      "sender": "Aaron Tami",
      "user_id": "UGG8PLD2P",
      "message": "Yes, setting it high or eliminating it helps reduce how often the connections restart and helps reduce this error. However we still do see it sometimes, but the retry logic seems to be sufficient to handle the remaining errors",
      "time": "00:06",
      "timestamp": "1614326793.092100",
      "is_reply": true
    },
    {
      "sender": "Karthik S",
      "user_id": "UDQNWKX1P",
      "message": "Have anyone looked into gRPC interceptors? It appears this is being used to intercept a channel and do some introspection.",
      "time": "09:12",
      "timestamp": "1614359543.094300",
      "is_reply": true
    },
    {
      "sender": "Naveen",
      "user_id": "U0163TS8GR5",
      "message": "cc: @puneet @sudeep",
      "time": "09:12",
      "timestamp": "1614359563.094500",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "@Karthik S  - there is stats work for grpc coming in to surface more info on channels, rpc requests etc here. More details here - \n\nhttps://docs.google.com/document/d/1gXFUeBkiKWvtr_IqYHaaIYdYBmV-jaUqmmeZBNFUzfM/edit (https://docs.google.com/document/d/1gXFUeBkiKWvtr_IqYHaaIYdYBmV-jaUqmmeZBNFUzfM/edit)",
      "time": "18:01",
      "timestamp": "1614391263.097600",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "The PRs for these are already out, and once they get merged we’d be able to surface this across all grpc services on both client and server side",
      "time": "18:02",
      "timestamp": "1614391346.100000",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "This should help us get some kore insights on how we can narrow down on issues like these.",
      "time": "18:04",
      "timestamp": "1614391451.101700",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "Also looking to explore grpc load balancers to see if we can avoid forced timeouts once there is capacity",
      "time": "18:05",
      "timestamp": "1614391505.103200",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "Will be interested in knowing what your findings also are @Mohit @Naveen @Karthik S",
      "time": "18:05",
      "timestamp": "1614391540.104200",
      "is_reply": true
    },
    {
      "sender": "Karthik S",
      "user_id": "UDQNWKX1P",
      "message": "This is such a well written document. This will be hugely helpful to narrow down issues like the ones we are seeing.",
      "time": "20:39",
      "timestamp": "1614400751.104600",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2021-02-26.json",
    "message_count": 13,
    "start_time": "1614326574.089300",
    "end_time": "1614400751.104600",
    "is_thread": true
  }
}