{
  "id": "ch_C05L87V014J_2025-01-29_1738143000.926919_thread",
  "type": "channel",
  "channel_name": "ask-crafting",
  "conversation_type": "thread",
  "participants": [
    "mfichman",
    "Vasu"
  ],
  "messages": [
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Hi Team, getting the below error specifically while trying to build an image for webdriver-tasks on the latest master in my crafting. And this is happening only for webdriver-tasks, not any other service.\n```#22 ERROR: error writing layer blob: unexpected status from POST request to https://549230430157.dkr.ecr.us-east-2.amazonaws.com/v2/instabase-build/celery-webdriver-tasks/blobs/uploads/: 404 Not Found\n------\n > importing cache manifest from 549230430157.dkr.ecr.us-east-2.amazonaws.com/instabase-build/celery-webdriver-tasks:cache (http://549230430157.dkr.ecr.us-east-2.amazonaws.com/instabase-build/celery-webdriver-tasks:cache):\n------\n------\n > exporting cache to registry:\n------\nERROR: failed to solve: error writing layer blob: unexpected status from POST request to https://549230430157.dkr.ecr.us-east-2.amazonaws.com/v2/instabase-build/celery-webdriver-tasks/blobs/uploads/: 404 Not Found\nmake: *** [/home/owner/instabase/distributed-tasks/celery/webdriver-tasks/../../../shared-utils/build-utils/shared/build-python.mk:154: build-docker-py-default] Error 1```\nCan someone help take a look?",
      "time": "01:30",
      "timestamp": "1738143000.926919",
      "is_reply": false
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "@Vasu can you try running it again with any env cars related to docker cleared?",
      "time": "03:31",
      "timestamp": "1738150311.357189",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Hey Matt, I haven't set any env vars related to docker in the first place. Tried it with a fresh sandbox too and it fails still :blob_sad:",
      "time": "03:33",
      "timestamp": "1738150384.595489",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Yes, please check your environment and clear them anyway:)",
      "time": "03:33",
      "timestamp": "1738150432.877209",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "I think the docker cache settings in crafting are interfering with the build. The cache repo for web driver is not set up in ECR.",
      "time": "03:34",
      "timestamp": "1738150482.786299",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Oh I see. I see a bunch that point to ecr by default.",
      "time": "03:36",
      "timestamp": "1738150573.901439",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Not actually a bunch, just the two: `DOCKER_REGISTRY` & `DOCKER_BUILD_LOCAL_EXTRA_ARGS` .",
      "time": "03:36",
      "timestamp": "1738150615.335589",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "When Iâ€™m at my laptop, I can fix the cache configuration for webdriver. But this will unblock you for now.",
      "time": "03:40",
      "timestamp": "1738150824.768859",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Tysm Matt :raised_hands::skin-tone-2:",
      "time": "03:40",
      "timestamp": "1738150852.514939",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C05L87V014J",
    "channel_name": "ask-crafting",
    "date_file": "2025-01-29.json",
    "message_count": 9,
    "start_time": "1738143000.926919",
    "end_time": "1738150852.514939",
    "is_thread": true
  }
}