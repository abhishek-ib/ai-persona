{
  "id": "ch_C06FA6A23_2020-03-18_1584556953.403500_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Eric Han",
    "John St",
    "sudeep"
  ],
  "messages": [
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "hey I keep running into this trying to get the webapp to build/run locally. Anyone else that ran into this, and any way to fix this? -\n```[1/4] üîç  Resolving packages...\nsuccess Already up-to-date.\n‚ú®  Done in 0.88s.\n./node_modules/.bin/webpack --config webpack.config.js --env.envName=dev --env.customer='default'\n\n<--- Last few GCs --->\n\n[24629:0x104800000]    26858 ms: Mark-sweep 1349.3 (1397.3) -> 1349.3 (1397.8) MB, 322.0 / 0.0 ms  allocation failure GC in old space requested\n[24629:0x104800000]    27202 ms: Mark-sweep 1349.3 (1397.8) -> 1349.3 (1390.8) MB, 344.0 / 0.0 ms  last resort GC in old space requested\n[24629:0x104800000]    27520 ms: Mark-sweep 1349.3 (1390.8) -> 1349.3 (1390.8) MB, 317.9 / 0.0 ms  last resort GC in old space requested\n\n\n<--- JS stacktrace --->\n\n==== JS stack trace =========================================\n\nSecurity context: 0x1e98d2025891 <JSObject>\n    1: fromString(aka fromString) [buffer.js:~298] [pc=0x2cd46601dce6](this=0x1e98b3c022d1 <undefined>,string=0x1e989ea53a41 <Very long string[12822626]>,encoding=0x1e98d2035b29 <String[4]: utf8>)\n    2: from [buffer.js:177] [bytecode=0x1e981646f181 offset=11](this=0x1e98459b5dd9 <JSFunction Buffer (sfi = 0x1e98d207e529)>,value=0x1e989ea53a41 <Very long string[12822626]>,encodingOrOffset=0x1e98d...\n\nFATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory\n 1: node::Abort() [/usr/local/opt/node@8/bin/node]\n 2: node::FatalException(v8::Isolate*, v8::Local<v8::Value>, v8::Local<v8::Message>) [/usr/local/opt/node@8/bin/node]\n 3: v8::Utils::ReportOOMFailure(char const*, bool) [/usr/local/opt/node@8/bin/node]```",
      "time": "11:42",
      "timestamp": "1584556953.403500",
      "is_reply": false
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "cc <!subteam^SQC4GLFN2>",
      "time": "11:44",
      "timestamp": "1584557052.403600",
      "is_reply": true
    },
    {
      "sender": "John St",
      "user_id": "USZGMEV6K",
      "message": "Hi there, if you run `make build-local`  from within `/instabase/webserver/shared/src/js/webpacked` that should fix that issue for you.",
      "time": "11:49",
      "timestamp": "1584557374.403800",
      "is_reply": true
    },
    {
      "sender": "John St",
      "user_id": "USZGMEV6K",
      "message": "or if you are running another way you can try prepending this to your build command `NODE_OPTIONS=--max_old_space_size=4096`",
      "time": "11:50",
      "timestamp": "1584557418.404000",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "So i am trying to run webserver and had done\n`make clean build runlocal` as always. I am trying to run `make build-local` now as you suggested but it‚Äôs still stuck",
      "time": "11:58",
      "timestamp": "1584557906.404200",
      "is_reply": true
    },
    {
      "sender": "Eric Han",
      "user_id": "UKPHNU5QE",
      "message": "build-local is always running with that flag already. I think it‚Äôs just there might not be enough memory given to node? try increasing that limit in `webserver/shared/src/js/webpacked/Makefile` under `bundle-local` to 8192?",
      "time": "12:00",
      "timestamp": "1584558037.404400",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "great thank you both. All sorted :thumbsup:",
      "time": "12:02",
      "timestamp": "1584558127.404600",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2020-03-18.json",
    "message_count": 7,
    "start_time": "1584556953.403500",
    "end_time": "1584558127.404600",
    "is_thread": true
  }
}