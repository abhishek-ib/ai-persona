{
  "id": "ch_C06FA6A23_2019-08-21_1566399255.394600_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "shaunak",
    "Aaron Vontell",
    "Chetan",
    "Jonathan Shih"
  ],
  "messages": [
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Is there a way to unit test a flow step? I notice that flow-lib doesn’t have any tests",
      "time": "07:54",
      "timestamp": "1566399255.394600",
      "is_reply": false
    },
    {
      "sender": "Chetan",
      "user_id": "UE3TJAR9U",
      "message": "Yea. Basically everything added to flow/server is unit testable. That's where all the main flow integration code should be",
      "time": "08:13",
      "timestamp": "1566400416.394700",
      "is_reply": true
    },
    {
      "sender": "Chetan",
      "user_id": "UE3TJAR9U",
      "message": "Where / what is the code you are trying to unit test?",
      "time": "08:13",
      "timestamp": "1566400423.394900",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "I am adding a new flow step, so the issue here is that there is soooo much code to put in when doing that as well, so it’s not very clear where the best spot is",
      "time": "08:16",
      "timestamp": "1566400577.395100",
      "is_reply": true
    },
    {
      "sender": "Chetan",
      "user_id": "UE3TJAR9U",
      "message": "Hmm (1) check with karthik if you should bother building out flow v1 support, if only v2 then I can help you with most of it, and (2) if you want we can chat today and I can show you how the redactor flow integration works. The design should be extremely similar for your steps I'd say",
      "time": "08:27",
      "timestamp": "1566401269.395300",
      "is_reply": true
    },
    {
      "sender": "Chetan",
      "user_id": "UE3TJAR9U",
      "message": "We can cover testing in that discussion",
      "time": "08:28",
      "timestamp": "1566401290.395600",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "That would be extremely helpful - I’ll put a time on our calendar",
      "time": "08:28",
      "timestamp": "1566401317.395800",
      "is_reply": true
    },
    {
      "sender": "Chetan",
      "user_id": "UE3TJAR9U",
      "message": "Thanks. One caveat: I'm not sure how to make the flow step show up on the front end. That might be something you need to chat with ted/someone else about",
      "time": "08:32",
      "timestamp": "1566401535.396000",
      "is_reply": true
    },
    {
      "sender": "Chetan",
      "user_id": "UE3TJAR9U",
      "message": "https://docs.google.com/document/d/17CAXUe1AO_EHt82MD37UbnTLotL46r0jY7CoAajt5YM/edit# here's the doc I wrote on this btw",
      "time": "08:34",
      "timestamp": "1566401647.396300",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "from what i understand, you don’t actually unit test the celery task, and you just extract all the contents of the task into a separate function in another file and unit test that instead. there was so much set up of additional resources in the registry/tasks.py file that it becomes hard to unit test",
      "time": "08:53",
      "timestamp": "1566402822.396900",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": ":point_up_2::skin-tone-4: what @Jonathan Shih and @Chetan said.  You can look at `flow_batch_lib` and `test_flow_batch_lib` to see how various tasks are being currently tested.\n\nI would like for us to keep the tasks.py as small as possible and separate out the tasks in independent modules so that we can test them easily",
      "time": "09:28",
      "timestamp": "1566404920.397100",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2019-08-21.json",
    "message_count": 11,
    "start_time": "1566399255.394600",
    "end_time": "1566404920.397100",
    "is_thread": true
  }
}