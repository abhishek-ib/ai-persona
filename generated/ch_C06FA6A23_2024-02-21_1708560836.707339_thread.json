{
  "id": "ch_C06FA6A23_2024-02-21_1708560836.707339_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "sean.donohoe",
    "tony.shi"
  ],
  "messages": [
    {
      "sender": "tony.shi",
      "user_id": "U03R8QN7VQA",
      "message": "On the latest master, there's some issues with python versioning when running locally. For example, in apps-server:\n\n```Current Python version (3.9.15) is not allowed by the project (3.9.17).\nPlease change python executable via the \"env use\" command.\nmake: *** [update-python] Error 1```\nSpecifying `poetry env use 3.9.17` didnt's seem to fix it.\n\nI'm crrently trying to fix a fix by specifying a python version in the makefile. If any of y'all found another way around this, that would be helpful!",
      "time": "16:13",
      "timestamp": "1708560836.707339",
      "is_reply": false
    },
    {
      "sender": "sean.donohoe",
      "user_id": "U04JYSDMV63",
      "message": "Did you first install 3.9.17 with pyenv?\n\nIf so the command you should use is `poetry env use $(pyenv root)/versions/3.9.17/bin/python`, then try to build again",
      "time": "16:38",
      "timestamp": "1708562310.869149",
      "is_reply": true
    },
    {
      "sender": "tony.shi",
      "user_id": "U03R8QN7VQA",
      "message": "I did\n\n```➜  apps-server git:(master) ✗ pyenv versions\n  system\n  3.7.13\n  3.7.17\n  3.9.15\n* 3.9.17 (set by /Users/tonyshi/instabase/webserver/apps-server/.python-version)```",
      "time": "16:39",
      "timestamp": "1708562358.449059",
      "is_reply": true
    },
    {
      "sender": "sean.donohoe",
      "user_id": "U04JYSDMV63",
      "message": "should just need to tweak your `poetry env use` command like above then :slightly_smiling_face:",
      "time": "16:40",
      "timestamp": "1708562417.985209",
      "is_reply": true
    },
    {
      "sender": "sean.donohoe",
      "user_id": "U04JYSDMV63",
      "message": "(would also suggest using crafting (https://instabase.atlassian.net/wiki/spaces/TI/pages/2107605012/Development+Sandboxes+with+Crafting) to have this stuff automatically managed for you)",
      "time": "16:41",
      "timestamp": "1708562485.090069",
      "is_reply": true
    },
    {
      "sender": "tony.shi",
      "user_id": "U03R8QN7VQA",
      "message": "I think the poetry env is changed correctly, but I'm still getting the same errors. Will give crafting a go\n\n*`➜ apps-server`* `*git:(master) ✗* poetry env use 3.9.17`\nUsing virtualenv: /Users/tonyshi/Library/Caches/pypoetry/virtualenvs/apps-server-Ugn7zxJP-py3.9",
      "time": "16:42",
      "timestamp": "1708562579.010509",
      "is_reply": true
    },
    {
      "sender": "sean.donohoe",
      "user_id": "U04JYSDMV63",
      "message": "huh that's odd, you used to have to specify the full path to the python binary you want to use in order for poetry to pick it up correctly",
      "time": "16:44",
      "timestamp": "1708562660.089859",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2024-02-21.json",
    "message_count": 7,
    "start_time": "1708560836.707339",
    "end_time": "1708562660.089859",
    "is_thread": true
  }
}