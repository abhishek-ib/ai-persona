{
  "id": "ch_C05L87V014J_2024-12-18_1734552696.571549_thread",
  "type": "channel",
  "channel_name": "ask-crafting",
  "conversation_type": "thread",
  "participants": [
    "Weiming Wu",
    "mfichman",
    "Jessica"
  ],
  "messages": [
    {
      "sender": "Weiming Wu",
      "user_id": "U03DZ9Y4MC2",
      "message": "Hi guys\nTLDR: running into internal server error on my sandbox https://instabase.sandboxes.site/sandboxes/weimingwu?cw=dev\nI was working on Crafting earlier, went into a meeting, and it started to bug out with random service failures (some API calls failed, then webpack chunks refused to load), so I deleted and recreated the sandbox, and now it's just completely broken with 500 errors...",
      "time": "12:11",
      "timestamp": "1734552696.571549",
      "is_reply": false
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "I'm also having this issue, been trying to fix it for the last half hour :grimacing:",
      "time": "12:15",
      "timestamp": "1734552940.774479",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "I created a brand new sandbox and am still having this problem on it",
      "time": "12:15",
      "timestamp": "1734552951.463439",
      "is_reply": true
    },
    {
      "sender": "Weiming Wu",
      "user_id": "U03DZ9Y4MC2",
      "message": "Ah it's no longer giving 500 errors but is still giving the errors with webpack chunks not loading :disappointed:",
      "time": "12:15",
      "timestamp": "1734552957.869469",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "@sean.donohoe",
      "time": "12:15",
      "timestamp": "1734552958.494929",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "I can load the homepage fine but when I go to any other pages it breaks. I also tried going back a few days in the git history to see if it was a frontend bug but that didn't work either",
      "time": "12:16",
      "timestamp": "1734552994.355789",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "This is not an issue on https://crafting-aihub.test.instabase.com/",
      "time": "12:18",
      "timestamp": "1734553091.365699",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "@mfichman too",
      "time": "12:18",
      "timestamp": "1734553098.402849",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "I don't see anything suspicious in git commits. Was something updated with crafting?",
      "time": "12:20",
      "timestamp": "1734553203.492109",
      "is_reply": true
    },
    {
      "sender": "Weiming Wu",
      "user_id": "U03DZ9Y4MC2",
      "message": "Could it be api-server isn't able to start?\n```owner@dev:~$ cs ps\nREPO      NAME        KIND   ENABLE PID  RESTART START    EXIT STATUS ERROR\ninstabase api-server  DAEMON No                                Exit:0      \ninstabase apps-server DAEMON No                                Exit:0      \ninstabase nginx       DAEMON Yes    3452         20:06:50                  \ninstabase webapp      DAEMON Yes    3618         20:06:52                  \ninstabase webpack     DAEMON Yes    3325         20:06:49    ```\nWhen I tried to start it, it fails to start:\n```owner@dev:~/instabase$ cs ps\nREPO      NAME        KIND   ENABLE PID  RESTART START    EXIT     STATUS ERROR\ninstabase api-server  DAEMON No                  20:20:49 20:20:50 Sig:15      \ninstabase apps-server DAEMON No                                    Exit:0      \ninstabase nginx       DAEMON Yes    3452         20:06:50                      \ninstabase webapp      DAEMON Yes    3618         20:06:52                      \ninstabase webpack     DAEMON Yes    3325         20:06:49  ```",
      "time": "12:22",
      "timestamp": "1734553343.045129",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Hm, I see a different set of problems with Weiming's sandbox:",
      "time": "12:33",
      "timestamp": "1734554016.433879",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Let me try Chrome",
      "time": "12:34",
      "timestamp": "1734554049.484849",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Same issue:",
      "time": "12:35",
      "timestamp": "1734554101.495659",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "Those should actually all be inocuous errors",
      "time": "12:35",
      "timestamp": "1734554103.155589",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "Here's a route on my sandbox not working: https://crafting-aihub--jessica-instabase.instabase.site.sandboxes.run/deployments/create?returnUrl=/workspaces/deploy/deployments",
      "time": "12:35",
      "timestamp": "1734554146.468689",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "But this works: https://crafting-aihub--jessica-instabase.instabase.site.sandboxes.run/workspaces/deploy/deployments?workspace=jessica-workspace",
      "time": "12:35",
      "timestamp": "1734554155.777769",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "@Heymian I wonder if this could be fallout from removal of apps-server (?)",
      "time": "12:36",
      "timestamp": "1734554178.936659",
      "is_reply": true
    },
    {
      "sender": "Weiming Wu",
      "user_id": "U03DZ9Y4MC2",
      "message": "Things were working perfectly fine yesterday though",
      "time": "12:36",
      "timestamp": "1734554205.881709",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Yeah, that is odd.... Anyway, it looks like `/static/output/*bundle.js` is not loading in these two sandboxes, right?",
      "time": "12:36",
      "timestamp": "1734554212.152389",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "When I load a bundle directly, I get https://crafting-aihub--weimingwu-instabase.instabase.site.sandboxes.run/static/output/9175.e6dbc0c469.bundle.js",
      "time": "12:37",
      "timestamp": "1734554250.273379",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "```Cannot GET /static/output/9175.e6dbc0c469.bundle.js```",
      "time": "12:37",
      "timestamp": "1734554256.153089",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "I think I've seen this before, and I think was webpack misbehaving. Have you tried restarting webpack yet?",
      "time": "12:37",
      "timestamp": "1734554268.671269",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "@Jessica for me, neither of the URLs you gave load anything (blank screen)",
      "time": "12:39",
      "timestamp": "1734554358.233689",
      "is_reply": true
    },
    {
      "sender": "Weiming Wu",
      "user_id": "U03DZ9Y4MC2",
      "message": "I'm trying a webpack restart now",
      "time": "12:39",
      "timestamp": "1734554372.539019",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "The 2nd URL has this console message:\n\n```ibapp_aihub.bundle.j…537938.353004:31428 Uncaught Error: Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /home/owner/instabase/webserver/shared/src/js/webpacked/apps/src/aihub/utils/jobs.utils.ts: Unexpected token, expected \")\" (29:28) (at ibapp_aihub.bundle.j…7938.353004:31428:7)\n\n  27 |         }\n  28 |       }\n> 29 |     }} & Record<string, any>;\n     |                             ^\n  30 | };\n  31 |```",
      "time": "12:39",
      "timestamp": "1734554387.999679",
      "is_reply": true
    },
    {
      "sender": "Weiming Wu",
      "user_id": "U03DZ9Y4MC2",
      "message": "It spun up! I'm tentatively saying that it worked :sweat_smile:",
      "time": "12:41",
      "timestamp": "1734554513.450959",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "OK :slightly_smiling_face: gosh darn webpack :old-man-yells-at-webpack:",
      "time": "12:43",
      "timestamp": "1734554613.107049",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "Okay so I did not restart webpack and... it's working again :dizzy_face:",
      "time": "12:46",
      "timestamp": "1734554778.154519",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "I swear I tried restarting webpack many times when it first went down",
      "time": "12:46",
      "timestamp": "1734554792.484669",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "This reminds me of this instance: https://instabase.slack.com/archives/C05L87V014J/p1726170468380379?thread_ts=1726167023.402629&cid=C05L87V014J. Another time we had a similar webpack error then it just started working again",
      "time": "12:47",
      "timestamp": "1734554832.161989",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "lol, been there :slightly_smiling_face:",
      "time": "12:47",
      "timestamp": "1734554834.542269",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "So transient I guess?? Anyways, thank you for the help!! Unblocked haha",
      "time": "12:47",
      "timestamp": "1734554852.782199",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "workspace setup actually restarts webpack I think, so at least it makes sense!",
      "time": "12:47",
      "timestamp": "1734554858.677659",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "But that time, I did it and it didn't work, then I came back later and it was working again",
      "time": "12:48",
      "timestamp": "1734554881.017499",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "I like to blame cosmic rays when this happens",
      "time": "12:48",
      "timestamp": "1734554896.611749",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "Which is basically what happened this time. I mean, setting up a whole new sandbox should also restart webpack haha",
      "time": "12:48",
      "timestamp": "1734554900.775419",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Flipping bits in the webpack config :slightly_smiling_face:",
      "time": "12:48",
      "timestamp": "1734554927.162319",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C05L87V014J",
    "channel_name": "ask-crafting",
    "date_file": "2024-12-18.json",
    "message_count": 37,
    "start_time": "1734552696.571549",
    "end_time": "1734554927.162319",
    "is_thread": true
  }
}