{
  "id": "ch_C0516UPPMT3_2024-11-07_1730996595.566859_thread",
  "type": "channel",
  "channel_name": "aihub-feedback",
  "conversation_type": "thread",
  "participants": [
    "Jasper",
    "hannah",
    "Anil"
  ],
  "messages": [
    {
      "sender": "Anil",
      "user_id": "U01BH8XBR55",
      "message": "Wanted to share an update.\nThis issue is related to the run deployment API (not /apps/runs/ API as said earlier).\nThe old run deployment API was added (https://github.com/instabase/aihub-docs/pull/212) (this is v1/aihub/deployment) directly to docs. The API accepted both string and int batch_id. It didn’t have tests for either case. batch_id was string in docs.\n\nThere was a bug where batch_id would not be shown in results when you run a deployment. @Abhishek Adupa fixed this bug in https://github.com/instabase/instabase/pull/63328. This was passing batch_id to a proto as int - passing it as a string threw an exception.\n\nWe have updated our process for adding public APIs:\n1. Public APIs can only be added for there are unit tests and system tests added. \n2. Public APIs are added via the OpenAPI spec now where typing is explicit. We add unit/system tests for the SDK generated as well as an added layer. The docs are rendered based on the OpenAPI spec. \nThe `API_ROOT/v2/apps/deployments/<DEPLOYMENT-ID>/runs` follows this process. Docs (https://docs.instabase.com/api-sdk/api-reference/runs/run-deployment).\n\nQuite a few things went wrong here. We still support the old API, but we removed the docs immediately. Might be better to leave it in legacy for a few months. Lack of test for batch_id param meant we didn’t catch the issue. Need to be more careful about public APIs and adequately test them.",
      "time": "08:23",
      "timestamp": "1730996595.566859",
      "is_reply": false
    },
    {
      "sender": "Jasper",
      "user_id": "U02KPTJGSCC",
      "message": "Thanks Anil! We'll forward this feedback to the customer",
      "time": "09:43",
      "timestamp": "1731001384.806239",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "cc: @Kaustubh (KD) for the details here",
      "time": "09:45",
      "timestamp": "1731001546.762209",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C0516UPPMT3",
    "channel_name": "aihub-feedback",
    "date_file": "2024-11-07.json",
    "message_count": 3,
    "start_time": "1730996595.566859",
    "end_time": "1731001546.762209",
    "is_thread": true
  }
}