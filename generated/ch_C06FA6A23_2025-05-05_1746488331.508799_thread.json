{
  "id": "ch_C06FA6A23_2025-05-05_1746488331.508799_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Cody Boggs",
    "sudeep"
  ],
  "messages": [
    {
      "sender": "Cody Boggs",
      "user_id": "U037PKN4USZ",
      "message": "*Disclaimer:* I have _*not*_ pushed any changes to our main repo for any of the stuff I'm about to share, as they are _exceptionally_ risky and need extensive testing first!! Just sharing notes. :+1:\n\nRevisited this last night a little bit, and actually found a decent win! Dug around the docs for `git-filter-repo` (apparently the new preferred tool over `git-filter-branch`), and got some good results I think.\n\nSpecifically I used `git-filter-branch` to rewrite the entire history of `instabase/instabase` with *all* references to / \"commits touching\" `/experimental` which was deleted by @jayapandian.ponraj last week. Turns out that stuff piles up! :joy:\n\nThis gist (https://gist.github.com/cboggs/539366689739f6d706fb9f350914a152) has some quick-n-dirty stats of my experiment, the summary of which is screenshotted for this thread.\n\nI have the full steps to reproduce in my notes, but they're a mess and need cleaning before anyone else should try them, but they do include the safeties I included (like \"don't work from the _*primary repo in github*_ - use a fork!\" :joy:)\n\nAs to why it _matters_, aside from the :blob_cozy: happy warm feels of cleaning things up - the more ancient cruft we clear out, the small our repo gets, and the _less time we burn cloning / checking out / pushing / reconciling the thing._ :rolling_on_the_floor_laughing: :dancing-penguin:\n\nTesting is crucial before we try something like this and push it (requires a force push to _`master`_ to retain the wins... :dead:), and I don't know what it would mean for already-released builds (SHAs that underlie released tags would change), but something ripe for some planning work if anyone is game to try their hand at such a project. :smile:",
      "time": "16:38",
      "timestamp": "1746488331.508799",
      "is_reply": false
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "This is awesome to see impact of the move of experimental! thanks for pulling the data @Cody Boggs, and @jayapandian.ponraj thanks for doing this!",
      "time": "22:59",
      "timestamp": "1746511148.846289",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2025-05-05.json",
    "message_count": 2,
    "start_time": "1746488331.508799",
    "end_time": "1746511148.846289",
    "is_thread": true
  }
}