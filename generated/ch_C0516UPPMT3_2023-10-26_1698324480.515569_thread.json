{
  "id": "ch_C0516UPPMT3_2023-10-26_1698324480.515569_thread",
  "type": "channel",
  "channel_name": "aihub-feedback",
  "conversation_type": "thread",
  "participants": [
    "Kerry",
    "hannah",
    "andy",
    "jean",
    "Vasu",
    "Varun Jain",
    "Tom",
    "Tom Deaney"
  ],
  "messages": [
    {
      "sender": "Tom Deaney",
      "user_id": "U03FBGJCMJ9",
      "message": "Hi team - I am facing some issues with the Converse API:\n1. I have created a new token via the UI (in prod, within a commercial account), and when trying to upload some docs I get a response, but only failures. The error I get is \"Failed to upload file because of an internal error.\" When I try this with an API token created for me within Prod Community, the same docs upload fine. \n    a. Is there a limitation here on API token that are able to upload docs?\n    b. Can the response error come with more context to allow this issue to be fixed?\n2. After uploading the docs (via my community account), I can get the conversation ID and document ID, but when I try to ask a question in converse, I get the response: \"Error getting an answer for document with id 3712, error: Error occurred while asking a question : {\"message\": \"An unexpected error has occured: Unknown exception\"} Answer for document with id 3712: None\"\n    a. This response has a spelling error within it, but also can you tell what the issue is here? Am I restricted from converse?",
      "time": "05:48",
      "timestamp": "1698324480.515569",
      "is_reply": false
    },
    {
      "sender": "Tom Deaney",
      "user_id": "U03FBGJCMJ9",
      "message": "Issues here (https://instabase.atlassian.net/browse/EPD-944?atlOrigin=eyJpIjoiMmQ1OWM0NGZiNDZiNGNmNDk4Y2U4ZGUwMjZkNDk0M2UiLCJwIjoiaiJ9) and here (https://instabase.atlassian.net/browse/EPD-945?atlOrigin=eyJpIjoiNjY0MTdjNDgzYmY3NGMyY2E1ODcyZTY3MjU1NmNhMjkiLCJwIjoiaiJ9)",
      "time": "06:14",
      "timestamp": "1698326052.946749",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Hey Tom, thanks for reporting. Regarding #1 we currently don't support using converse APIs via a commercial account, that is currently being worked upon.",
      "time": "06:15",
      "timestamp": "1698326132.190879",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "And #2 to confirm, this is on aihub.instabase.com (http://aihub.instabase.com)?",
      "time": "06:15",
      "timestamp": "1698326158.060549",
      "is_reply": true
    },
    {
      "sender": "Tom Deaney",
      "user_id": "U03FBGJCMJ9",
      "message": "For #1 - Can we take that out of the docs on commercial? And also, confused as why we would not have the functionality on commercial? We have a customer testing now on commercial who will need this\ncc @Nico @Tom @Lee",
      "time": "06:17",
      "timestamp": "1698326234.557759",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Sounds good. We can get that added in the docs to make it explicit until the support is there.",
      "time": "06:17",
      "timestamp": "1698326272.381459",
      "is_reply": true
    },
    {
      "sender": "Tom",
      "user_id": "UUEDM4T9R",
      "message": "@hannah @Bastiane @Clemens for visibility",
      "time": "06:18",
      "timestamp": "1698326305.091699",
      "is_reply": true
    },
    {
      "sender": "Tom",
      "user_id": "UUEDM4T9R",
      "message": "Let’s pause on moving any prospects to new commercial orgs until we are clearer on these limitations",
      "time": "06:22",
      "timestamp": "1698326555.334409",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "cc @Balaram",
      "time": "06:34",
      "timestamp": "1698327260.702749",
      "is_reply": true
    },
    {
      "sender": "Tom Deaney",
      "user_id": "U03FBGJCMJ9",
      "message": "@Vasu - is there anything we can do about #2 in the meantime?",
      "time": "06:59",
      "timestamp": "1698328769.919099",
      "is_reply": true
    },
    {
      "sender": "Tom",
      "user_id": "UUEDM4T9R",
      "message": "And is there an API for Build/Run available in Commercial?",
      "time": "07:33",
      "timestamp": "1698330806.231879",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "@Vasu is there a ticket for APIs supporting commercial?\n\nI'm also not aware of the limitations; let's make sure we call it out.",
      "time": "07:37",
      "timestamp": "1698331060.407889",
      "is_reply": true
    },
    {
      "sender": "Tom",
      "user_id": "UUEDM4T9R",
      "message": "If we don't have APIs then we shouldn't onboard prospects to Commercial",
      "time": "07:38",
      "timestamp": "1698331083.070899",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "I checked the logs, have a few quick follow up questions:\n1. Were you facing this error while asking any query, or just a specific subset of queries?\n2. I noticed some timeouts from openai during the timeframe when you asked your queries, that may have caused the errors that you saw. But completely agreed that we can handle such errors gracefully when they occur.\nCan we hop on a quick call to understand the scenario better?",
      "time": "07:38",
      "timestamp": "1698331102.714039",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Yes @Kerry, here's the ticket: https://instabase.atlassian.net/browse/DR-2718",
      "time": "07:39",
      "timestamp": "1698331160.941869",
      "is_reply": true
    },
    {
      "sender": "Tom Deaney",
      "user_id": "U03FBGJCMJ9",
      "message": "@Vasu Happy to have a quick call, but for reference:\n1. Any query\n2. Agreed - we should report that back to the user, rather than just giving a generic response",
      "time": "07:39",
      "timestamp": "1698331170.497659",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "I think there are 2 separate threads here:\n1. The community account error from the converse API @Vasu I'll let you sync with @Tom Deaney here -- https://instabase.atlassian.net/browse/EPD-945 this is more urgent cc @Rakesh \n2. The overall clarity on API support for commercial users cc @hannah let's make it very clear in the docs.",
      "time": "07:43",
      "timestamp": "1698331395.714929",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "Wait I’m confused - @Vasu why does the converse API not work for users in commercial orgs? A user in a commercial org is able to use converse in their personal workspace in the org in their UI.\n\nFor the run apps API, it should work as well. The API documentation around file paths needs to be updated though so that the user is able to access and write files to their personal workspace in the commercial org (cc: @andy @avi @Heymian - we can follow up on that separately).",
      "time": "07:48",
      "timestamp": "1698331731.639329",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "It’s critical that we have API parity across community and commercial users and should address this asap.",
      "time": "07:49",
      "timestamp": "1698331770.093369",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "cc @Varun Jain",
      "time": "07:57",
      "timestamp": "1698332246.074539",
      "is_reply": true
    },
    {
      "sender": "andy",
      "user_id": "U0130FUMPN3",
      "message": "@Tom, just following up on your question above. We have the same Run App APIs for Commercial that are already available for Community. There should be no platform type gating there at all.\n\n@hannah, I’m currently working with the Docs team on getting API reference docs for Run App APIs embedded directly into AIHub Docs rather than just linking to our Enterprise Docs. Will make sure that we explicitly call out the file path difference between Commercial and Community until we get better filepath abstraction for upload.",
      "time": "07:59",
      "timestamp": "1698332392.644589",
      "is_reply": true
    },
    {
      "sender": "Tom",
      "user_id": "UUEDM4T9R",
      "message": "Thanks @andy! We're supposed to be kicking-off a free-trial Commercial Customer (Taxdown) *today.* Are we saying that right now the docs are not correct for them to immediately start using the APIs? If so, can this be fixed today?",
      "time": "08:01",
      "timestamp": "1698332482.176499",
      "is_reply": true
    },
    {
      "sender": "andy",
      "user_id": "U0130FUMPN3",
      "message": "the APIs will work as-is. The only thing that we are improving from a Docs point of view is to clarify where Commercial users could *also* upload their input documents\n\nSpecifically, the current recommended filepaths point to a file location under `<USERNAME>` but for Commercial, if you want your input files to be under your Organization, this should be `<ORGANIZATION_NAME>`.",
      "time": "08:04",
      "timestamp": "1698332649.777779",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Regarding the `Cannot ask a question via the converse APIs` , me and @Tom Deaney synced. There was a small error in the request body being constructed in the python script being used to ask questions. That is resolved and things are working as expected :white_check_mark:.",
      "time": "08:05",
      "timestamp": "1698332703.940859",
      "is_reply": true
    },
    {
      "sender": "andy",
      "user_id": "U0130FUMPN3",
      "message": "For a single Commercial user, there shouldn’t be an issue rn with running an App in their Organization against files in their personal workspace. But long-term, we would want input files associated with the Organization all under the Organization workspace so that other users in the same Organization can see the same input files.",
      "time": "08:05",
      "timestamp": "1698332713.976849",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "Does a commercial user have their own repo? @andy As in if they have their username/my-repo available",
      "time": "08:14",
      "timestamp": "1698333268.925039",
      "is_reply": true
    },
    {
      "sender": "andy",
      "user_id": "U0130FUMPN3",
      "message": "ya, a Commercial user will still maintain their personal repo which will be associated with their Community access. Attached an example from an Org Admin on UAT",
      "time": "08:16",
      "timestamp": "1698333360.748109",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "@andy I think we need to update documentation sooner as a user will not be able to access their repo (from their community account) once they are in a commercial account until we support context switching. We should be encouraging all commercial users to be performing all actions in context of their organization.",
      "time": "08:16",
      "timestamp": "1698333364.404239",
      "is_reply": true
    },
    {
      "sender": "andy",
      "user_id": "U0130FUMPN3",
      "message": "ya i have the Docs updated. will look to get this merged in with the Docs team today",
      "time": "08:16",
      "timestamp": "1698333392.955789",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "ok awesome thank you!",
      "time": "08:16",
      "timestamp": "1698333399.614599",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "For clarity @Vasu can you confirm that a commercial user can use the converse API?",
      "time": "08:18",
      "timestamp": "1698333481.318999",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "(want to make sure that the fix you noted above solved the commercial issue or if there are still outstanding issues)",
      "time": "08:18",
      "timestamp": "1698333506.880959",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "Yeah i think this is the misunderstanding part. Right now org switching is not available which means commercial users don't have access to their community repo (or don't even have it). App API is lucky as the filepath is completely exposed to the users so there's a workaround. Converse API hides the file path from the user, better usability but my guess is they need to change the assumption that the user's own repo is no longer `username/my-repo` for commercial user",
      "time": "08:18",
      "timestamp": "1698333533.863989",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "Vasu addressed EPD-945 -- I think EPD-944 is still outstanding",
      "time": "08:19",
      "timestamp": "1698333556.346979",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "As Kerry mentioned. We need to change the assumption of the APIs always looking for `username/my-repo` and introduce a concept of org in the APIs.",
      "time": "08:22",
      "timestamp": "1698333725.817379",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "Anyway, what we missed in this case is the communication -- Eng clearly knows this is not supported, but Product doesn't know. Let's improve this next time, making sure all limitations are called out & eng work time scoped into the release. For now -- the next step is clear, let's update the docs for the limitations & work on supporting this.",
      "time": "08:23",
      "timestamp": "1698333797.529739",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "Basically if a commercial user tries to upload things to this -- it will crash, this is not an option for them",
      "time": "08:25",
      "timestamp": "1698333900.312169",
      "is_reply": true
    },
    {
      "sender": "andy",
      "user_id": "U0130FUMPN3",
      "message": "It’s being updated to the following. @hannah, would appreciate a sanity check on the Commercial example",
      "time": "08:26",
      "timestamp": "1698333990.244699",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "I think my-repo needs to change to the <username>",
      "time": "08:26",
      "timestamp": "1698334018.884559",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "@andy @hannah you can sync offline -- <organization_name>/my-repo looks wrong",
      "time": "08:27",
      "timestamp": "1698334029.284939",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "yes sounds good @andy will ping you directly",
      "time": "08:27",
      "timestamp": "1698334049.526899",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "As for moving forward:\n• App API - we can update the documentation to unblock commercial users (this can happen today)\n• Converse API - we need to update the API to support the commercial user repo\n@Tom is not having the converse API a blocker for commercial users?",
      "time": "08:28",
      "timestamp": "1698334118.762659",
      "is_reply": true
    },
    {
      "sender": "Tom",
      "user_id": "UUEDM4T9R",
      "message": "Thanks all. @hannah for TaxDown I believe so because they need to run Advanced queries in order to solve their use case -- so Build is not viable (as we discovered live on the demo with them today...!)",
      "time": "08:29",
      "timestamp": "1698334177.543509",
      "is_reply": true
    },
    {
      "sender": "Tom",
      "user_id": "UUEDM4T9R",
      "message": "The hacky workaround was to suggest they use the Converse API in the interim",
      "time": "08:29",
      "timestamp": "1698334188.958749",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "Ok got it - cc: @Varun Jain for prioritization/timing for the Converse API changes",
      "time": "09:15",
      "timestamp": "1698336916.945999",
      "is_reply": true
    },
    {
      "sender": "Varun Jain",
      "user_id": "U019KDMQL14",
      "message": "Sounds good. This work is already underway, I’ll follow up with @Vasu and Balaram and share the timeline.",
      "time": "09:18",
      "timestamp": "1698337137.343749",
      "is_reply": true
    },
    {
      "sender": "andy",
      "user_id": "U0130FUMPN3",
      "message": "Docs are updated here: https://github.com/instabase/aihub-docs/pull/24/\n\nLooking to get it merged today and then deployed soon after CC: @jean",
      "time": "09:22",
      "timestamp": "1698337354.881709",
      "is_reply": true
    },
    {
      "sender": "jean",
      "user_id": "U02UWER5KGQ",
      "message": "Preview of API section with the relevant endpoints:\nhttps://aihub.uat.instabase.com/docs/aihub-preview/apis/index.html\n\n(I see some weird behavior in the sidebar nav, so I’ll look at that shortly.)",
      "time": "11:18",
      "timestamp": "1698344301.098819",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C0516UPPMT3",
    "channel_name": "aihub-feedback",
    "date_file": "2023-10-26.json",
    "message_count": 48,
    "start_time": "1698324480.515569",
    "end_time": "1698344301.098819",
    "is_thread": true
  }
}