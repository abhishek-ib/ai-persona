{
  "id": "ch_C0516UPPMT3_2023-05-19_1684518644.149119_thread",
  "type": "channel",
  "channel_name": "aihub-feedback",
  "conversation_type": "thread",
  "participants": [
    "Xi Cheng",
    "Eric Han",
    "peter"
  ],
  "messages": [
    {
      "sender": "Xi Cheng",
      "user_id": "U01F946DGEP",
      "message": "Folks, I have a nearly trivial and yet corrupted docx file that seems to be able to cause the digitization to take every long and have the backend to throw exception.\n```{\"status\": \"ERROR\", \"msg\": \"All records had a runtime exception, last error observed: Request /conversion_service.ConversionService/ConvertDocument failed. Error code=INTERNAL, Error=(13, 'internal'), Message: Local conversion failed.\", \"state\": \"FAILED\", \"is_waiting_for_resources\": false, \"job_id\": \"96582839-a8be-477e-ac32-bfb4fa4cefd8\", \"results\": [{\"metadata\": \"{\\\"flow_metadata\\\":{\\\"flow_progress\\\":{\\\"flow_index\\\":0},\\\"flow_input\\\":{\\\"input_args\\\":{\\\"input_dir_path\\\":\\\"xi.cheng/my-repo/fs/Instabase Drive/aihub/4a2a4a24-3cc4-410c-aefe-07dfb9eaedd4/documents/staged_input\\\",\\\"job_status_metadata\\\":\\\"{}\\\",\\\"binary_full_path\\\":\\\"xi.cheng/my-repo/fs/Instabase Drive/aihub/4a2a4a24-3cc4-410c-aefe-07dfb9eaedd4/documents/out/bin/reader_flow.ibflowbin\\\",\\\"binary_content_hash\\\":\\\"8c5de07748d1c0deab3daef5e0904581\\\"},\\\"output_args\\\":{\\\"output_root_dirpath\\\":\\\"xi.cheng/my-repo/fs/Instabase Drive/aihub/4a2a4a24-3cc4-410c-aefe-07dfb9eaedd4/documents/out\\\"},\\\"settings\\\":{\\\"log_to_timeline\\\":false,\\\"delete_out_dir\\\":false,\\\"disable_step_timeout\\\":false,\\\"webdriver_queue\\\":\\\"celery-webdriver-tasks\\\",\\\"save_binary_to_output\\\":true,\\\"runtime_config\\\":\\\"eyJwcm9qZWN0X2lkIjogIjRhMmE0YTI0LTNjYzQtNDEwYy1hZWZlLTA3ZGZiOWVhZWRkNCJ9\\\",\\\"step_timeout\\\":300,\\\"profiler_info\\\":false,\\\"compare_against_golden_set\\\":false},\\\"post_flow_options\\\":{\\\"fn_name\\\":\\\"none\\\",\\\"sqs_message_body\\\":\\\"{}\\\"},\\\"context\\\":{\\\"username\\\":\\\"xi.cheng\\\",\\\"root_id\\\":\\\"96582839-a8be-477e-ac32-bfb4fa4cefd8\\\",\\\"flow_priority\\\":0,\\\"use_flow_batch_mode\\\":true,\\\"flow_map_batch_size\\\":25,\\\"flow_path\\\":\\\"xi.cheng/my-repo/fs/Instabase Drive/aihub/4a2a4a24-3cc4-410c-aefe-07dfb9eaedd4/reader.ibflow\\\",\\\"read_from_disk_on_local_cache_miss\\\":true,\\\"enable_ibdoc\\\":true,\\\"resource_reader_config\\\":{\\\"reader_type\\\":\\\"ibfile\\\",\\\"resources_path\\\":\\\"xi.cheng/my-repo/fs/Instabase Drive/aihub/4a2a4a24-3cc4-410c-aefe-07dfb9eaedd4/_resources\\\"},\\\"ibmsg_enabled\\\":true,\\\"track_metrics\\\":false},\\\"flow_type\\\":\\\"single_flow\\\",\\\"max_flows\\\":1},\\\"review_status\\\":{\\\"state\\\":\\\"NONE\\\"},\\\"num_tasks\\\":0},\\\"trace_id\\\":\\\"dd3cb307a76660b5\\\"}\", \"result_metadata\": \"{}\"}], \"cur_status\": \"{\\\"job_id\\\": \\\"96582839-a8be-477e-ac32-bfb4fa4cefd8\\\", \\\"curProgress\\\": 1.0}\", \"completed_count\": null, \"finish_timestamp\": null, \"binary_mode\": null, \"read_result\": {\"success\": {}, \"failure\": {}, \"pending\": {}}, \"completed\": 0, \"total\": 0, \"annotation_preservation_result\": {\"success\": {}, \"failure\": {}}}```\nFurthermore, an important thing to note is that we leak lots of information in the response here (and the same thing with the chat mode), things about our internal schema, paths, etc. I think this is a risk given that we are facing the general public.",
      "time": "10:50",
      "timestamp": "1684518644.149119",
      "is_reply": false
    },
    {
      "sender": "peter",
      "user_id": "U02NAREL9L7",
      "message": "I think we should not surface any error message details to public users",
      "time": "11:07",
      "timestamp": "1684519677.750049",
      "is_reply": true
    },
    {
      "sender": "Xi Cheng",
      "user_id": "U01F946DGEP",
      "message": "indubitably",
      "time": "11:08",
      "timestamp": "1684519697.182119",
      "is_reply": true
    },
    {
      "sender": "Eric Han",
      "user_id": "UKPHNU5QE",
      "message": "cc: @Rakesh",
      "time": "13:32",
      "timestamp": "1684528322.986189",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C0516UPPMT3",
    "channel_name": "aihub-feedback",
    "date_file": "2023-05-19.json",
    "message_count": 4,
    "start_time": "1684518644.149119",
    "end_time": "1684528322.986189",
    "is_thread": true
  }
}