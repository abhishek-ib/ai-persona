{
  "id": "ch_C06FA6A23_2025-05-09_1746779613.369539_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "jayapandian.ponraj"
  ],
  "messages": [
    {
      "sender": "jayapandian.ponraj",
      "user_id": "U04A43DJT71",
      "message": "Tried parallelising python CI builds but not woking out. Proably will need some brighter mind closer to the codebase to figure this out.\n\nLooks like the timing will reduce if we are able to parallelise though.\n• with parallelism of 4 - `Ran 2104 tests in 675.473s - Failed`\n• serial run - `Ran 2104 tests in 1563.627s - Success`\n\nPRs used for testing -\n• https://github.com/instabase/instabase/pull/70535/files \n• https://github.com/instabase/instabase/pull/70310 \nCI jobs(will be rotated out soon):\n• https://jenkins.instabase.com/job/instabase/job/PR-70535/ \n• https://jenkins.instabase.com/job/instabase/job/PR-70310/buildTimeTrend\nTLDR when i enable parallel the tests start failing but succeed when setting `-j 1`.",
      "time": "01:33",
      "timestamp": "1746779613.369539",
      "is_reply": false
    },
    {
      "sender": "jayapandian.ponraj",
      "user_id": "U04A43DJT71",
      "message": "```15:11:16  ======================================================================\n15:11:16  test_write_automation_metrics (instabase_unit_tests.instabase.handler.api.v1.test_flow_correction.FlowCorrectionAPITest)\n15:11:16  ----------------------------------------------------------------------\n15:11:16  Traceback (most recent call last):\n15:11:16    File \"/shared/venvs/api-server-OqbBKx_a-py3.9/lib/python3.9/site-packages/mock/mock.py\", line 1346, in patched\n15:11:16      return func(*newargs, **newkeywargs)\n15:11:16    File \"/instabase_dir/webserver/api-server/build/test/py/instabase_unit_tests/instabase/handler/api/v1/test_flow_correction.py\", line 318, in test_write_automation_metrics\n15:11:16      self.assertEqual('OK', context['status'])\n15:11:16  AssertionError: 'OK' != 'ERROR'\n15:11:16  - OK\n15:11:16  + ERROR```\nError I faced ^\n\nTook a noob approach and was able to mow through the test.\nPR - https://github.com/instabase/instabase/pull/70538/files\nCI run - https://jenkins.instabase.com/job/instabase/job/PR-70538/\n```Ran 2104 tests in 816.056s```\nExcept that one of the tests isnt running.\n\nWill try increasing parallelism and see if more tests break",
      "time": "03:14",
      "timestamp": "1746785642.948879",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2025-05-09.json",
    "message_count": 2,
    "start_time": "1746779613.369539",
    "end_time": "1746785642.948879",
    "is_thread": true
  }
}