{
  "id": "ch_C0516UPPMT3_2023-05-11_1683817031.266909_thread",
  "type": "channel",
  "channel_name": "aihub-feedback",
  "conversation_type": "thread",
  "participants": [
    "Kerry",
    "Raul Mächler",
    "Eric Han",
    "Rakesh",
    "Serena"
  ],
  "messages": [
    {
      "sender": "Raul Mächler",
      "user_id": "U02H99GUL9F",
      "message": "hey team, i am getting an error while running a flow from aihub:\nhttps://aihub.uat.instabase.com/apps/flow/edit/RaulM/my-repo/fs/Instabase%20Drive/aihub/[…]d-db840d911d4b%2Fflows%2F1683807654517%2Fcodelabs.ibflow= (https://aihub.uat.instabase.com/apps/flow/edit/RaulM/my-repo/fs/Instabase%20Drive/aihub/4cbf20c6-e917-441d-882d-db840d911d4b/flows/1683807654517/codelabs.ibflow?%2Fapps%2Fflow%2Fedit%2FRaulM%2Fmy-repo%2Ffs%2FInstabase+Drive%2Faihub%2F4cbf20c6-e917-441d-882d-db840d911d4b%2Fflows%2F1683807654517%2Fcodelabs.ibflow=)\nany support?",
      "time": "07:57",
      "timestamp": "1683817031.266909",
      "is_reply": false
    },
    {
      "sender": "Eric Han",
      "user_id": "UKPHNU5QE",
      "message": "where are the input samples when trying to run this flow?",
      "time": "08:32",
      "timestamp": "1683819138.867439",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "maybe here https://aihub.uat.instabase.com/RaulM/my-repo/fs/Instabase%20Drive/files/Run/",
      "time": "08:36",
      "timestamp": "1683819372.334759",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "this is the full error as printed to the logs - it seems that there’s something wrong with the generated flow\n```\"Received exception in WEBAPP JSON request: Error='NoneType' object has no attribute 'function_id'. Traceback=Traceback (most recent call last):;File \"/instabase-api-server/py/instabase/utils/web/handler_util.py\", line 162, in inner_func;return f(*args, **kwargs);File \"/instabase-api-server/py/instabase/utils/oauth2/oauth2.py\", line 92, in wrapped_f;return f(*args, **kwargs);File \"/instabase-api-server/py/instabase/utils/license/license.py\", line 42, in inner_func;return func(*args, **kwargs);File \"/instabase-api-server/py/instabase/tracing/flask.py\", line 134, in wrapped;raise error;File \"/instabase-api-server/py/instabase/tracing/flask.py\", line 129, in wrapped;r = func(*args, **kwargs);File \"/instabase-api-server/py/instabase/api_server_apps/handler/api/v1/flow.py\", line 943, in post;return _run_flow_v3_async_view_helper(;File \"/instabase-api-server/py/instabase/api_server_apps/handler/api/v1/flow.py\", line 585, in _run_flow_v3_async_view_helper;zip_string_io, err = flow_util._compile_helper(job_id, flow_ctx, ibflow_path,;File \"/instabase-api-server/py/instabase/handler/views/apps/shared/flow_util.py\", line 474, in _compile_helper;ret_val, err = binary_factory.compile_flow_binary(;File \"/instabase-api-server/py/instabase/flow_binary/builders/binary_factory.py\", line 252, in compile_flow_binary;retval, err = single_flow.build_single_flow_binary(;File \"/instabase-api-server/py/instabase/flow_binary/builders/single_flow.py\", line 54, in build_single_flow_binary;files, err = flow_reader.read_associated_files(;File \"/instabase-api-server/py/instabase/flow_binary/builders/helpers/flow_reader.py\", line 83, in read_associated_files;files, err = flow_step_reader.read_associated_files(;File \"/instabase-api-server/py/instabase/flow_binary/builders/helpers/flow_step_reader.py\", line 56, in read_associated_files;raw_contents, err = step.read_associated_files(file_client, username);File \"/instabase-api-server/py/instabase/flow_steps/apply_refiner/refiner_step.py\", line 309, in read_associated_files;raw_contents, err = read_associated_files_in_formulas(;File \"/instabase-api-server/py/instabase/flow_binary/builders/helpers/external_formula_files_reader.py\", line 150, in read_associated_files_in_formulas;relpaths, err = _get_associated_file_paths_in_prog(prog);File \"/instabase-api-server/py/instabase/flow_binary/builders/helpers/external_formula_files_reader.py\", line 117, in _get_associated_file_paths_in_prog;formula_map, err = prog.get_formula_map();File \"/instabase-api-server/py/instabase/refiner_utils/types/refiner_util_types.py\", line 296, in get_formula_map;return FormulaMap.build(column_names, self.get_formulas());File \"/instabase-api-server/py/instabase/data_api_utils/program/types/formula_map.py\", line 160, in build;formula_info_map[index] = FormulaInfo(;File \"/instabase-api-server/py/instabase/data_api_utils/program/types/formula_map.py\", line 57, in __init__;col_formulas = [;File \"/instabase-api-server/py/instabase/data_api_utils/program/types/formula_map.py\", line 60, in <listcomp>;low_code_func_name(line.low_code_function_call.function_id),;AttributeError: 'NoneType' object has no attribute 'function_id';\" path=\"/instabase-api-server/py/instabase/utils/web/handler_util.py:166\" process=\"MainProcess\" thread=\"ThreadPoolExecutor-0_4\"```",
      "time": "08:37",
      "timestamp": "1683819432.399309",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "i just created an app on aihub.uat and ran it without any issues - could you try updating your app from your project? @Raul Mächler",
      "time": "08:37",
      "timestamp": "1683819466.138289",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "@Rakesh @Gaurav Saini :point_up: can you help take a look what's going on here? i'm also somehow not able to compile this flow from the flow editor UI",
      "time": "09:07",
      "timestamp": "1683821265.177809",
      "is_reply": true
    },
    {
      "sender": "Rakesh",
      "user_id": "U01668DGQCE",
      "message": "It looks like an error in formula compiling one of refiner steps.  Let me pull down each of branches in a separate flow and try compiling.",
      "time": "10:09",
      "timestamp": "1683824962.726919",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "@Raul Mächler did you make any changes to the flow after it's generated by aihub? can you run this flow / app from your AI Hub project?",
      "time": "11:22",
      "timestamp": "1683829327.518989",
      "is_reply": true
    },
    {
      "sender": "Rakesh",
      "user_id": "U01668DGQCE",
      "message": "I checked and both refiners give the same error - just did a Run Step on refiner block in flow editor.",
      "time": "11:53",
      "timestamp": "1683831229.251879",
      "is_reply": true
    },
    {
      "sender": "Raul Mächler",
      "user_id": "U02H99GUL9F",
      "message": "any reason why this error occurs? can i fix it?",
      "time": "22:13",
      "timestamp": "1683868424.474749",
      "is_reply": true
    },
    {
      "sender": "Raul Mächler",
      "user_id": "U02H99GUL9F",
      "message": "meanwhile i am creating a new project",
      "time": "22:13",
      "timestamp": "1683868432.303239",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C0516UPPMT3",
    "channel_name": "aihub-feedback",
    "date_file": "2023-05-11.json",
    "message_count": 11,
    "start_time": "1683817031.266909",
    "end_time": "1683868432.303239",
    "is_thread": true
  }
}