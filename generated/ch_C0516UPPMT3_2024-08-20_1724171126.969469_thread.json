{
  "id": "ch_C0516UPPMT3_2024-08-20_1724171126.969469_thread",
  "type": "channel",
  "channel_name": "aihub-feedback",
  "conversation_type": "thread",
  "participants": [
    "BG",
    "Xindi Xu",
    "Jessica",
    "Arjun"
  ],
  "messages": [
    {
      "sender": "BG",
      "user_id": "U03R8NRBJ9H",
      "message": "Hi, if a user who ran a few deployment runs is removed from the overall org. The rub By tag of that deleted user is converted into a weird username structure which is not in line with the userID of the user. Screencap below. The user email originally was <mailto:bharadwaj.goteti_humanreview@instabase.com|bharadwaj.goteti_humanreview@instabase.com>. When this user was removed from the org. the rub by tag changed to bharadwaj.goteti.humanreviewuser_instabase.com (http://humanreviewuser_instabase.com) which is not a username. Is this expected behaviour?",
      "time": "09:25",
      "timestamp": "1724171126.969469",
      "is_reply": false
    },
    {
      "sender": "Arjun",
      "user_id": "U03T41QAMN1",
      "message": "this seems currently expected, since presumably when we look for the userID to get the name details, that entry no longer exists. cc @Xindi Xu if there are thoughts for how we can deal with this (seems like it would be an issue across the platform)",
      "time": "09:27",
      "timestamp": "1724171261.876979",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Yea, i believe the deleted user's username is `bharadwaj.goteti.humanreviewuser_instabase.com (http://humanreviewuser_instabase.com)`. In this view, we probably try to get user's full name using the username, but when the user is removed from the org, other users can't get this user's full name (a regular user shouldn't be able to get another user's full name, if the other user is not in the org)",
      "time": "09:30",
      "timestamp": "1724171433.275839",
      "is_reply": true
    },
    {
      "sender": "BG",
      "user_id": "U03R8NRBJ9H",
      "message": "Well we dont create usernames in the platform. the username should be the email in this case which is  <mailto:bharadwaj.goteti_humanreviewuser@instabase.com|bharadwaj.goteti_humanreviewuser@instabase.com>",
      "time": "09:37",
      "timestamp": "1724171865.000299",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "we do. The username is mapped from the email, replacing `@` with `_` and `+` with `.`. So `bharadwaj.goteti.humanreviewuser_instabase.com (http://humanreviewuser_instabase.com)` is the username (accounts.public_id) in this case",
      "time": "09:38",
      "timestamp": "1724171919.667839",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Are you sure that the deleted user's email is <mailto:bharadwaj.goteti_humanreview@instabase.com|bharadwaj.goteti_humanreview@instabase.com>, not  <mailto:bharadwaj.goteti.humanreviewuser@instabase.com|bharadwaj.goteti.humanreviewuser@instabase.com>?",
      "time": "09:41",
      "timestamp": "1724172082.068719",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "ah, i should clarify that userID = username",
      "time": "09:45",
      "timestamp": "1724172309.639629",
      "is_reply": true
    },
    {
      "sender": "BG",
      "user_id": "U03R8NRBJ9H",
      "message": "The deleted email / username was : <mailto:bharadwaj.goteti+humanreviewuser@instabase.com|bharadwaj.goteti+humanreviewuser@instabase.com>",
      "time": "10:33",
      "timestamp": "1724175199.325299",
      "is_reply": true
    },
    {
      "sender": "BG",
      "user_id": "U03R8NRBJ9H",
      "message": "okay if the replacements are right then there is no. problem",
      "time": "10:33",
      "timestamp": "1724175226.326629",
      "is_reply": true
    },
    {
      "sender": "BG",
      "user_id": "U03R8NRBJ9H",
      "message": "Thanks for the clarifications",
      "time": "10:33",
      "timestamp": "1724175230.060689",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": ":meow_yw:",
      "time": "10:34",
      "timestamp": "1724175249.703589",
      "is_reply": true
    },
    {
      "sender": "BG",
      "user_id": "U03R8NRBJ9H",
      "message": "idid not know these replacement existed! it just looked like a broken misspelled email thats all",
      "time": "10:34",
      "timestamp": "1724175270.439519",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "oh yea, the user ID does look like a broken email :sweat_smile:",
      "time": "10:35",
      "timestamp": "1724175329.304649",
      "is_reply": true
    },
    {
      "sender": "Arjun",
      "user_id": "U03T41QAMN1",
      "message": "it does bring up an interesting point — we don’t expose these usernames in the product so it’s a little jarring to see. I wonder if we should instead be displaying the user’s email in this case cc @Jessica",
      "time": "10:35",
      "timestamp": "1724175337.547679",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "The problem is that, we can't get the profile (email, full name) if the user is no longer in the org",
      "time": "10:36",
      "timestamp": "1724175373.125139",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "We do not have that information if the user has been deleted, we only have the username. The username is our last resort if we don't have the full name or email.",
      "time": "10:36",
      "timestamp": "1724175375.458489",
      "is_reply": true
    },
    {
      "sender": "Arjun",
      "user_id": "U03T41QAMN1",
      "message": "ah i see okay nvm then",
      "time": "10:36",
      "timestamp": "1724175397.085449",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "One thing we could do - if we don't have the email or full name, we assume the user has been deleted, and display something like \"_User does not exist_\"",
      "time": "10:36",
      "timestamp": "1724175410.664379",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "But that's even less information than the username",
      "time": "10:37",
      "timestamp": "1724175425.981059",
      "is_reply": true
    },
    {
      "sender": "Arjun",
      "user_id": "U03T41QAMN1",
      "message": "I think the common pattern (google drive, slack etc) for deleted/removed users is to continue to show the name but then show `(deactivated)` . That would require changing to a soft delete though so not sure it’s possible",
      "time": "10:38",
      "timestamp": "1724175486.464149",
      "is_reply": true
    },
    {
      "sender": "BG",
      "user_id": "U03R8NRBJ9H",
      "message": "Just for context: I am trying to test out what happens to the deployment if a dev who created an automated deployment pointing with a scheduler and a mounted drive folder leaves the company. since we dnt have service accounts on AI hub yet. Will the deployment still run. i was simulating it with deleting the user. willl post more updates as i find them",
      "time": "10:38",
      "timestamp": "1724175509.234349",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "There's a technical difference there @Arjun in that in Slack and Google your profile is created specifically for the Instabase organization. For AI Hub, your profile exists independently of the organization. So if you leave the organization, we don't have access to your full name or email anymore.",
      "time": "10:40",
      "timestamp": "1724175606.285679",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": ">  I think the common pattern (google drive, slack etc) for deleted/removed users is to continue to show the name but then show `(deactivated)`\nWe are not tracking if a user is removed from an org (which is what we are trying to fix here). We can't tell if a user is removed from the org or if the user has never been added to the org.",
      "time": "10:41",
      "timestamp": "1724175667.350509",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "@BG that should work - the owner of the scheduler object is an automatically created account for the organization. cc @Elan Sharony for visibility. Let us know the results of your experiement!",
      "time": "10:41",
      "timestamp": "1724175667.527579",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C0516UPPMT3",
    "channel_name": "aihub-feedback",
    "date_file": "2024-08-20.json",
    "message_count": 24,
    "start_time": "1724171126.969469",
    "end_time": "1724175667.527579",
    "is_thread": true
  }
}