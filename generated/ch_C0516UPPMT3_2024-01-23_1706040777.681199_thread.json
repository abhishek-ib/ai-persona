{
  "id": "ch_C0516UPPMT3_2024-01-23_1706040777.681199_thread",
  "type": "channel",
  "channel_name": "aihub-feedback",
  "conversation_type": "thread",
  "participants": [
    "Chris Cowell",
    "Arjun"
  ],
  "messages": [
    {
      "sender": "Chris Cowell",
      "user_id": "U0434V7S954",
      "message": "In Build, when you make a custom validation function, I think the sample code provided in the GUI might be misleading.\nHere’s the sample code I currently get when I start making a custom validation function for a field called `year`:\n```if year:\n\t# return None if validation succeeds\n\treturn None\nelse:\n\t# return error string if validation fails\n\treturn \"Error: no value found\"```\nBut in order for an error to show up in the Log pane when the validation fails, it seems that you need to raise an error instead of returning a string.\nIf that’s right, we should change the sample code to something like this:\n```if year:\n    # return None if validation succeeds\n    return None\nelse:\n    # raise error with message if validation fails\n    raise ValueError('no value found')```",
      "time": "12:12",
      "timestamp": "1706040777.681199",
      "is_reply": false
    },
    {
      "sender": "Arjun",
      "user_id": "U03T41QAMN1",
      "message": "so the errors that show up in the logs are different from the error string that is returned. If an error string is returned then the validation result will show `FAIL` and when the app is run you should see that error message. I believe the logs are more-so useful to do intermediate logging to understand the actual function itself (ie debugging etc)",
      "time": "12:44",
      "timestamp": "1706042650.467119",
      "is_reply": true
    },
    {
      "sender": "Arjun",
      "user_id": "U03T41QAMN1",
      "message": "it seems like this may be a point of confusion though so the feedback is very useful! cc @Bastiane",
      "time": "12:44",
      "timestamp": "1706042685.589639",
      "is_reply": true
    },
    {
      "sender": "Chris Cowell",
      "user_id": "U0434V7S954",
      "message": "Thanks @Arjun. To make sure I understand:\n• If the custom validation function returns an error string instead of `None`, that string should show up in the results when you run the app in AI Hub but should not show up in the Log pane within the Build app\n• If the custom validation function raises an error instead of returning a string, that error should show up in the Log pane in AI Hub build, but not show up in the results when you run the app.\nDo I have that right?",
      "time": "14:47",
      "timestamp": "1706050028.707569",
      "is_reply": true
    },
    {
      "sender": "Chris Cowell",
      "user_id": "U0434V7S954",
      "message": "@Arjun Also, if a function validation function returns an error string, is that string displayed to the user anywhere when you run the app? All I see is an icon showing that there was a validation error on a particular field, and a message that there’s some error string, but I don’t see the error string itself.",
      "time": "16:00",
      "timestamp": "1706054440.569509",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C0516UPPMT3",
    "channel_name": "aihub-feedback",
    "date_file": "2024-01-23.json",
    "message_count": 5,
    "start_time": "1706040777.681199",
    "end_time": "1706054440.569509",
    "is_thread": true
  }
}