{
  "id": "ch_C06FA6A23_2025-03-13_1741881899.059349_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Yash Botadra",
    "Cody Boggs",
    "Hari",
    "Heymian",
    "Aayush"
  ],
  "messages": [
    {
      "sender": "Cody Boggs",
      "user_id": "U037PKN4USZ",
      "message": ":large_yellow_circle: <!here> AIHub Dogfood is not working today, `post-install-action-test-runner` is failing with exceptions like the attached snippet. I haven't the foggiest where to go for this one. :sweat_smile:",
      "time": "09:04",
      "timestamp": "1741881899.059349",
      "is_reply": false
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "@Hari who is going to take this one (and goldens) now that Rakesh is gone?",
      "time": "09:09",
      "timestamp": "1741882170.470319",
      "is_reply": true
    },
    {
      "sender": "Hari",
      "user_id": "UCX3XL72Q",
      "message": "copying @Balaram and @Aayush for this!",
      "time": "09:46",
      "timestamp": "1741884373.392609",
      "is_reply": true
    },
    {
      "sender": "Aayush",
      "user_id": "U01594ZKULX",
      "message": "Seeing this error:\n```All records had a runtime exception, last error observed: Exception occured while running step s3 apply_classifier: (ModelServiceException(...), \\\"Model service error: __init__() got an unexpected keyword argument 'collect_stats' (StatusCode.INTERNAL)\\\")```\n```{\n  \"name\": \"E2EDocTest.ibtest\",\n  \"output_summary_dict\": {\n    \"Summary\": {\n      \"Total Tests\": 1,\n      \"Successful Tests\": 0,\n      \"Failed Tests\": 1,\n      \"Skipped Tests\": 0,\n      \"Test Duration\": 14.104422569274902,\n      \"Test Responses\": {\n        \"E2EDocTest\": {\n          \"job_id\": \"a52be527-7172-4d61-8a39-1099f6bdcf17\",\n          \"output_folder\": \"system/global/fs/Instabase Drive/TestRunner/output_files/out/DocClassifierExtractor\",\n          \"api_name\": \"run_flow_async\",\n          \"response\": {\n            \"status\": \"ERROR\",\n            \"msg\": \"All records had a runtime exception, last error observed: Exception occured while running step s3 apply_classifier: (ModelServiceException(...), \\\"Model service error: __init__() got an unexpected keyword argument 'collect_stats' (StatusCode.INTERNAL)\\\")\",\n            \"state\": \"DONE\",\n            \"is_waiting_for_resources\": false,\n            \"job_id\": \"a52be527-7172-4d61-8a39-1099f6bdcf17\",\n            \"results\": [\n              {\n                \"status\": \"ERROR\",\n                \"msg\": \"Flow has failed\",\n                \"output_folder\": \"system/global/fs/Instabase Drive/TestRunner/output_files/out/DocClassifierExtractor\"\n              }\n            ],\n            \"cur_status\": \"{\\\"job_id\\\": \\\"a52be527-7172-4d61-8a39-1099f6bdcf17\\\", \\\"flow_index\\\": 0, \\\"results\\\": [{\\\"status\\\": \\\"ERROR\\\", \\\"msg\\\": \\\"Flow has failed\\\", \\\"output_folder\\\": \\\"system/global/fs/Instabase Drive/TestRunner/output_files/out/DocClassifierExtractor\\\"}], \\\"status\\\": \\\"FAILED\\\", \\\"start_timestamp\\\": 1741875035297658355, \\\"finish_timestamp\\\": null, \\\"total\\\": 0, \\\"index\\\": 0, \\\"curProgress\\\": 1.0, \\\"curMsg\\\": \\\"All records had a runtime exception, last error observed: Exception occured while running step s3 apply_classifier: (ModelServiceException(...), \\\\\\\"Model service error: __init__() got an unexpected keyword argument 'collect_stats' (StatusCode.INTERNAL)\\\\\\\")\\\", \\\"reviewer\\\": \\\"\\\", \\\"review_state\\\": \\\"NONE\\\", \\\"flow_job_metrics\\\": null, \\\"flow_review_metrics\\\": null, \\\"run_summary\\\": {}, \\\"flow_pipeline_infos\\\": [], \\\"deployed_solution_id\\\": null, \\\"ground_truth_set_id\\\": null, \\\"write_to_cache\\\": false}\",\n            \"finish_timestamp\": null,\n            \"completed_count\": null,\n            \"binary_mode\": true\n          }\n        }\n      }\n    },\n    \"Detailed_Information\": {\n      \"Passed Tests\": [],\n      \"Failed Tests\": [\n        \"E2EDocTest\"\n      ],\n      \"Skipped Tests\": [],\n      \"Field Level Details for all Tests\": [\n        {\n          \"Test Name\": \"E2EDocTest\",\n          \"Errors\": [\n            {\n              \"Error\": \"All records had a runtime exception, last error observed: Exception occured while running step s3 apply_classifier: (ModelServiceException(...), \\\"Model service error: __init__() got an unexpected keyword argument 'collect_stats' (StatusCode.INTERNAL)\\\")\"\n            }\n          ]\n        }\n      ]\n    },\n    \"Description\": {\n      \"E2EDocTest\": \"Tests MSFT v3.2 Lite OCR followed by classification, extraction, refinement and human review.\"\n    }\n  },\n  \"err\": null,\n  \"is_passed\": false\n},```",
      "time": "09:57",
      "timestamp": "1741885075.469469",
      "is_reply": true
    },
    {
      "sender": "Aayush",
      "user_id": "U01594ZKULX",
      "message": "This seems to be coming from https://github.com/instabase/instabase/blob/5df213585470e26fbd2662185f45ee24ed7be3[…]ces/model-service/src/py/instabase/model_service/model_cache.py (https://github.com/instabase/instabase/blob/5df213585470e26fbd2662185f45ee24ed7be3d1/data-services/model-services/model-service/src/py/instabase/model_service/model_cache.py#L273)\nand related to this PR https://github.com/instabase/instabase/pull/68666/files\n@Yash Botadra could you help here",
      "time": "10:26",
      "timestamp": "1741886814.492569",
      "is_reply": true
    },
    {
      "sender": "Yash Botadra",
      "user_id": "U02QEPQ1M7U",
      "message": "Yup, that’s the root cause. It’s easier to fix forward than to rollback my PR. I’ll send out a fix in a few minutes",
      "time": "11:00",
      "timestamp": "1741888822.945329",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2025-03-13.json",
    "message_count": 6,
    "start_time": "1741881899.059349",
    "end_time": "1741888822.945329",
    "is_thread": true
  }
}