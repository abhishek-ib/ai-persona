{
  "id": "ch_C06FA6A23_2025-02-21_1740160608.297549_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Xindi Xu",
    "Cheryl Zhou",
    "Heymian",
    "Nikolaos Kofinas",
    "lydia"
  ],
  "messages": [
    {
      "sender": "Nikolaos Kofinas",
      "user_id": "U03DWCUEBHT",
      "message": "can someone help on how to do this? need ot move all of this to uat aihub asap",
      "time": "09:56",
      "timestamp": "1740160608.297549",
      "is_reply": false
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "yup, i can try - can you send me the repo link on dogfood?",
      "time": "10:21",
      "timestamp": "1740162064.940409",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "I'm trying this myself right now. Weird, @Xindi Xu do you know why can't I see the settings icon on my drive anymore to get the RepoID.",
      "time": "10:22",
      "timestamp": "1740162169.886209",
      "is_reply": true
    },
    {
      "sender": "Nikolaos Kofinas",
      "user_id": "U03DWCUEBHT",
      "message": "https://dogfood.instabase.com/ib_annotation/data/fs/Prod%20Drive/datasets/aihub_benchmarks/",
      "time": "10:22",
      "timestamp": "1740162177.915729",
      "is_reply": true
    },
    {
      "sender": "Nikolaos Kofinas",
      "user_id": "U03DWCUEBHT",
      "message": "if we can mount the whole https://dogfood.instabase.com/ib_annotation/data/fs/Prod%20Drive/datasets/ folder will be even better",
      "time": "10:23",
      "timestamp": "1740162203.864469",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "Same question on how to get RepoID :grimacing:",
      "time": "10:26",
      "timestamp": "1740162413.473089",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "yeah the button's missing. I think we may have removed this functionality from IBClassic already since we refactored the components to be used for AI Hub and wanted to make sure we went through the AI Hub way of mounting instead.",
      "time": "10:28",
      "timestamp": "1740162518.687099",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "And do I mount a new drive? should I use the AI Hub mount drive flow?",
      "time": "10:28",
      "timestamp": "1740162527.178089",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Use AI Hub mount drive flow",
      "time": "10:28",
      "timestamp": "1740162539.490089",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "according to docs (https://docs.instabase.com/admin/data-sources/connect-drives), I should see a \"Data\" tab, but I don't think I see it?",
      "time": "10:32",
      "timestamp": "1740162770.461499",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "nono, go back to the Workspaces page, there's a Data tab there for managing datasources (not Settings)",
      "time": "10:33",
      "timestamp": "1740162822.368379",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "oh gotcah!",
      "time": "10:34",
      "timestamp": "1740162858.384309",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "ok now I'm waiting on the same question as Heymian :smile:\n\ncc @jtau can we hold off on sunsetting dogfood until we figure out how to get info from the drives we want to mount into aihub-sandbox?\n\nWould be useful to know what to fill in for these fields",
      "time": "10:37",
      "timestamp": "1740163057.579329",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Try our docs! https://docs.instabase.com/admin/data-sources/connect-drives#connecting-amazon-s3",
      "time": "10:38",
      "timestamp": "1740163122.190269",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "i'm looking at the docs, but i thought the issue is we don't know what the bucket name / path is from the dogfood drive?",
      "time": "10:40",
      "timestamp": "1740163224.844219",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "also, i can't say i know what my AWS access key / secret is :confused:",
      "time": "10:41",
      "timestamp": "1740163265.101679",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "That's what you'll get from the legacy platform if you can pop open the settings modal.",
      "time": "10:41",
      "timestamp": "1740163269.214749",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "You get your AWS access key/secret from your Okta.",
      "time": "10:41",
      "timestamp": "1740163279.232099",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "and we're waiting on Xindi to see how we open the settings modal? Just want to make sure we're on the same page about the current blocker. Is it possible to get it from Grafana logs? Though dogfood.instabase.com/grafana (http://dogfood.instabase.com/grafana) is giving me a connection error",
      "time": "10:46",
      "timestamp": "1740163603.399939",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "sorry just got out from an interview. Catching up now!",
      "time": "11:02",
      "timestamp": "1740164572.166319",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Ohh bad timing. I just deleted all the functionality for create/update/delete drives and viewing drive details in IB classic last week.",
      "time": "11:03",
      "timestamp": "1740164630.170819",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "@lydia which drives are you interested in?\nWe can still get the non-sensitive drive mount_details from this api response `/api/v1/drives/<repo owner>/<repo name>/fs` like so",
      "time": "11:08",
      "timestamp": "1740164927.670079",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "oh great! in that screenshot, what maps to bucket name and path_to_drive in the AI Hub mounting flow?",
      "time": "11:10",
      "timestamp": "1740165025.278439",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "Do you know if I should be able to see the buckets in the S3 website? The bucket name is `\"hosted-files-non-prod\"` but I don't see it in the list of buckets in the S3 console",
      "time": "11:14",
      "timestamp": "1740165268.899249",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "oh i think i found it. I was logged in as the wrong AWS account",
      "time": "11:16",
      "timestamp": "1740165385.835369",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "I get a \"Drive not added\" error :disappointed: is there logs to see what i did wrong?",
      "time": "11:19",
      "timestamp": "1740165552.387109",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "I'm using the aws-baseEng access key/secret",
      "time": "11:19",
      "timestamp": "1740165571.725319",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "from post request",
      "time": "11:21",
      "timestamp": "1740165719.339209",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Which drive do you want to move over? `ml_studio_bug_bash` has a `LocalFS` so I'm guessing this is not the one",
      "time": "11:22",
      "timestamp": "1740165731.919229",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "the \"Instabase Drive\"",
      "time": "11:22",
      "timestamp": "1740165745.603729",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "ohh, i see.",
      "time": "11:22",
      "timestamp": "1740165750.888799",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "from dogfood",
      "time": "11:22",
      "timestamp": "1740165767.257139",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "I tried a different drive (https://dogfood.instabase.com/ib_annotation/data/fs/Prod%20Drive/) and got the same error. Is it possible to tell from logs if it's an auth issue or mount point issue?",
      "time": "11:25",
      "timestamp": "1740165931.712869",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "lmk try something.",
      "time": "11:25",
      "timestamp": "1740165959.461469",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "i think it should but Jaeger is returning 500 for me rn",
      "time": "11:26",
      "timestamp": "1740165983.188089",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "here's my trace id: 389e0590f14ce4c5",
      "time": "11:27",
      "timestamp": "1740166020.696639",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Ok, it just says InvalidArgument.",
      "time": "11:30",
      "timestamp": "1740166231.521889",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "I just see this in core-platform-service. Not sure if nearby log lines are related. no trace id?",
      "time": "11:30",
      "timestamp": "1740166232.954289",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "@Cheryl Zhou could you help out here? @lydia is trying to mount S3 bucket `hosted-files-non-prod` to aihub-sandbox but the backend returns InvalidArguments. Do we need to generate a new access key ID/secret pair?\n\nhttps://us-east-1.console.aws.amazon.com/s3/buckets/hosted-files-non-prod?region=us-east-1&bucketType=general&tab=objects",
      "time": "11:32",
      "timestamp": "1740166330.903259",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "I just tried putting in a bad access key, and it gives the same error, so could be an auth issue?",
      "time": "11:32",
      "timestamp": "1740166360.964189",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "Could it be my user doesn't have all the necessary permissions? I don't actually know what permissions the awsBaseEng user has",
      "time": "11:33",
      "timestamp": "1740166398.275899",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Same... it needs all these perms and we recently added `s3:GetEncryptionConfiguration` to the list",
      "time": "11:33",
      "timestamp": "1740166432.162039",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "I feel like I probably don't have \"GetEncryptionConfiguration\" - anyone know where to see that? it's not in the bucket policy",
      "time": "11:38",
      "timestamp": "1740166691.944269",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "",
      "time": "11:38",
      "timestamp": "1740166704.443149",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "sorry i have to run for a bit. @Cheryl Zhou can you try mounting a drive from dogfood to aihub-sandbox and see if it works for you?",
      "time": "11:38",
      "timestamp": "1740166730.966079",
      "is_reply": true
    },
    {
      "sender": "Cheryl Zhou",
      "user_id": "U030KCEN6NA",
      "message": "Oh yes that's probably why",
      "time": "11:39",
      "timestamp": "1740166758.488059",
      "is_reply": true
    },
    {
      "sender": "Cheryl Zhou",
      "user_id": "U030KCEN6NA",
      "message": "the GetEncryptionConfiguration is recently added",
      "time": "11:39",
      "timestamp": "1740166793.226279",
      "is_reply": true
    },
    {
      "sender": "Cheryl Zhou",
      "user_id": "U030KCEN6NA",
      "message": "i was able to mount the default drives credentials on aihub-sandbox",
      "time": "11:41",
      "timestamp": "1740166876.195819",
      "is_reply": true
    },
    {
      "sender": "Cheryl Zhou",
      "user_id": "U030KCEN6NA",
      "message": "We need to add this permission to the IAM user policy (the user which created the access keys) in addition to the bucket policy",
      "time": "11:49",
      "timestamp": "1740167358.209369",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "@Cheryl Zhou can you send a request to IT to have them add this?",
      "time": "12:30",
      "timestamp": "1740169856.169509",
      "is_reply": true
    },
    {
      "sender": "Cheryl Zhou",
      "user_id": "U030KCEN6NA",
      "message": "Permissions are added!",
      "time": "18:11",
      "timestamp": "1740190294.413719",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2025-02-21.json",
    "message_count": 51,
    "start_time": "1740160608.297549",
    "end_time": "1740190294.413719",
    "is_thread": true
  }
}