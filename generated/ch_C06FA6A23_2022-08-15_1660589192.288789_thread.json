{
  "id": "ch_C06FA6A23_2022-08-15_1660589192.288789_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Rahul Tewari",
    "Heymian",
    "Dave",
    "Serena",
    "lydia"
  ],
  "messages": [
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "@Dave @Tony Cervi we may need some eyes on this. More threads cropping up from eng on this.",
      "time": "11:46",
      "timestamp": "1660589192.288789",
      "is_reply": false
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "Responded in the other thread but Kandji is enforcing the new version of docker within two weeks of its release, are we stuck on operating on a specific version number?",
      "time": "11:55",
      "timestamp": "1660589713.578999",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "i think that there’s a change in behavior (still tbd) in the new version of docker",
      "time": "11:56",
      "timestamp": "1660589765.925219",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "i looked at the release notes (https://docs.docker.com/engine/release-notes/#201017) for docker v20.10.17, and they mentioned an update to `runc` for this CVE (https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-29162), which seems related??",
      "time": "11:56",
      "timestamp": "1660589769.499469",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "I have seen in the past that docker upgrades might break our dev setup. @Dave is this something we need to keep up-to-date?",
      "time": "12:12",
      "timestamp": "1660590774.705899",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "We can play with it, but given that we give our customers patching commitments we should be aiming to do so",
      "time": "12:24",
      "timestamp": "1660591446.805019",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "I can back off the requirement for now, but we should be figuring what the right enforcement interval is for patching to make sure we're fitting those commitments while remaining stable",
      "time": "12:24",
      "timestamp": "1660591484.590539",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "We're currently enforcing 4.11.0 for the desktop client, 4.11.1 should be coming through for enforcement starting Friday",
      "time": "12:25",
      "timestamp": "1660591550.392149",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "That said, is Docker enforcing 20.10.17 through the client?",
      "time": "12:26",
      "timestamp": "1660591603.428169",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "Yea, it would be great if you can buy us a bit of time to figure out a process for keeping our dev setup functioning with new Docker releases (e.g. should we be scheduling time to test new releases before we mandate push-out to all engs) @Heymian is this something that your team has bandwidth to take on? Happy to chat live",
      "time": "12:26",
      "timestamp": "1660591618.960969",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "@Serena for context, do you know what Docker version you were on where it was working?",
      "time": "12:27",
      "timestamp": "1660591648.710049",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "i don’t recall unfortunately :disappointed:",
      "time": "12:28",
      "timestamp": "1660591681.669659",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "It would be good to confirm that we can reproduce this, if it's the version number for the client we should be able to do so",
      "time": "12:29",
      "timestamp": "1660591778.374259",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "Given that all but 20 people are on Kandji at the moment, it shouldn't be something we see failing selectively",
      "time": "12:30",
      "timestamp": "1660591814.452079",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "@Serena can you help poll the engs (in this channel is fine) to see how many people have this issue?",
      "time": "12:31",
      "timestamp": "1660591865.510829",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "Just so long as we can confirm a few more are seeing this, I show all 98 machines with Docker installed are running 4.11",
      "time": "12:31",
      "timestamp": "1660591889.073289",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "So it should be a uniform failure across all of eng if it's version realated",
      "time": "12:31",
      "timestamp": "1660591904.836259",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "so far we know at least 5 people have seen this issue (me, CJ, Dominic, Rahul, Cheryl)",
      "time": "12:31",
      "timestamp": "1660591907.726059",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "@Dave not all devs use docker",
      "time": "12:32",
      "timestamp": "1660591931.008349",
      "is_reply": true
    },
    {
      "sender": "Rahul Tewari",
      "user_id": "U02QTCYQPUH",
      "message": "This happens at image build time so it's possible engineers who may have the issue do not see the issue",
      "time": "12:32",
      "timestamp": "1660591943.039699",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "some run ib services locally, or just a subset locally",
      "time": "12:32",
      "timestamp": "1660591945.508369",
      "is_reply": true
    },
    {
      "sender": "Rahul Tewari",
      "user_id": "U02QTCYQPUH",
      "message": "Until they rebuild it",
      "time": "12:32",
      "timestamp": "1660591947.107039",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "Understood, but I can see there are 98 installed copies at the current version",
      "time": "12:32",
      "timestamp": "1660591950.300379",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "@Rahul Tewari do you mean you only see this issue if you manually build the docker image? Does it happen if you use the pre-built images?",
      "time": "12:32",
      "timestamp": "1660591977.743299",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "this does not occur with the pre-built images",
      "time": "12:33",
      "timestamp": "1660591986.480899",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "...just wanted to see if we had anyone that runs it that isn't seeing the issue (both so we can confirm what version they are on to roll back to, and to see if there is actually an issue with it)",
      "time": "12:33",
      "timestamp": "1660591991.022979",
      "is_reply": true
    },
    {
      "sender": "Rahul Tewari",
      "user_id": "U02QTCYQPUH",
      "message": "I have not tried with pre-built",
      "time": "12:33",
      "timestamp": "1660592027.854029",
      "is_reply": true
    },
    {
      "sender": "Rahul Tewari",
      "user_id": "U02QTCYQPUH",
      "message": "Does kandji do anything to local file permissions? The file permissions in the local context are what is copied to the docker container",
      "time": "12:37",
      "timestamp": "1660592231.696899",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "No Kandji doesn't affect much, if anything, in the file system, it's all mac based profiles",
      "time": "12:44",
      "timestamp": "1660592674.129519",
      "is_reply": true
    },
    {
      "sender": "Rahul Tewari",
      "user_id": "U02QTCYQPUH",
      "message": "Ok",
      "time": "12:45",
      "timestamp": "1660592713.858949",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2022-08-15.json",
    "message_count": 30,
    "start_time": "1660589192.288789",
    "end_time": "1660592713.858949",
    "is_thread": true
  }
}