{
  "id": "ch_C06FA6A23_2025-08-11_1754951003.590769_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Xindi Xu",
    "mfichman"
  ],
  "messages": [
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Hey team! Just merged a PR (https://github.com/instabase/instabase/pull/72681) to run *end-to-end (e2e) tests* as a *pre-merge GitHub Action (GA)*. Right now, it's *non-blocking* and runs only 2 tests. We’ll give it a week to stabilize before making it merge-blocking & adding more tests.\n\n:zap: *What it does:*\n• Run only failed Cypress tests from the last run (else run all).\n• Launch Crafting sandbox with *full PR code* (backend + frontend), using `ibdev-backend` template (compared to just frontend code in the previous version)\n• Sandbox is private: access via SSO or with Cookie `X-Cypress-Test-Key=<CYPRESS_TEST_KEY>` (“Cypress CI cypress_test_key” in 1Password).\n• Wipe & seed DB each run\n    ◦ Runs dbinit with a randomly generated site admin API token\n    ◦ Runs JS setup scripts with that API token\n• Parallel test runs on 3 machines\n• Post tests result as a GitHub comment on the PR\n:memo: *Tips:*\nIf a test fails due to flakiness, click *“re-run all jobs”* — this will rerun only the last failed tests. (see screenshot)\n\n:globe_with_meridians: *Why run e2e tests on all PRs, not just frontend PRs?*\nThis GA tests our code end-to-end. For example, if a backend change breaks core-services and prevents logins, the GA will catch it.\n\n:stopwatch: *Some stats:*\n• Create a new sandbox: ~25 minutes (Docker cache dependent)\n• Update an existing sandbox: 2–10 minutes (Docker cache dependent)\n• Install Cypress & run tests: ~5 minutes (will grow as we add tests)\n:runner: *Next steps:*\n• Add existing low-flakiness Cypress tests covering critical user journeys\n• Keep cutting build times\n:raised_hands:  Big shoutout to @mfichman, @Victor Zeng, @Jeff, and @abhishekk for making the sandbox build much more stable and faster than it was just 3 weeks ago! :tada: :tada:",
      "time": "15:23",
      "timestamp": "1754951003.590769",
      "is_reply": false
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Thank you Xindi for taking this on!",
      "time": "17:55",
      "timestamp": "1754960137.550729",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2025-08-11.json",
    "message_count": 2,
    "start_time": "1754951003.590769",
    "end_time": "1754960137.550729",
    "is_thread": true
  }
}