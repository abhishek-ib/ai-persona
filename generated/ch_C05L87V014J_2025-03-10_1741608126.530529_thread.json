{
  "id": "ch_C05L87V014J_2025-03-10_1741608126.530529_thread",
  "type": "channel",
  "channel_name": "ask-crafting",
  "conversation_type": "thread",
  "participants": [
    "mfichman",
    "Vasu",
    "derrick.smith",
    "Dave",
    "Serena"
  ],
  "messages": [
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Looks like the previous dev key was created using Kerry's account (https://instabase.slack.com/archives/C04PFH9DYF7/p1687906536588799?thread_ts=1687467271.005519&cid=C04PFH9DYF7) which recently got deactivated causing all the keys which were generated from Kerry's account to stop working (with various errors, none clearly saying that the key got revoked for some reason). The timing around which the dev key stopped working aligns with the keys expiring on aihub eu prod too which were also created using Kerry's account, more details in the recent incident on friday <#C08GKTC5AJ1|> specifically this (https://instabase.slack.com/archives/C08GKTC5AJ1/p1741369811778609) thread.\n\nI was able to test this theory by generating a new key from the openai dashboard and it doesn't throw any errors. So, the most likely suspect is that the key got revoked just like aihub eu prod keys. So, I think we'd need to generate a new key from a service account as suggested in the above incident channel. Not sure how to request for a new one though generated from a service account which everyone can use.",
      "time": "05:02",
      "timestamp": "1741608126.530529",
      "is_reply": false
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "Thanks for investigating! @Vasu \n\n@derrick.smith @Dave can we create a new OpenAI API dev key since the current one has been revoked?",
      "time": "08:04",
      "timestamp": "1741619090.745609",
      "is_reply": true
    },
    {
      "sender": "derrick.smith",
      "user_id": "U04DVBQVBTQ",
      "message": "Ah, yes, Kerry's dev key strikes again. Hey @Serena, can one of you file a ticket to <mailto:ithelp@instabase.com|ithelp@instabase.com> to document that request?",
      "time": "08:17",
      "timestamp": "1741619875.094849",
      "is_reply": true
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "@derrick.smith Filed a ticket just now!",
      "time": "08:25",
      "timestamp": "1741620313.997219",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "Can you give some more context here @Serena and @Vasu",
      "time": "09:13",
      "timestamp": "1741623218.914369",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "…we ultimately grant access to generate individual dev keys to preclude a need for shared keys",
      "time": "09:14",
      "timestamp": "1741623240.904759",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "all engineers use the same OpenAI API key in their developer environments\n\nwe are not aware of the need to generate individual dev keys - if that is the expected process, we should document that in our eng onboarding",
      "time": "09:14",
      "timestamp": "1741623279.707429",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "> all engineers use the same OpenAI API key in their developer environments\nSo this is directly counter to what we agreed on back at launch",
      "time": "09:15",
      "timestamp": "1741623334.006469",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "also, not all engineers have access to generate an OpenAI API key, right? i've never generated one",
      "time": "09:15",
      "timestamp": "1741623334.706169",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "We even documented the approach for people to request keys here for dev: https://instabase.atlassian.net/wiki/spaces/IT/pages/2088730639/Requesting+an+OpenAI+API+Key",
      "time": "09:15",
      "timestamp": "1741623345.606929",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "The idea being if an engineer needs a key we give them access to generate keys in the OpenAI dev environment and thus should that access ever need to be revoked (security incident, change of responsibility, departure etc) then closing that account revokes just the keys they were using",
      "time": "09:17",
      "timestamp": "1741623435.222779",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "almost every engineer needs an OpenAI API dev key\n\ni'm not sure where the message got lost, but i didn't know we made a decision to not use shared keys - cc @Ashish\n\nin any case, let's make an announcement in <#C06FA6A23|> that everyone needs to request a new API dev key according to the instructions in the Confluence doc (https://instabase.atlassian.net/wiki/spaces/IT/pages/2088730639/Requesting+an+OpenAI+API+Key)?\n\nwe'll also need to document this in our eng onboarding",
      "time": "09:20",
      "timestamp": "1741623609.294979",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "To correct that slightly, you request an OpenAI Dev account, then self serve your keys",
      "time": "09:22",
      "timestamp": "1741623754.203939",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "…it is the same process we use for getting the keys for Cursor",
      "time": "09:22",
      "timestamp": "1741623773.551929",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "(the idea being each engineer can manage their own keys and generate new ones for each task they need)",
      "time": "09:23",
      "timestamp": "1741623797.422669",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "yes that's why i was also confused why we were asking people to get individual keys for Cursor\n\nbc we were already using the shared key for all of our dev environments",
      "time": "09:23",
      "timestamp": "1741623798.692469",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "but this all makes sense now :sweat_smile:",
      "time": "09:23",
      "timestamp": "1741623819.473709",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "Yes definitely seems like it wasn’t relayed at some point.",
      "time": "09:23",
      "timestamp": "1741623838.317079",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "ok i made an announcement (https://instabase.slack.com/archives/C06FA6A23/p1741624031792059) in <#C06FA6A23|>",
      "time": "09:27",
      "timestamp": "1741624060.200369",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "to close out this thread, please refer to https://instabase.slack.com/archives/C06FA6A23/p1741624031792059 if your crafting sandbox is not able to make calls to OpenAI!",
      "time": "09:28",
      "timestamp": "1741624125.081159",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "@Serena can we make a new OpenAI API key for all of the crafting sandboxes? If so, I can update the crafting sandbox secrets with the new key. (https://instabase.sandboxes.site/secrets) Otherwise, a freshly-built sandbox won't work. Having a manual step here is not ideal.",
      "time": "10:10",
      "timestamp": "1741626630.612859",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "i agree, this does complicate our super simple onboarding doc (https://docs.google.com/document/d/1yQOCxOISV_ukUxXdPJDoN-rERtOhdVRe7zv1swF1igw/edit?tab=t.0)\n\n@Dave is it possible to use 1 API key for all dev sandboxes created in crafting?",
      "time": "10:12",
      "timestamp": "1741626731.515099",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "So I don’t have a ton of familiarity with Crafting, is that a situation where the crafting admin would just be putting it in on the back end and it would be transparent to people spinning up sandboxes etc?",
      "time": "10:13",
      "timestamp": "1741626822.418649",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "That would be easily covered by the SRE request portion of the process",
      "time": "10:13",
      "timestamp": "1741626835.202069",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "yep, that summary is exactly correct",
      "time": "10:15",
      "timestamp": "1741626917.558279",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Yes, exactly @Dave -- the configuration page for Crafting secrets is here: https://instabase.sandboxes.site/secrets",
      "time": "10:15",
      "timestamp": "1741626921.835309",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "These get injected automatically into sandboxes, so they are easy to rotate.",
      "time": "10:15",
      "timestamp": "1741626933.711249",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "Do both of you have a minute to hop on a zoom? I think there is a nuance in the text I just want to make sure we’re all on the same page about",
      "time": "10:16",
      "timestamp": "1741626960.037469",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "I have 14 minutes :slightly_smiling_face:",
      "time": "10:16",
      "timestamp": "1741626975.848719",
      "is_reply": true
    },
    {
      "sender": "Dave",
      "user_id": "U03D9RJ7SQL",
      "message": "We were able to hop on a call and confirm this is centrally applied. Matt will be submitting a request through the SRE fork of the key request process for a Prod key (created in Dev) that @derrick.smith will fill when it comes in and Matt will apply.\n\nThis will not require individual engineers to take action",
      "time": "10:27",
      "timestamp": "1741627678.685539",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "i updated the <#C06FA6A23|> announcement (https://instabase.slack.com/archives/C06FA6A23/p1741624031792059) to clarify that these manual steps are only temporarily necessary",
      "time": "10:30",
      "timestamp": "1741627838.084719",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C05L87V014J",
    "channel_name": "ask-crafting",
    "date_file": "2025-03-10.json",
    "message_count": 31,
    "start_time": "1741608126.530529",
    "end_time": "1741627838.084719",
    "is_thread": true
  }
}