{
  "id": "ch_C0516UPPMT3_2023-09-25_1695645696.469589_thread",
  "type": "channel",
  "channel_name": "aihub-feedback",
  "conversation_type": "thread",
  "participants": [
    "Yash Botadra",
    "mfichman",
    "Dale DeLoy",
    "hannah"
  ],
  "messages": [
    {
      "sender": "Dale DeLoy",
      "user_id": "U01T2LEP1FF",
      "message": "When using ibllm within refiner I am getting errors with a few files.\n```Exception calling function - call_model_converse: Error running model req {'context': {'username': 'insan-use2-court-orders-cp-user'}, 'modelName': 'ibllm', 'modelVersion': '1.1.20', 'resultCacheFolder': 'court-orders/pov/fs/Instabase Drive/court_orders_project/out/out240923/s2_map_records', 'isProjectModel': False, 'modelFsPath': None, 'jobId': '', 'taskId': None, 'modelPayload': {'customRequest': {'task': 'add_to_index', 'cached_index': 'GPT_run_flow_dev_e3baa04c_342b_38c2_ed95_a95627c33cf5', 'check_exists': True, 'record_number': '0'}}, 'input_raw_data': {'type': 'ibocr', 'data': ```",
      "time": "05:41",
      "timestamp": "1695645696.469589",
      "is_reply": false
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "@Dale DeLoy I think part of that error log got truncated. Can you send the whole thing?",
      "time": "07:22",
      "timestamp": "1695651757.629949",
      "is_reply": true
    },
    {
      "sender": "hannah",
      "user_id": "U01385H7VJL",
      "message": "cc: @lydia @pauline.comising",
      "time": "09:01",
      "timestamp": "1695657697.157789",
      "is_reply": true
    },
    {
      "sender": "Dale DeLoy",
      "user_id": "U01T2LEP1FF",
      "message": "```FsaWMSABoAGhsKFVFOQ0FBQStDYWxpYnJpUmVndWxhchIAGgAaGQoTUUlDQUFBK0FyaWFsTmVncml0bxIAGgAaGAoSUVhDQUFBK0FyaWFsTm9ybWFsEgAaABoYChJRU0NBQUErQ2FsaWJyaUJvbGQSABoAGhgKElFUQkFBQStDYW1icmlhQm9sZBIAGgAaGwoVUUNEQUFBK0NhbWJyaWFSZWd1bGFyEgAaABobChVRT0JBQUErU2Vnb2VVSU5lZ3JpdG8SABoAGhoKFFFEQ0FBQStTZWdvZVVJTm9ybWFsEgAaABoaChRRSkJBQUErVmVyZGFuYU5vcm1hbBIAGgAaIAoaUVlCQUFBK1RpbWVzTmV3Um9tYW5Ob3JtYWwSABoAGg0KB3Vua25vd24SABoAGhkKE1NVVk1ZVitBcmlhbCxJdGFsaWMSABoAGhIKDE5RR0xFQitBcmlhbBIAGgAaEgoMTkhMWlpBK0FyaWFsEgAaABoZChNUUEFDVkYrQXJpYWwsSXRhbGljEgAaABobChVRTkNBQUErQ2FsaWJyaVJlZ3VsYXISABoAGhkKE1FJQ0FBQStBcmlhbE5lZ3JpdG8SABoAGhgKElFYQ0FBQStBcmlhbE5vcm1hbBIAGgAaGAoSUVNDQUFBK0NhbGlicmlCb2xkEgAaABoYChJRVEJBQUErQ2FtYnJpYUJvbGQSABoAGhsKFVFDREFBQStDYW1icmlhUmVndWxhchIAGgAaGwoVUU9CQUFBK1NlZ29lVUlOZWdyaXRvEgAaABoaChRRRENBQUErU2Vnb2VVSU5vcm1hbBIAGgAaGgoUUUpCQUFBK1ZlcmRhbmFOb3JtYWwSABoAGiAKGlFZQkFBQStUaW1lc05ld1JvbWFuTm9ybWFsEgAaABoNCgd1bmtub3duEgAaABoZChNTVVZNWVYrQXJpYWwsSXRhbGljEgAaABoSCgxOUUdMRUIrQXJpYWwSABoAGhIKDE5ITFpaQStBcmlhbBIAGgAaGQoTVFBBQ1ZGK0FyaWFsLEl0YWxpYxIAGgAaGwoVUU5DQUFBK0NhbGlicmlSZWd1bGFyEgAaABoZChNRSUNBQUErQXJpYWxOZWdyaXRvEgAaABoYChJRWENBQUErQXJpYWxOb3JtYWwSABoAGhgKElFTQ0FBQStDYWxpYnJpQm9sZBIAGgAaGAoSUVRCQUFBK0NhbWJyaWFCb2xkEgAaABobChVRQ0RBQUErQ2FtYnJpYVJlZ3VsYXISABoAGhsKFVFPQkFBQStTZWdvZVVJTmVncml0bxIAGgAaGgoUUURDQUFBK1NlZ29lVUlOb3JtYWwSABoAGhoKFFFKQkFBQStWZXJkYW5hTm9ybWFsEgAaABogChpRWUJBQUErVGltZXNOZXdSb21hbk5vcm1hbBIAGgAaDQoHdW5rbm93bhIAGgAaGQoTU1VWTVlWK0FyaWFsLEl0YWxpYxIAGgAaEgoMTlFHTEVCK0FyaWFsEgAaABoSCgxOSExaWkErQXJpYWwSABoAGhkKE1RQQUNWRitBcmlhbCxJdGFsaWMSABoAGhsKFVFOQ0FBQStDYWxpYnJpUmVndWxhchIAGgAaGQoTUUlDQUFBK0FyaWFsTmVncml0bxIAGgAaGAoSUVhDQUFBK0FyaWFsTm9ybWFsEgAaABoYChJRU0NBQUErQ2FsaWJyaUJvbGQSABoAGhgKElFUQkFBQStDYW1icmlhQm9sZBIAGgAaGwoVUUNEQUFBK0NhbWJyaWFSZWd1bGFyEgAaABobChVRT0JBQUErU2Vnb2VVSU5lZ3JpdG8SABoAGhoKFFFEQ0FBQStTZWdvZVVJTm9ybWFsEgAaABoaChRRSkJBQUErVmVyZGFuYU5vcm1hbBIAGgAaIAoaUVlCQUFBK1RpbWVzTmV3Um9tYW5Ob3JtYWwSABoAGg0KB3Vua25vd24SABoAGhkKE1NVVk1ZVitBcmlhbCxJdGFsaWMSABoAGhIKDE5RR0xFQitBcmlhbBIAGgAaEgoMTkhMWlpBK0FyaWFsEgAaABoZChNUUEFDVkYrQXJpYWwsSXRhbGljEgAaABobChVRTkNBQUErQ2FsaWJyaVJlZ3VsYXISABoAGhkKE1FJQ0FBQStBcmlhbE5lZ3JpdG8SABoAGhgKElFYQ0FBQStBcmlhbE5vcm1hbBIAGgAaGAoSUVNDQUFBK0NhbGlicmlCb2xkEgAaABoYChJRVEJBQUErQ2FtYnJpYUJvbGQSABoAGhsKFVFDREFBQStDYW1icmlhUmVndWxhchIAGgAaGwoVUU9CQUFBK1NlZ29lVUlOZWdyaXRvEgAaABoaChRRRENBQUErU2Vnb2VVSU5vcm1hbBIAGgAaGgoUUUpCQUFBK1ZlcmRhbmFOb3JtYWwSABoAGiAKGlFZQkFBQStUaW1lc05ld1JvbWFuTm9ybWFsEgAaABoNCgd1bmtub3duEgAaABoZChNTVVZNWVYrQXJpYWwsSXRhbGljEgAaABoSCgxOUUdMRUIrQXJpYWwSABoAGhIKDE5ITFpaQStBcmlhbBIAGgAaGQoTVFBBQ1ZGK0FyaWFsLEl0YWxpYxIAGgAaGwoVUU5DQUFBK0NhbGlicmlSZWd1bGFyEgAaABoZChNRSUNBQUErQXJpYWxOZWdyaXRvEgAaABoYChJRWENBQUErQXJpYWxOb3JtYWwSABoAGhgKElFTQ0FBQStDYWxpYnJpQm9sZBIAGgAaGAoSUVRCQUFBK0NhbWJyaWFCb2xkEgAaABobChVRQ0RBQUErQ2FtYnJpYVJlZ3VsYXISABoAGhsKFVFPQkFBQStTZWdvZVVJTmVncml0bxIAGgAaGgoUUURDQUFBK1NlZ29lVUlOb3JtYWwSABoAGhoKFFFKQkFBQStWZXJkYW5hTm9ybWFsEgAaABogChpRWUJBQUErVGltZXNOZXdSb21hbk5vcm1hbBIAGgAaDQoHdW5rbm93bhIAGgAaGQoTU1VWTVlWK0FyaWFsLEl0YWxpYxIAGgAaEgoMTlFHTEVCK0FyaWFsEgAaABoSCgxOSExaWkErQXJpYWwSABoAGhkKE1RQQUNWRitBcmlhbCxJdGFsaWMSABoAGhsKFVFOQ0FBQStDYWxpYnJpUmVndWxhchIAGgAaGQoTUUlDQUFBK0FyaWFsTmVncml0bxIAGgAaGAoSUVhDQUFBK0FyaWFsTm9ybWFsEgAaABoYChJRU0NBQUErQ2FsaWJyaUJvbGQSABoAGhgKElFUQkFBQStDYW1icmlhQm9sZBIAGgAaGwoVUUNEQUFBK0NhbWJyaWFSZWd1bGFyEgAaABobChVRT0JBQUErU2Vnb2VVSU5lZ3JpdG8SABoAGhoKFFFEQ0FBQStTZWdvZVVJTm9ybWFsEgAaABoaChRRSkJBQUErVmVyZGFuYU5vcm1hbBIAGgAaIAoaUVlCQUFBK1RpbWVzTmV3Um9tYW5Ob3JtYWwSABoAMtgBCiQyZDI2ODRjNC03ZjlhLTRhZjUtYTg3Yy1hZjhmY2IyOWE3YjQSEWZsb3dfcnVuX21ldGFkYXRhIpwBChFmbG93X3J1bl9tZXRhZGF0YRIRZmxvd19ydW5fbWV0YWRhdGEqdApMY291cnQtb3JkZXJzL3Bvdi9mcy9JbnN0YWJhc2UgRHJpdmUvY291cnRfb3JkZXJzX3Byb2plY3QvY291cnRfb3JkZXJzLmliZmxvdxIkMmQyNjg0YzQtN2Y5YS00YWY1LWE4N2MtYWY4ZmNiMjlhN2I0'}}: (ModelServiceException(...), 'Received message larger than max (29552943 vs. 26214400) (StatusCode.RESOURCE_EXHAUSTED)'). Defined in ib/market/ib_llm_tools/ai_hub.py (line 57)\n\nTraceback:\n  File \"ib/market/ib_llm_tools/ai_hub.py\", line 232, in call_model_converse\n  File \"ib/market/ib_llm_tools/ai_hub.py\", line 57, in _run_extraction_per_field_chat_mode\n  File \"/instabase/workers/celery-app-tasks/py/instabase/udf_utils/ib_intelligence/functions.py\", line 306, in add_record\n    self.ip_sdk.run_model(**request, **self.ip_sdk.udf_kwargs)  # type: ignore\n  File \"/instabase/workers/celery-app-tasks/py/instabase/udf_utils/ib_intelligence/functions.py\", line 221, in run_model\n    raise Exception(err_msg)```",
      "time": "09:05",
      "timestamp": "1695657937.866569",
      "is_reply": true
    },
    {
      "sender": "Yash Botadra",
      "user_id": "U02QEPQ1M7U",
      "message": "```Received message larger than max (29552943 vs. 26214400)```\nThe default max size of file payload we allow is 25MB. Youâ€™re trying to digitize a 28MB file.\n\nThis limit can be updated by setting `GRPC_MAX_MESSAGE_LENGTH_MB` to a higher number, say 30, in model-service configs via a DM patch.",
      "time": "09:48",
      "timestamp": "1695660494.758599",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "We should definitely have a better user-facing error for this though!!",
      "time": "09:57",
      "timestamp": "1695661056.249059",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C0516UPPMT3",
    "channel_name": "aihub-feedback",
    "date_file": "2023-09-25.json",
    "message_count": 6,
    "start_time": "1695645696.469589",
    "end_time": "1695661056.249059",
    "is_thread": true
  }
}