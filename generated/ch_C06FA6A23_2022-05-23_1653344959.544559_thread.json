{
  "id": "ch_C06FA6A23_2022-05-23_1653344959.544559_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "jtau",
    "Pridhvi Vegesna",
    "Serena",
    "Heymian"
  ],
  "messages": [
    {
      "sender": "Pridhvi Vegesna",
      "user_id": "U0290LSE8KC",
      "message": "Calling out relevant changes that developers should be aware of in this discussion thread",
      "time": "15:29",
      "timestamp": "1653344959.544559",
      "is_reply": false
    },
    {
      "sender": "Pridhvi Vegesna",
      "user_id": "U0290LSE8KC",
      "message": "go 1.16 and onwards, go modules are turned on by default. This affects our build systems, and also affects the commands we use to update our go.mod files. If you run into strange issues after the upgrade to go 1.18, try running `go mod tidy` in the relevant directory (e.g. “<path to instabase>/instabase/core-services/file-tservice/grpc-file-service/src/go/src/instabase/fileservice”). For example, a seemingly unrelated issue where mockery complained it couldn’t find the class to mock was fixed by running `go mod tid`  in the module space for the go code being mocked.",
      "time": "15:30",
      "timestamp": "1653345050.390219",
      "is_reply": true
    },
    {
      "sender": "Pridhvi Vegesna",
      "user_id": "U0290LSE8KC",
      "message": "go 1.17 and onwards, all indirect dependencies explicitly get declared in go mod files (example pictured)",
      "time": "15:32",
      "timestamp": "1653345126.753369",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "can we also update https://docs.google.com/document/d/1yQOCxOISV_ukUxXdPJDoN-rERtOhdVRe7zv1swF1igw/edit#heading=h.90h1pyw7mu87?",
      "time": "15:35",
      "timestamp": "1653345332.747549",
      "is_reply": true
    },
    {
      "sender": "Pridhvi Vegesna",
      "user_id": "U0290LSE8KC",
      "message": "Within our go services, we set the flag x509ignoreCN=0 to ignore. As per go documentation, “the GODEBUG=x509ignoreCN=0 flag will be removed in Go 1.17. It enables the legacy behavior of treating the CommonName field on X.509 certificates as a host name when no Subject Alternative Names are present.” (i.e. we no longer support this legacy behavior for certificates).\n\nWe will be removing these stale flags from our docker files for go services in the near future.",
      "time": "15:39",
      "timestamp": "1653345552.854589",
      "is_reply": true
    },
    {
      "sender": "jtau",
      "user_id": "U02F9FESZRN",
      "message": "not sure what everyone else is using to manage go versions, but I found gobrew to be pretty easy to use to install new go versions and switch between them",
      "time": "15:42",
      "timestamp": "1653345727.676339",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Go brew actually isn’t compatible with the go installers, so I would not recommend go brew. We used to have some folks try brew and they ran into some downstream go issues (i don’t remember what exactly), and they had to revert back to the pkg installer",
      "time": "15:55",
      "timestamp": "1653346502.842549",
      "is_reply": true
    },
    {
      "sender": "Pridhvi Vegesna",
      "user_id": "U0290LSE8KC",
      "message": "As a heads up, developers will need to switch to go 1.15 for cherrypicks on prior releases (may and before)\n\nthe go installers found on the go website work pretty well for me https://go.dev/dl/ they take 2 minutes to install so if you want to switch back and forth between versions it's not much of a hassle",
      "time": "15:56",
      "timestamp": "1653346600.716609",
      "is_reply": true
    },
    {
      "sender": "jtau",
      "user_id": "U02F9FESZRN",
      "message": "that's good to know, looks like i'm reverting back to the pkg installer as well",
      "time": "17:07",
      "timestamp": "1653350857.700489",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2022-05-23.json",
    "message_count": 9,
    "start_time": "1653344959.544559",
    "end_time": "1653350857.700489",
    "is_thread": true
  }
}