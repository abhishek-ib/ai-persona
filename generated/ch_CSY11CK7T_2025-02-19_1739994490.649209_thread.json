{
  "id": "ch_CSY11CK7T_2025-02-19_1739994490.649209_thread",
  "type": "channel",
  "channel_name": "discuss-frontend",
  "conversation_type": "thread",
  "participants": [
    "Weiming Wu",
    "Heymian",
    "Serena"
  ],
  "messages": [
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Another js unit test failure on master - https://instabase.slack.com/archives/C029DKPHRPY/p1739994051423179\n\nFailing consistently\n```Summary of all failing tests\n11:40:25  FAIL apps/src/aihub/features/DataSources/components/IndexingModals/__tests__/IndexingStatusModal.test.ts\n11:40:25    ● IndexingStatusModal › displays generic error modal\n11:40:25  \n11:40:25      TypeError: Cannot read properties of undefined (reading 'client_type')\n11:40:25  \n11:40:25        19 | }> = ({ onClose, drive }) => {\n11:40:25        20 |   const dispatch = useAppDispatch();\n11:40:25      > 21 |   const mountClientType = drive.mount_details.client_type;\n11:40:25           |                                               ^\n11:40:25        22 |   useEffect(() => {\n11:40:25        23 |     sendDataSourceErrorStatusDetailsViewedAmplitudeEvent(mountClientType);\n11:40:25        24 |   }, []);\n11:40:25  \n11:40:25        at client_type (apps/src/aihub/features/DataSources/components/IndexingModals/GenericIndexingErrorModal/index.tsx:21:47)\n11:40:25        at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:14985:18)\n11:40:25        at mountIndeterminateComponent (node_modules/react-dom/cjs/react-dom.development.js:17811:13)\n11:40:25        at beginWork (node_modules/react-dom/cjs/react-dom.development.js:19049:16)\n11:40:25        at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:3945:14)\n11:40:25        at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n11:40:25        at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n11:40:25        at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n11:40:25        at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n11:40:25        at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n11:40:25        at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n11:40:25        at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:3994:16)\n11:40:25        at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4056:31)\n11:40:25        at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:23964:7)\n11:40:25        at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:22779:12)\n11:40:25        at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:22707:5)\n11:40:25        at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:22670:7)\n11:40:25        at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:22293:18)\n11:40:25        at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom.development.js:21881:7)\n11:40:25        at updateContainer (node_modules/react-dom/cjs/react-dom.development.js:25482:3)\n11:40:25        at node_modules/react-dom/cjs/react-dom.development.js:26021:7\n11:40:25        at unbatchedUpdates (node_modules/react-dom/cjs/react-dom.development.js:22431:12)\n11:40:25        at legacyRenderSubtreeIntoContainer (node_modules/react-dom/cjs/react-dom.development.js:26020:5)\n11:40:25        at Object.render (node_modules/react-dom/cjs/react-dom.development.js:26103:10)\n11:40:25        at node_modules/@testing-library/react/dist/pure.js:101:25\n11:40:25        at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom.development.js:22380:12)\n11:40:25        at act (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1042:14)\n11:40:25        at render (node_modules/@testing-library/react/dist/pure.js:97:26)\n11:40:25        at getComponentWrapper (apps/src/aihub/__tests__/utils.tsx:130:14)\n11:40:25        at setup (apps/src/aihub/features/DataSources/components/IndexingModals/__tests__/IndexingStatusModal.test.ts:28:22)\n11:40:25        at Object.setup (apps/src/aihub/features/DataSources/components/IndexingModals/__tests__/IndexingStatusModal.test.ts:151:5)\n11:40:25  \n11:40:25  \n11:40:25  Test Suites: 1 failed, 1 skipped, 1003 passed, 1004 of 1005 total\n11:40:25  Tests:       1 failed, 21 skipped, 4 todo, 6907 passed, 6933 total\n11:40:25  Snapshots:   27 passed, 27 total\n11:40:25  Time:        2745.804 s\n11:40:25  error Command failed with exit code 1.\n11:40:25  info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n11:40:25  make: *** [Makefile:107: test-with-junit-reporting] Error 1\n11:40:25  ```",
      "time": "11:48",
      "timestamp": "1739994490.649209",
      "is_reply": false
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "cc @Weiming Wu @Xindi Xu based on git history (https://github.com/instabase/instabase/commits/master/webserver/shared/src/js/webpacked/apps/src/aihub/features/DataSources/components/IndexingModals/__tests__/IndexingStatusModal.test.ts)",
      "time": "11:51",
      "timestamp": "1739994670.251379",
      "is_reply": true
    },
    {
      "sender": "Weiming Wu",
      "user_id": "U03DZ9Y4MC2",
      "message": "Ah it looks like something with the new Amplitude code, I'll take it.",
      "time": "11:53",
      "timestamp": "1739994816.134169",
      "is_reply": true
    },
    {
      "sender": "Weiming Wu",
      "user_id": "U03DZ9Y4MC2",
      "message": "The fix just got merged - anyone seeing this failure can rebase!",
      "time": "14:20",
      "timestamp": "1740003601.615069",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "CSY11CK7T",
    "channel_name": "discuss-frontend",
    "date_file": "2025-02-19.json",
    "message_count": 4,
    "start_time": "1739994490.649209",
    "end_time": "1740003601.615069",
    "is_thread": true
  }
}