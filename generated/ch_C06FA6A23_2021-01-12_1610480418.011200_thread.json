{
  "id": "ch_C06FA6A23_2021-01-12_1610480418.011200_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Heymian",
    "sudeep"
  ],
  "messages": [
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Am I looking in the wrong doc? were the instructions added back somewhere? EDIT: I couldn’t find it, so I added a section",
      "time": "11:40",
      "timestamp": "1610480418.011200",
      "is_reply": false
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "`make activate-restricted-policy-sandbox-gc` doesn’t seem to work for me though.\n```ERROR: (gcloud.beta.container.clusters.update) unrecognized arguments: --enable-pod-security-policy (did you mean '--enable-network-policy'?)```",
      "time": "11:53",
      "timestamp": "1610481188.011500",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "Looking",
      "time": "11:53",
      "timestamp": "1610481223.011800",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "seems to work fine for me -\n```sudeep@Sudeeps-MBP webapp % make activate-restricted-policy-sandbox-gc\ngcloud container clusters get-credentials \\\n\t\tinstabase-dev-001 \\\n\t\t--zone=us-central1-b --project=instabase-dev\nFetching cluster endpoint and auth data.\nkubeconfig entry generated for instabase-dev-001.\ngcloud beta container clusters update instabase-dev-001 \\\n\t    --enable-pod-security-policy --zone us-central1-b --project=instabase-dev\nWARNING: Warning: basic authentication is deprecated, and will be removed in GKE control plane versions 1.19 and newer. For a list of recommended authentication methods, see: https://cloud.google.com/kubernetes-engine/docs/how-to/api-server-authentication\nUpdating instabase-dev-001...done.\nUpdated [https://container.googleapis.com/v1beta1/projects/instabase-dev/zones/us-central1-b/clusters/instabase-dev-001].\nTo inspect the contents of your cluster, go to: https://console.cloud.google.com/kubernetes/workload_/gcloud/us-central1-b/instabase-dev-001?project=instabase-dev```",
      "time": "11:58",
      "timestamp": "1610481489.012000",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "i remember adding these back as well, not sure why i do not see it :eyes:",
      "time": "11:58",
      "timestamp": "1610481521.012200",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "can you share output @Heymian",
      "time": "11:59",
      "timestamp": "1610481589.012400",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "```(ib_venv3) Heymians-MacBook-Pro:webapp heymian$ NAMESPACE=saml make activate-restricted-policy-sandbox-gc\ngcloud container clusters get-credentials \\\n\t\tinstabase-dev-001 \\\n\t\t--zone=us-central1-b --project=instabase-dev\nFetching cluster endpoint and auth data.\nkubeconfig entry generated for instabase-dev-001.\ngcloud beta container clusters update instabase-dev-001 \\\n\t    --enable-pod-security-policy --zone us-central1-b --project=instabase-dev\nERROR: (gcloud.beta.container.clusters.update) unrecognized arguments: --enable-pod-security-policy (did you mean '--enable-network-policy'?)\nUsage: gcloud beta container clusters update NAME (--complete-ip-rotation | --enable-autoscaling | --enable-legacy-authorization | --enable-master-authorized-networks | --enable-network-policy | --generate-password | --logging-service=LOGGING_SERVICE | --maintenance-window=MAINTENANCE_WINDOW | --monitoring-service=MONITORING_SERVICE | --remove-labels=[KEY,...] | --set-password | --start-ip-rotation | --update-addons=[ADDON=ENABLED|DISABLED,...] | --update-labels=[KEY=VALUE,...] | --additional-zones=[ZONE,...] | --node-locations=ZONE,[ZONE,...]) [optional flags]\n  optional flags may be  --additional-zones | --async | --complete-ip-rotation |\n                         --enable-autoscaling | --enable-legacy-authorization |\n                         --enable-master-authorized-networks |\n                         --enable-network-policy | --generate-password |\n                         --help | --logging-service | --maintenance-window |\n                         --master-authorized-networks | --max-nodes |\n                         --min-nodes | --monitoring-service | --node-locations |\n                         --node-pool | --remove-labels | --set-password |\n                         --start-ip-rotation | --update-addons |\n                         --update-labels | --zone\n\nFor detailed information on this command and its flags, run:\n  gcloud beta container clusters update --help\nmake: *** [activate-restricted-policy-sandbox-gc] Error 2```",
      "time": "12:00",
      "timestamp": "1610481616.012600",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "also can you share gcloud cli version. ?",
      "time": "12:00",
      "timestamp": "1610481649.012800",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "surprising, it's still on the documentation. so not deprecated\nhttps://cloud.google.com/kubernetes-engine/docs/how-to/pod-security-policies",
      "time": "12:03",
      "timestamp": "1610481790.013000",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "can you try on build machine ?",
      "time": "12:03",
      "timestamp": "1610481798.013300",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "```(ib_venv3) Heymians-MacBook-Pro:webapp heymian$ gcloud version\nGoogle Cloud SDK 177.0.0\nalpha 2017.09.15\nbeta 2017.09.15\nbq 2.0.27\ncore 2017.10.20\ngsutil 4.28\nkubectl\nUpdates are available for some Cloud SDK components.  To install them,\nplease run:\n  $ gcloud components update```",
      "time": "12:03",
      "timestamp": "1610481821.013500",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "i guess i can run updates huh?",
      "time": "12:03",
      "timestamp": "1610481827.013700",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "yeah try updating, i am on a more recent version  -\n```sudeep@Sudeeps-MBP webapp % gcloud --version\nGoogle Cloud SDK 319.0.0\nbeta 2020.11.13\nbq 2.0.62\ncore 2020.11.13\ngsutil 4.55\nUpdates are available for some Cloud SDK components.  To install them,\nplease run:\n  $ gcloud components update%```",
      "time": "12:06",
      "timestamp": "1610481971.013900",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "and the `--enable-pod-security-policy` option is present in my list of optional flags for `gcloud beta container clusters update`\n```  optional flags may be  --add-maintenance-exclusion-end |\n                         --add-maintenance-exclusion-name |\n                         --add-maintenance-exclusion-start |\n                         --additional-zones | --async |\n                         --autoprovisioning-config-file |\n                         --autoprovisioning-locations |\n                         --autoprovisioning-max-surge-upgrade |\n                         --autoprovisioning-max-unavailable-upgrade |\n                         --autoprovisioning-min-cpu-platform |\n                         --autoprovisioning-scopes |\n                         --autoprovisioning-service-account |\n                         --autoscaling-profile | --clear-maintenance-window |\n                         --clear-resource-usage-bigquery-dataset |\n                         --cloud-run-config | --complete-credential-rotation |\n                         --complete-ip-rotation | --database-encryption-key |\n                         --disable-database-encryption |\n                         --disable-default-snat | --disable-workload-identity |\n                         --enable-autoprovisioning |\n                         --enable-autoprovisioning-autorepair |\n                         --enable-autoprovisioning-autoupgrade |\n                         --enable-autoscaling | --enable-basic-auth |\n                         --enable-binauthz | --enable-gke-oidc |\n                         --enable-gvnic | --enable-intra-node-visibility |\n                         --enable-legacy-authorization |\n                         --enable-logging-monitoring-system-only |\n                         --enable-master-authorized-networks |\n                         --enable-master-global-access |\n                         --enable-network-egress-metering |\n                         --enable-network-policy |\n                         --enable-pod-security-policy |\n                         --enable-resource-consumption-metering |\n                         --enable-shielded-nodes |\n                         --enable-stackdriver-kubernetes | --enable-tpu |\n                         --enable-tpu-service-networking |\n                         --enable-vertical-pod-autoscaling |\n                         --generate-password | --help | --identity-provider |\n                         --istio-config | --logging-service |\n                         --maintenance-window | --maintenance-window-end |\n                         --maintenance-window-recurrence |\n                         --maintenance-window-start |\n                         --master-authorized-networks | --max-accelerator |\n                         --max-cpu | --max-memory | --max-nodes |\n                         --min-accelerator | --min-cpu | --min-memory |\n                         --min-nodes | --monitoring-service | --node-locations |\n                         --node-pool | --notification-config | --password |\n                         --region | --release-channel | --remove-labels |\n                         --remove-maintenance-exclusion |\n                         --resource-usage-bigquery-dataset | --set-password |\n                         --start-credential-rotation | --start-ip-rotation |\n                         --tpu-ipv4-cidr | --update-addons | --update-labels |\n                         --username | --workload-pool | --zone```",
      "time": "12:07",
      "timestamp": "1610482035.014100",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "ah updating worked, thanks!",
      "time": "12:13",
      "timestamp": "1610482412.014300",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2021-01-12.json",
    "message_count": 15,
    "start_time": "1610480418.011200",
    "end_time": "1610482412.014300",
    "is_thread": true
  }
}