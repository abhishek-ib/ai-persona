{
  "id": "ch_C073F3T5KRQ_2025-05-16_1747422616.275799_thread",
  "type": "channel",
  "channel_name": "discuss-backend",
  "conversation_type": "thread",
  "participants": [
    "Xindi Xu",
    "Heymian"
  ],
  "messages": [
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "I'm getting this unit test error in CI (https://jenkins.instabase.com/blue/organizations/jenkins/instabase/detail/PR-70714/9/pipeline) and on master when running `cd shared-utils/py-utils/udf-utils && make bazel-test`. The unit test passed in an invalid requirement string, but expects the code to catch the exception and thus not throw any exceptions. Does anyone know how to fix it? I started to see this error this morning :thinking_face:\n```======================================================================\nERROR: test_ib_requirements_txt (test_udf_file_reader.TestUdfLoaderCustomLibLoading)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/owner/.cache/bazel/_bazel_owner/99c13e9d3f9affca3e421b943f545ec7/sandbox/processwrapper-sandbox/1955/execroot/__main__/bazel-out/k8-fastbuild/bin/shared-utils/py-utils/udf-utils/test/unit/py/instabase/udf_utils/udf_utils_test.runfiles/pypi_deps_setuptools/site-packages/pkg_resources/_vendor/packaging/requirements.py\", line 35, in __init__\n    parsed = _parse_requirement(requirement_string)\n  File \"/home/owner/.cache/bazel/_bazel_owner/99c13e9d3f9affca3e421b943f545ec7/sandbox/processwrapper-sandbox/1955/execroot/__main__/bazel-out/k8-fastbuild/bin/shared-utils/py-utils/udf-utils/test/unit/py/instabase/udf_utils/udf_utils_test.runfiles/pypi_deps_setuptools/site-packages/pkg_resources/_vendor/packaging/_parser.py\", line 64, in parse_requirement\n    return _parse_requirement(Tokenizer(source, rules=DEFAULT_RULES))\n  File \"/home/owner/.cache/bazel/_bazel_owner/99c13e9d3f9affca3e421b943f545ec7/sandbox/processwrapper-sandbox/1955/execroot/__main__/bazel-out/k8-fastbuild/bin/shared-utils/py-utils/udf-utils/test/unit/py/instabase/udf_utils/udf_utils_test.runfiles/pypi_deps_setuptools/site-packages/pkg_resources/_vendor/packaging/_parser.py\", line 82, in _parse_requirement\n    url, specifier, marker = _parse_requirement_details(tokenizer)\n  File \"/home/owner/.cache/bazel/_bazel_owner/99c13e9d3f9affca3e421b943f545ec7/sandbox/processwrapper-sandbox/1955/execroot/__main__/bazel-out/k8-fastbuild/bin/shared-utils/py-utils/udf-utils/test/unit/py/instabase/udf_utils/udf_utils_test.runfiles/pypi_deps_setuptools/site-packages/pkg_resources/_vendor/packaging/_parser.py\", line 126, in _parse_requirement_details\n    marker = _parse_requirement_marker(\n  File \"/home/owner/.cache/bazel/_bazel_owner/99c13e9d3f9affca3e421b943f545ec7/sandbox/processwrapper-sandbox/1955/execroot/__main__/bazel-out/k8-fastbuild/bin/shared-utils/py-utils/udf-utils/test/unit/py/instabase/udf_utils/udf_utils_test.runfiles/pypi_deps_setuptools/site-packages/pkg_resources/_vendor/packaging/_parser.py\", line 147, in _parse_requirement_marker\n    tokenizer.raise_syntax_error(\n  File \"/home/owner/.cache/bazel/_bazel_owner/99c13e9d3f9affca3e421b943f545ec7/sandbox/processwrapper-sandbox/1955/execroot/__main__/bazel-out/k8-fastbuild/bin/shared-utils/py-utils/udf-utils/test/unit/py/instabase/udf_utils/udf_utils_test.runfiles/pypi_deps_setuptools/site-packages/pkg_resources/_vendor/packaging/_tokenizer.py\", line 165, in raise_syntax_error\n    raise ParserSyntaxError(\npkg_resources._vendor.packaging._tokenizer.ParserSyntaxError: Expected end or semicolon (after name and no valid version specifier)\n    pkg1:0.1.2\n        ^```",
      "time": "12:10",
      "timestamp": "1747422616.275799",
      "is_reply": false
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "This commit (https://github.com/instabase/instabase/commit/e695a3aee3a172c87d93b9d5d24e4ba8e7037dbd) is the first commit where this test failed",
      "time": "12:11",
      "timestamp": "1747422701.569119",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "yuppp hold up. there was a fix to this to master.",
      "time": "12:12",
      "timestamp": "1747422749.762429",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "I'm goign to revert both changes",
      "time": "12:12",
      "timestamp": "1747422761.940229",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Nice! Thank you!!",
      "time": "12:12",
      "timestamp": "1747422765.302959",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "https://github.com/instabase/instabase/pull/70753",
      "time": "12:15",
      "timestamp": "1747422952.103869",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "merged",
      "time": "13:02",
      "timestamp": "1747425770.646049",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C073F3T5KRQ",
    "channel_name": "discuss-backend",
    "date_file": "2025-05-16.json",
    "message_count": 7,
    "start_time": "1747422616.275799",
    "end_time": "1747425770.646049",
    "is_thread": true
  }
}