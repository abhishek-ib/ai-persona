{
  "id": "ch_C06FA6A23_2022-03-15_1647371114.231689_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Heymian",
    "shiqi"
  ],
  "messages": [
    {
      "sender": "shiqi",
      "user_id": "U034SGEJLQ6",
      "message": "hmm something is wrong with the cert-manager on sandboxes, I tried to recreate the cert for heymian's sandbox and kept getting the error\n```Yang@Shiqis-MBP sandbox % kubectl apply -f heymian-sandbox-instabase-com.yaml\nError from server (InternalError): error when creating \"heymian-sandbox-instabase-com.yaml\": Internal error occurred: failed calling webhook \"webhook.cert-manager.io (http://webhook.cert-manager.io)\": the server is currently unable to handle the request```",
      "time": "12:05",
      "timestamp": "1647371114.231689",
      "is_reply": false
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "are you trying to apply this to my sandbox or are you stadnign up a new one?",
      "time": "12:06",
      "timestamp": "1647371171.482399",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "my sandbox shouldn’t need any cert renewal, it’s already automatic",
      "time": "12:06",
      "timestamp": "1647371183.313589",
      "is_reply": true
    },
    {
      "sender": "shiqi",
      "user_id": "U034SGEJLQ6",
      "message": "hmmm I think the auto renew was broken, the cert was expired in Jan, I've manually deleted it and tried to recreate it and got the error",
      "time": "12:07",
      "timestamp": "1647371234.605849",
      "is_reply": true
    },
    {
      "sender": "shiqi",
      "user_id": "U034SGEJLQ6",
      "message": "same thing for Aaron Chao's sandbox, which also has auto renew setup but also expired in Feb",
      "time": "12:08",
      "timestamp": "1647371334.951589",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "ohh i see, weird.",
      "time": "12:09",
      "timestamp": "1647371375.916179",
      "is_reply": true
    },
    {
      "sender": "shiqi",
      "user_id": "U034SGEJLQ6",
      "message": "is it OK if I nuke the cert-manager related pods on sandbox and reinstall it?",
      "time": "12:10",
      "timestamp": "1647371415.242359",
      "is_reply": true
    },
    {
      "sender": "shiqi",
      "user_id": "U034SGEJLQ6",
      "message": "I can see the log from the cert-manager pods that it was still trying to renew but there are tons of errors in the log like this:\n```E0315 08:12:34.433100       1 controller.go:131] cert-manager/controller/certificates \"msg\"=\"re-queuing item  due to error processing\" \"error\"=\"Internal error occurred: failed calling webhook \\\"webhook.cert-manager.io (http://webhook.cert-manager.io)\\\": the server is currently unable to handle the request\" \"key\"=\"aaronchao/aaronchao-sandbox-instabase-com\"```",
      "time": "12:12",
      "timestamp": "1647371572.029699",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2022-03-15.json",
    "message_count": 8,
    "start_time": "1647371114.231689",
    "end_time": "1647371572.029699",
    "is_thread": true
  }
}