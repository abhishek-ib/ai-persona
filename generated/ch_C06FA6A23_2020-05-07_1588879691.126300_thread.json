{
  "id": "ch_C06FA6A23_2020-05-07_1588879691.126300_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "shaunak",
    "abhilash",
    "Mohit",
    "Jonathan Shih"
  ],
  "messages": [
    {
      "sender": "abhilash",
      "user_id": "URT7Z0PEK",
      "message": "Anyone knows how I can remove unused imports in python code? (I used VS code)",
      "time": "12:28",
      "timestamp": "1588879691.126300",
      "is_reply": false
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "Just in case you’re thinking of refactoring all our code to remove unused imports, just be careful, since some imports are needed even if they’re never used. I think this should all be in registry/tasks.py, but not sure haha",
      "time": "12:37",
      "timestamp": "1588880257.126500",
      "is_reply": true
    },
    {
      "sender": "abhilash",
      "user_id": "URT7Z0PEK",
      "message": "I don’t touch tasks.py :smile: Just cleaning single files",
      "time": "12:38",
      "timestamp": "1588880320.126700",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "@Mohit had set up flake8",
      "time": "12:50",
      "timestamp": "1588881059.126900",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "@abhilash, you can use autoflake https://pypi.org/project/autoflake/\n\n(Only catch is, it sometimes counts stuff as unused even if you have used it in # type: <> annotation)\n\nMostly, it works, i used it on >700 files :sweat_smile:",
      "time": "13:04",
      "timestamp": "1588881899.127100",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "@abhilash if you want a ready to use command, pl look at “removing unused imports” section in this doc (https://docs.google.com/document/d/1WYd-Ozvw1AmloiIvbqwyP6h06KF2a1NF2V5UgUmawP0/edit#)",
      "time": "13:06",
      "timestamp": "1588881974.127400",
      "is_reply": true
    },
    {
      "sender": "abhilash",
      "user_id": "URT7Z0PEK",
      "message": "Thanks!",
      "time": "13:16",
      "timestamp": "1588882602.127800",
      "is_reply": true
    },
    {
      "sender": "abhilash",
      "user_id": "URT7Z0PEK",
      "message": "hmm doesn’t seem to remove the `from .. import ..`",
      "time": "13:24",
      "timestamp": "1588883051.128000",
      "is_reply": true
    },
    {
      "sender": "abhilash",
      "user_id": "URT7Z0PEK",
      "message": "Wow this is so cool. I’ve wanted to do this for a while now haha. Apparently can’t handle multi-line `from` imports, but moving them to single line worked. Thanks @Mohit!",
      "time": "13:26",
      "timestamp": "1588883207.128200",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "yes, autoflake has a WIP PR for multi line imports https://github.com/myint/autoflake/pull/63",
      "time": "13:27",
      "timestamp": "1588883238.128400",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "from multiline imports, you can use this approach: https://github.com/myint/autoflake/issues/8#issuecomment-430960914",
      "time": "13:28",
      "timestamp": "1588883288.128700",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "i hope this covers all of your cases. (one more edge case: if you want to protect an import from being removed, use #noqa as described here (https://github.com/myint/autoflake#excluding-specific-lines))",
      "time": "13:28",
      "timestamp": "1588883317.129000",
      "is_reply": true
    },
    {
      "sender": "abhilash",
      "user_id": "URT7Z0PEK",
      "message": "Nice, works!",
      "time": "13:31",
      "timestamp": "1588883478.129300",
      "is_reply": true
    },
    {
      "sender": "abhilash",
      "user_id": "URT7Z0PEK",
      "message": "In case, somone stumbles on this thread later and is feeling lazy to click through all links :slightly_smiling_face: I created a simple script\n`> cat /Users/abhilash/bin/cleanim`\n```isort -rc -sl $*\nautoflake --in-place  --remove-all-unused-imports --remove-unused-variables $*\nisort -rc -m 4 $*```\nwhich can be run on a file as\n`cleanim test/unit/py/instabase/flow/v2/signature_lib/test_flow_batch_lib_base.py`",
      "time": "13:35",
      "timestamp": "1588883705.129700",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2020-05-07.json",
    "message_count": 14,
    "start_time": "1588879691.126300",
    "end_time": "1588883705.129700",
    "is_thread": true
  }
}