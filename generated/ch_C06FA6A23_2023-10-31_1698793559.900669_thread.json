{
  "id": "ch_C06FA6A23_2023-10-31_1698793559.900669_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Xindi Xu",
    "Kerry"
  ],
  "messages": [
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "hey team, CI failed for my PR (https://github.com/instabase/instabase/pull/49093) for unrelated changes:\nhttps://jenkins.instabase.com/job/instabase/job/PR-49093/5/\nhttps://instabase.testmo.net/automation/runs/results/63517?group_by=automation_run_tests:status_id&group_id=3&test_id=31875473",
      "time": "16:05",
      "timestamp": "1698793559.900669",
      "is_reply": false
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "It seems like mypy errored out with this message:\n```TYPECHECKING FAILURE: mypy exited with code 1&#xA;instabase/acl_access/perms.py:37: error: Module has no attribute \"ACTION_NAME_MANAGE_ORGS\"&#xA;instabase/acl_access/perms.py:39: error: Module has no attribute \"ACTION_NAME_MANAGE_GROUPS\"&#xA;instabase/acl_access/perms.py:41: error: Module has no attribute \"ACTION_NAME_CREATE_GROUPS\"&#xA;instabase/acl_access/perms.py:43: error: Module has no attribute \"ACTION_NAME_ACCESS_BETA_APPS\"&#xA;instabase/acl_access/perms.py:52: error: Module has no attribute \"ACTION_NAME_MANAGE_FLOW_PIPELINES\"&#xA;instabase/pdf_utils/pdf_operations.py:916: error: Argument 1 to \"PDFProcessingUtils\" has incompatible type \"str\"; expected \"bytes\"&#xA;instabase/udf_utils/clients/udf_context.py:443: error: Argument \"content\" to \"ExtractPDFAttachmentsReq\" has incompatible type \"bytes\"; expected \"Optional[str]\"&#xA;instabase/udf_utils/clients/udf_context.py:456: error: Incompatible types (expression has type \"str\", TypedDict item \"content\" has type \"bytes\")&#xA;&#xA;make[2]: *** [/instabase_dir/tools/onprem/testrunner-setup/../../../shared-utils/build-utils/shared/build-python.mk:135: mypy] Error 1&#xA;make[2]: Leaving directory '/instabase_dir/tools/onprem/testrunner-setup'&#xA;```",
      "time": "16:06",
      "timestamp": "1698793583.820009",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "This PR adds util functions to `shared-utils` folder. Is that the reason why it triggered so many tests and test failures? Does anyone know how to fix these? Or could we bypass this check since it is not related to my changes?",
      "time": "16:13",
      "timestamp": "1698794009.425059",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "These are the output in my local env\n```TYPECHECKING FAILURE: mypy exited with code 1\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:49: error: Name 'BatchSetSiteAppPermsReq' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:49: error: Name 'BatchSetSiteAppPermsResp' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:56: error: Name 'GetSiteAppPermPrincipalsReq' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:56: error: Name 'GetSiteAppPermPrincipalsResp' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:58: error: Name 'SetRepoACLsForPrincipalReq' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:58: error: Name 'SetRepoACLsForPrincipalResp' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:76: error: Name 'GetSpacesReq' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:76: error: Name 'GetSpacesResp' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:89: error: Name 'HealthCheckReq' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:89: error: Name 'HealthCheckResp' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:208: error: Name 'BatchSetSiteAppPermsReq' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:208: error: Name 'BatchSetSiteAppPermsResp' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:229: error: Name 'GetSiteAppPermPrincipalsReq' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:229: error: Name 'GetSiteAppPermPrincipalsResp' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:235: error: Name 'SetRepoACLsForPrincipalReq' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:235: error: Name 'SetRepoACLsForPrincipalResp' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:289: error: Name 'GetSpacesReq' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:289: error: Name 'GetSpacesResp' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:328: error: Name 'HealthCheckReq' is not defined\n/Users/xindixu/Code/instabase/webserver/webapp/build/py-stubs/stubs3/instabase/account/AccountService.pyi:328: error: Name 'HealthCheckResp' is not defined\ninstabase/pdf_utils/pdf_operations.py:916: error: Argument 1 to \"PDFProcessingUtils\" has incompatible type \"str\"; expected \"bytes\"\ninstabase/udf_utils/clients/udf_context.py:444: error: Argument \"content\" to \"ExtractPDFAttachmentsReq\" has incompatible type \"bytes\"; expected \"Optional[str]\"\ninstabase/udf_utils/clients/udf_context.py:456: error: Incompatible types (expression has type \"str\", TypedDict item \"content\" has type \"bytes\")\nFound 23 errors in 3 files (checked 1376 source files)```",
      "time": "16:13",
      "timestamp": "1698794035.823989",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": ":thinking_face:  @Heymian on account service error, and\n@Rakesh on the error in pdf_utils & `ExtractPDFAttachmentsReq` in udf_utils (the pdf related code looks super old, if they are no longer relevant, please delete)",
      "time": "17:02",
      "timestamp": "1698796941.337779",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Ah, I rebased master and the CI is passed now. Sorry for the false alarm",
      "time": "18:35",
      "timestamp": "1698802518.797759",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "Hmm that also sounds wrong? Good to know that you’re unblocked, but let’s keep an eye on this",
      "time": "21:01",
      "timestamp": "1698811307.089369",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2023-10-31.json",
    "message_count": 7,
    "start_time": "1698793559.900669",
    "end_time": "1698811307.089369",
    "is_thread": true
  }
}