{
  "id": "ch_CSY11CK7T_2025-07-08_1751994806.436419_thread",
  "type": "channel",
  "channel_name": "discuss-frontend",
  "conversation_type": "thread",
  "participants": [
    "Paul H",
    "Serena",
    "raman.goel"
  ],
  "messages": [
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "<!subteam^S02FJA6A7U5> it seems like `crafting-cyp` has failed to deploy since yesterday morning, can someone take a look?\nhttps://sandbox.console.instabase.com/customer/Engineering/tenant/crafting-cyp/info\n```[2025-07-08T16:14:01.027Z] module.main.module.single_tenantable_landing_zone.module.udf_lambda[0].null_resource.docker_publishing_version[0] (local-exec): ValueError: None Lambda Hash\n[2025-07-08T16:14:03.031Z] ╷\n[2025-07-08T16:14:03.031Z] │ Error: local-exec provisioner error\n[2025-07-08T16:14:03.032Z] │   with module.main.module.single_tenantable_landing_zone.module.udf_lambda[0].null_resource.docker_publishing_version[0],\n[2025-07-08T16:14:03.032Z] │   on .terraform/modules/main/infra/lambda-udf-setup/main.tf line 81, in resource \"null_resource\" \"docker_publishing_version\":\n[2025-07-08T16:14:03.032Z] │   81:   provisioner \"local-exec\" {\n[2025-07-08T16:14:03.032Z] │ Error running command 'python3 .terraform/modules/main/infra/lambda-udf-setup/check-publish-lambda.py us-east-2 intes-use2-crafting-cyp-docker-default-udf': exit status 1.\n[2025-07-08T16:14:03.032Z] │ Output: ERROR:root:Unable to read sha from the file, returning none in\n[2025-07-08T16:14:03.032Z] │ lambda version: 2, An error occurred (CodeArtifactUserFailedException) when\n[2025-07-08T16:14:03.032Z] │ calling the Invoke operation: ERROR: Lambda cannot initialize the provided\n[2025-07-08T16:14:03.032Z] │ container image. Verify the image.\n[2025-07-08T16:14:03.032Z] │ ERROR:root:Lambda Code are coming as None: Lambda Code for version $LATEST:\n[2025-07-08T16:14:03.032Z] │ e05d0929063d0d0532c8872774895e5257142f92de6637320044a3c9c57121a9953ad23105e59ca4\n[2025-07-08T16:14:03.032Z] │ and lambda code for version 2: None\n[2025-07-08T16:14:03.032Z] │ Traceback (most recent call last):\n[2025-07-08T16:14:03.032Z] │   File \".terraform/modules/main/infra/lambda-udf-setup/check-publish-lambda.py\", line 125, in <module>\n[2025-07-08T16:14:03.032Z] │     main()\n[2025-07-08T16:14:03.032Z] │   File \".terraform/modules/main/infra/lambda-udf-setup/check-publish-lambda.py\", line 115, in main\n[2025-07-08T16:14:03.032Z] │     if is_lambda_code_same(lambda_client, lambda_name, lambda_versions[0], lambda_versions[-1]):\n[2025-07-08T16:14:03.033Z] │   File \".terraform/modules/main/infra/lambda-udf-setup/check-publish-lambda.py\", line 101, in is_lambda_code_same\n[2025-07-08T16:14:03.033Z] │     raise ValueError(\"None Lambda Hash\")\n[2025-07-08T16:14:03.033Z] │ ValueError: None Lambda Hash\n[2025-07-08T16:14:03.033Z] ╵\n[2025-07-08T16:14:03.133Z] make: *** [Makefile:254: tf-apply] Error 1\nscript returned exit code 2```\n(formatted with chatgpt so hopefully no hallucinations)",
      "time": "10:13",
      "timestamp": "1751994806.436419",
      "is_reply": false
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "cc @raman.goel since the deployment error seems related to lambda?",
      "time": "11:42",
      "timestamp": "1752000159.666919",
      "is_reply": true
    },
    {
      "sender": "raman.goel",
      "user_id": "U03T8ARCDDE",
      "message": "Hey @Paul H,\nI think the issue is because of the deleted tags/images, which is discussed here: https://instabase.slack.com/archives/C029Z1XRKGR/p1751496828377639\n\nI have fixed it for now, and I looking for the fix so it won’t occur again. Can you try again?",
      "time": "11:59",
      "timestamp": "1752001153.690339",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "Okay, I will keep an eye out during the next deployment and let you know if there’s issues. Thanks for fixing so quickly!",
      "time": "12:00",
      "timestamp": "1752001232.602229",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "CSY11CK7T",
    "channel_name": "discuss-frontend",
    "date_file": "2025-07-08.json",
    "message_count": 4,
    "start_time": "1751994806.436419",
    "end_time": "1752001232.602229",
    "is_thread": true
  }
}