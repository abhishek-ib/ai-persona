{
  "id": "ch_C05L87V014J_2025-04-29_1745923908.878909_thread",
  "type": "channel",
  "channel_name": "ask-crafting",
  "conversation_type": "thread",
  "participants": [
    "anshul.padhi",
    "Vasu"
  ],
  "messages": [
    {
      "sender": "anshul.padhi",
      "user_id": "U084V5XTMFT",
      "message": "Sandbox: https://instabase.sandboxes.site/sandboxes/anshulpadhi-debug?cw=dev\nIssue: Unable to run converse query\nLogs in api-server :\n```level = ERROR time=2025-04-29 10:48:54,567 msg=\"Stream connection lost: ConnectionResetError(104, 'Connection reset by peer')\"  path=\"/instabase-api-server/py/instabase/exporter/export_endpoint.py:209\" process=\"MainProcess\" thread=\"ThreadPoolExecutor-3_0\" trace_id=\"\" exception=\"Traceback (most recent call last):\n  File \"/instabase-api-server/py/instabase/exporter/export_endpoint.py\", line 197, in _export_payload\n    channel.basic_publish(\n  File \"/usr/local/lib/python3.9/site-packages/pika/adapters/blocking_connection.py\", line 2226, in basic_publish\n    self._flush_output(self._message_confirmation_result.is_ready)\n  File \"/usr/local/lib/python3.9/site-packages/pika/adapters/blocking_connection.py\", line 1350, in _flush_output\n    self._connection._flush_output(lambda: self.is_closed, *waiters)\n  File \"/usr/local/lib/python3.9/site-packages/pika/adapters/blocking_connection.py\", line 523, in _flush_output\n    raise self._closed_result.value.error\npika.exceptions.StreamLostError: Stream connection lost: ConnectionResetError(104, 'Connection reset by peer')\"\nlevel=ERROR time=2025-04-29 10:48:54,567 msg=\"Could not export entity [a078d9b4-513b-42a3-8587-0c2f3ef128d3] to endpoint Stream connection lost: ConnectionResetError(104, 'Connection reset by peer')\"  path=\"/instabase-api-server/py/instabase/exporter/export_object.py:82\" process=\"MainProcess\" thread=\"Thread-5\" trace_id=\"\"\n\nlevel=ERROR time=2025-04-29 10:50:50,684 msg=\"Error starting job. JobID=ea9c4614-7a4b-4716-ab87-ae15fa2e3897, error=input_dir does not specify a valid directory.\"  path=\"/instabase-api-server/py/instabase/flow_handler/flow_handler.py:322\" process=\"MainProcess\" thread=\"ThreadPoolExecutor-0_1\" trace_id=\"\"\nlevel=ERROR time=2025-04-29 10:50:50,685 msg=\"Error starting Flow Job. BinaryPath=/system/global/fs/Instabase Drive/System/var/health/PlatformChecks/flow/helloworld.ibflowbin, input_dir=/system/global/fs/Instabase Drive/System/var/health/PlatformChecks/flow/datasets/inputbs, ibuser=__ib_system_admin_email__. Error=input_dir does not specify a valid directory.\"  path=\"/instabase-api-server/py/instabase/flow_handler/flow_handler.py:858\" process=\"MainProcess\" thread=\"ThreadPoolExecutor-0_1\" trace_id=\"\"```",
      "time": "03:51",
      "timestamp": "1745923908.878909",
      "is_reply": false
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Hey! These are not the actual errors rather the below one is:\n```level=ERROR time=2025-04-29 10:55:14,684 msg=\"Uncaught exception in webserver while handling request: Error=Error code: 400 - {'message': '[string \"2025-04-29T10:55:14.469334+00:00\" is invalid against requested date format(s) [yyyy-MM-dd\\'T\\'HH:mm:ssZ, yyyy-MM-dd\\'T\\'HH:mm:ss.SSSZ]]'}. Traceback=Traceback (most recent call last):;File \"/instabase-api-server/py/instabase/utils/web/handler_util_v2.py\", line 415, in inner_func;return f(*args, **kwargs);File \"/instabase-api-server/py/instabase/utils/oauth2/oauth2.py\", line 271, in wrapped_f;return f(*args, **kwargs);File \"/instabase-api-server/py/instabase/api_server_apps/handler/api/v2/aihub/streaming.py\", line 558, in post;license_ctx, err = validate_license(;File \"/instabase-api-server/py/instabase/utils/license/license.py\", line 26, in validate_license;license_ctx, err = license.get_license(username, orgname, product_name,;File \"/instabase-api-server/py/instabase/tracing/utils.py\", line 326, in wrapped;raise error;File \"/instabase-api-server/py/instabase/tracing/utils.py\", line 321, in wrapped;r = func(*args, **kwargs);File \"/instabase-api-server/py/instabase/license_utils/license.py\", line 313, in get_license;contracts = clients_factory.metronome_client.native_client.v2.contracts.list(;File \"/usr/local/lib/python3.9/site-packages/metronome/resources/v2/contracts.py\", line 160, in list;return self._post(;File \"/usr/local/lib/python3.9/site-packages/metronome/_base_client.py\", line 1225, in post;return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls));File \"/usr/local/lib/python3.9/site-packages/metronome/_base_client.py\", line 917, in request;return self._request(;File \"/usr/local/lib/python3.9/site-packages/metronome/_base_client.py\", line 1020, in _request;raise self._make_status_error_from_response(err.response) from None;metronome.BadRequestError: Error code: 400 - {'message': '[string \"2025-04-29T10:55:14.469334+00:00\" is invalid against requested date format(s) [yyyy-MM-dd\\'T\\'HH:mm:ssZ, yyyy-MM-dd\\'T\\'HH:mm:ss.SSSZ]]'};\"  path=\"/instabase-api-server/py/instabase/utils/web/handler_util_v2.py:421\" process=\"MainProcess\" thread=\"ThreadPoolExecutor-0_2\" trace_id=\"\"```\nI think this got fixed in a master a while back, is your branch on latest master?",
      "time": "03:59",
      "timestamp": "1745924386.808109",
      "is_reply": true
    },
    {
      "sender": "anshul.padhi",
      "user_id": "U084V5XTMFT",
      "message": "ahhh kk thanks. I did pull from master before making this change",
      "time": "04:04",
      "timestamp": "1745924655.460619",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C05L87V014J",
    "channel_name": "ask-crafting",
    "date_file": "2025-04-29.json",
    "message_count": 3,
    "start_time": "1745923908.878909",
    "end_time": "1745924655.460619",
    "is_thread": true
  }
}