{
  "id": "ch_C06FA6A23_2018-10-15_1539642224.000100_conversation",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "conversation",
  "participants": [
    "Jesika Haria",
    "Aaron Vontell",
    "dlluncor",
    "Heymian"
  ],
  "messages": [
    {
      "sender": "Jesika Haria",
      "user_id": "UCXUGKXEK",
      "message": "getting this error when trying to run webdriver-tasks locally:",
      "time": "15:23",
      "timestamp": "1539642224.000100",
      "is_reply": false
    },
    {
      "sender": "Jesika Haria",
      "user_id": "UCXUGKXEK",
      "message": "```\ncd /Users/jesika/Documents/workspace/go/src/github.com/instabase/distributed-tasks/celery/webdriver-tasks/build/py && /bin/bash start-celery-local.sh\nTraceback (most recent call last):\n  File \"/Users/jesika/Documents/workspace/go/src/github.com/instabase/venv/bin/celery\", line 11, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python2.7/site-packages/celery/__main__.py\", line 14, in main\n    _main()\n  File \"/usr/local/lib/python2.7/site-packages/celery/bin/celery.py\", line 326, in main\n    cmd.execute_from_commandline(argv)\n  File \"/usr/local/lib/python2.7/site-packages/celery/bin/celery.py\", line 488, in execute_from_commandline\n    super(CeleryCommand, self).execute_from_commandline(argv)))\n  File \"/usr/local/lib/python2.7/site-packages/celery/bin/base.py\", line 279, in execute_from_commandline\n    argv = self.setup_app_from_commandline(argv)\n  File \"/usr/local/lib/python2.7/site-packages/celery/bin/base.py\", line 481, in setup_app_from_commandline\n    self.app (http://self.app) = self.find_app(app)\n  File \"/usr/local/lib/python2.7/site-packages/celery/bin/base.py\", line 503, in find_app\n    return find_app(app, symbol_by_name=self.symbol_by_name)\n  File \"/usr/local/lib/python2.7/site-packages/celery/app/utils.py\", line 358, in find_app\n    sym = imp(app)\n  File \"/usr/local/lib/python2.7/site-packages/celery/utils/imports.py\", line 101, in import_from_cwd\n    return imp(module, package=package)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\n  File \"/Users/jesika/Documents/workspace/go/src/github.com/instabase/distributed-tasks/celery/webdriver-tasks/build/py/instabase/registry/tasks.py\", line 52, in <module>\n    from instabase.tasks.apps import nlpsearch_util\n  File \"/Users/jesika/Documents/workspace/go/src/github.com/instabase/distributed-tasks/celery/webdriver-tasks/build/py/instabase/tasks/apps/nlpsearch_util.py\", line 45, in <module>\n    from instabase.tasks.apps._nlpsearch import ner\n  File \"/Users/jesika/Documents/workspace/go/src/github.com/instabase/distributed-tasks/celery/webdriver-tasks/build/py/instabase/tasks/apps/_nlpsearch/ner.py\", line 15, in <module>\n    from instabase.nlp_utils.entity_action.pipeline.runner import run_with_search_profile\n  File \"/Users/jesika/Documents/workspace/go/src/github.com/instabase/distributed-tasks/celery/webdriver-tasks/build/py/instabase/nlp_utils/entity_action/pipeline/runner.py\", line 14, in <module>\n    from instabase.nlp_utils.spacy.spacy import get_english_corpus\n  File \"/Users/jesika/Documents/workspace/go/src/github.com/instabase/distributed-tasks/celery/webdriver-tasks/build/py/instabase/nlp_utils/spacy/spacy.py\", line 13, in <module>\n    EN_COREF_MD = spacy.load('en_coref_md')\n  File \"/usr/local/lib/python2.7/site-packages/spacy/__init__.py\", line 19, in load\n    return util.load_model(name, **overrides)\n  File \"/usr/local/lib/python2.7/site-packages/spacy/util.py\", line 115, in load_model\n    return load_model_from_package(name, **overrides)\n  File \"/usr/local/lib/python2.7/site-packages/spacy/util.py\", line 137, in load_model_from_package\n    cls = importlib.import_module(name)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\n  File \"/Users/jesika/Documents/workspace/go/src/github.com/instabase/venv/lib/python2.7/site-packages/en_coref_md/__init__.py\", line 6, in <module>\n    from en_coref_md.neuralcoref import NeuralCoref\n  File \"/Users/jesika/Documents/workspace/go/src/github.com/instabase/venv/lib/python2.7/site-packages/en_coref_md/neuralcoref/__init__.py\", line 1, in <module>\n    from .neuralcoref import NeuralCoref\n  File \"neuralcoref.pyx\", line 101, in init en_coref_md.neuralcoref.neuralcoref\nTypeError: must be char, not unicode\nmake: *** [runlocal] Error 1\n```",
      "time": "15:23",
      "timestamp": "1539642227.000100",
      "is_reply": false
    },
    {
      "sender": "Jesika Haria",
      "user_id": "UCXUGKXEK",
      "message": "(afaik this service presently doesn’t use python3) anyone know what i can do to get it working?",
      "time": "15:24",
      "timestamp": "1539642295.000100",
      "is_reply": false
    },
    {
      "sender": "Jesika Haria",
      "user_id": "UCXUGKXEK",
      "message": "also, seem to be unable to login locally:",
      "time": "15:28",
      "timestamp": "1539642522.000100",
      "is_reply": false
    },
    {
      "sender": "Jesika Haria",
      "user_id": "UCXUGKXEK",
      "message": "from webapp logs\n```\n[2018-10-15 15:28:29,164] {/Users/jesika/Documents/workspace/go/src/github.com/instabase/webserver/webapp/build/py/instabase/handler/views/account.py:364} ERROR - b\"<?xml version='1.0' encoding='UTF-8'?>\\n<TwilioResponse><RestException><Code>20003</Code><Detail>Your AccountSid or AuthToken was incorrect.</Detail><Message>Authentication Error - No credentials provided</Message><MoreInfo>https://www.twilio.com/docs/errors/20003</MoreInfo><Status>401</Status></RestException></TwilioResponse>\"\n127.0.0.1 - - [2018-10-15 15:28:29] \"GET /account/verify_mfa_step?session_token=172449d5-051b-4c16-8f6d-a4eb9b4ecc82&next=%2F HTTP/1.1\" 200 2804 0.598319\n127.0.0.1 - - [2018-10-15 15:28:29] \"GET /static/assets/images/favicon.png HTTP/1.1\" 200 16412 0.002170\n```",
      "time": "15:28",
      "timestamp": "1539642538.000100",
      "is_reply": false
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "re: webdriver-tasks, @Aaron Vontell can you take a look here?",
      "time": "15:32",
      "timestamp": "1539642765.000100",
      "is_reply": false
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "RUN python -m spacy download en\nRUN python -m spacy download en_core_web_md",
      "time": "15:33",
      "timestamp": "1539642780.000100",
      "is_reply": false
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "seems one of the models which is used is only supported in Python3? Was webdriver-tasks only intended to be working for Python 3 now?",
      "time": "15:33",
      "timestamp": "1539642780.000200",
      "is_reply": false
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Yes that was the intention as far as I'm awarw",
      "time": "15:33",
      "timestamp": "1539642818.000100",
      "is_reply": false
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "*aware",
      "time": "15:33",
      "timestamp": "1539642826.000100",
      "is_reply": false
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Make sure to re run the py3 requirements txt file, it has the coref library in there",
      "time": "15:34",
      "timestamp": "1539642848.000100",
      "is_reply": false
    },
    {
      "sender": "Jesika Haria",
      "user_id": "UCXUGKXEK",
      "message": "I installed the model. The error seems to complain about char vs unicode",
      "time": "15:34",
      "timestamp": "1539642876.000100",
      "is_reply": false
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "A while back, I think I reported that MFA was broken with py3. I’m not sure if it was ever fixed.",
      "time": "15:35",
      "timestamp": "1539642903.000100",
      "is_reply": false
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "maybe that’s related?",
      "time": "15:35",
      "timestamp": "1539642914.000100",
      "is_reply": false
    },
    {
      "sender": "Jesika Haria",
      "user_id": "UCXUGKXEK",
      "message": "(and not running in py3 mode — is that an issue?) — when i try to run webdriver tasks with py3 it complains about functools from the future",
      "time": "15:35",
      "timestamp": "1539642918.000100",
      "is_reply": false
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "py3 works for me actually, you need to make sure have venv setup properly for py3",
      "time": "15:38",
      "timestamp": "1539643082.000100",
      "is_reply": false
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "however, if we're moving webdriver-tasks to PY3 only I'm OK with that, just didn't realize that we were no longer supporting PY2, which would be a bit risky since I imagined we'd have a migration plan",
      "time": "15:38",
      "timestamp": "1539643114.000100",
      "is_reply": false
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "as in, we could run both PY2 and PY3 for some time",
      "time": "15:38",
      "timestamp": "1539643124.000100",
      "is_reply": false
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "I agree with that too, I can try to look into this tomorrow? I'm not sure how that py3 only code is integrated",
      "time": "15:39",
      "timestamp": "1539643183.000100",
      "is_reply": false
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "Yes MFA is broken in PY3, let me work on that",
      "time": "15:39",
      "timestamp": "1539643185.000100",
      "is_reply": false
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "(re my comment, for webdriver tasks)",
      "time": "15:39",
      "timestamp": "1539643199.000100",
      "is_reply": false
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "it's loading the model which seems to only work for Python3",
      "time": "15:40",
      "timestamp": "1539643222.000100",
      "is_reply": false
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Yuo",
      "time": "15:40",
      "timestamp": "1539643230.000100",
      "is_reply": false
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "*yup",
      "time": "15:40",
      "timestamp": "1539643233.000100",
      "is_reply": false
    },
    {
      "sender": "Jesika Haria",
      "user_id": "UCXUGKXEK",
      "message": "thanks for looking into this guys, would it be helpful for me to create asana tasks and assign to you’ll?",
      "time": "15:41",
      "timestamp": "1539643293.000100",
      "is_reply": false
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2018-10-15.json",
    "message_count": 25,
    "start_time": "1539642224.000100",
    "end_time": "1539643293.000100",
    "is_thread": false
  }
}