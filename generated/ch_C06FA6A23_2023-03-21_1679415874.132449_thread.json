{
  "id": "ch_C06FA6A23_2023-03-21_1679415874.132449_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "eddie.hou",
    "Venkatesh",
    "Serena",
    "Victor Zeng"
  ],
  "messages": [
    {
      "sender": "Venkatesh",
      "user_id": "U0134C9PPEF",
      "message": "Hey Team,\n\nRegarding our OAuth tokens, am I right in saying tokens are actually mapped to the user level permissions and there is no such thing as app level permission? Had a question reg this from NWM where they are building a wrapper service to expose to other teams. They were thrown off a bit when they saw multiple tokens for users per app.\n\ncc: @Alli @Dale DeLoy @eddie.hou",
      "time": "09:24",
      "timestamp": "1679415874.132449",
      "is_reply": false
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "what do you mean by user-level permissions for oauth tokens? to my knowledge, we don’t have a way to specify user-level or app-level permissions for oauth tokens",
      "time": "10:23",
      "timestamp": "1679419383.788479",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "are you talking about our ACLs system (https://instabase.com/docs/apis/repo/index.html#add-custom-acls-for-a-user-or-group) for assigning permissions for actions within apps to specific users within a subspace?",
      "time": "10:25",
      "timestamp": "1679419541.248529",
      "is_reply": true
    },
    {
      "sender": "eddie.hou",
      "user_id": "U043E1NDV4L",
      "message": "@Serena for our Auth API (https://instabase.com/docs/apis/auth/), we have the ability to create OAuth2 apps. NWM is asking whether it's possible to assign specific permissions for each OAuth2 app. We told them that it's only on the user level - is that correct?",
      "time": "11:35",
      "timestamp": "1679423711.992709",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "each OAuth token will have the same permissions as the user who created the OAuth token (cmiiw @Heymian)\n\nso yes, you can apply specific permissions to the user who owns the OAuth token\n\nbut no, you cannot apply permissions to the OAuth token itself",
      "time": "11:38",
      "timestamp": "1679423935.525569",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "so i’m still confused why you need “multiple tokens for users per app” since each token created by the same user will have the same permissions",
      "time": "11:40",
      "timestamp": "1679424049.716749",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "oops heymian is OOO, tagging <!subteam^S01DXHX6FPT> instead",
      "time": "11:41",
      "timestamp": "1679424091.513579",
      "is_reply": true
    },
    {
      "sender": "Venkatesh",
      "user_id": "U0134C9PPEF",
      "message": "Hey Serena. What you just said is exactly our understanding as well. However our UI and API shows as if tokens are associated to multiple apps. Therefore it came as a question.",
      "time": "11:43",
      "timestamp": "1679424195.154399",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "in the docs and UI, `OAuth app` is equivalent to `OAuth token`\n\nthere is no association between OAuth tokens and IB apps",
      "time": "11:44",
      "timestamp": "1679424265.340699",
      "is_reply": true
    },
    {
      "sender": "Venkatesh",
      "user_id": "U0134C9PPEF",
      "message": "https://instabase.com/docs/apis/auth/index.html#get-a-list-of-all-oauth2-apps-for-a-user",
      "time": "11:46",
      "timestamp": "1679424380.210689",
      "is_reply": true
    },
    {
      "sender": "Venkatesh",
      "user_id": "U0134C9PPEF",
      "message": "https://instabase.com/docs/apis/auth/index.html#createupdate-oauth2-token",
      "time": "11:47",
      "timestamp": "1679424432.824359",
      "is_reply": true
    },
    {
      "sender": "Venkatesh",
      "user_id": "U0134C9PPEF",
      "message": "These APIs make it look as if tokens are app specific",
      "time": "11:47",
      "timestamp": "1679424443.803909",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "the language is misleading - as i said above, `OAuth app` does not refer to an IB app",
      "time": "11:48",
      "timestamp": "1679424494.845679",
      "is_reply": true
    },
    {
      "sender": "Venkatesh",
      "user_id": "U0134C9PPEF",
      "message": "got it...we are on the same page",
      "time": "11:48",
      "timestamp": "1679424512.778589",
      "is_reply": true
    },
    {
      "sender": "Victor Zeng",
      "user_id": "U03JT46AUPP",
      "message": "> in the docs and UI, `OAuth app` is equivalent to `OAuth token` \nAn OAuth app is supposed to be external application is an external application that connects to InstaBase. The real issue is that we don’t currently implement a proper OAuth flow and simply use the UI-generated access tokens as API keys.",
      "time": "11:58",
      "timestamp": "1679425119.123809",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2023-03-21.json",
    "message_count": 15,
    "start_time": "1679415874.132449",
    "end_time": "1679425119.123809",
    "is_thread": true
  }
}