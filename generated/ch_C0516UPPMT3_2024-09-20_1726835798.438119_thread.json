{
  "id": "ch_C0516UPPMT3_2024-09-20_1726835798.438119_thread",
  "type": "channel",
  "channel_name": "aihub-feedback",
  "conversation_type": "thread",
  "participants": [
    "Balaram",
    "Prakhar",
    "Matt Vielkind",
    "avi",
    "Alapan"
  ],
  "messages": [
    {
      "sender": "Matt Vielkind",
      "user_id": "U04HBN6BZRB",
      "message": "Hi team-\nI'm noticing an issue in converse where if I ask the same question for different documents loaded into the conversation I get the same answer repeated even after I switch the document context.\n\nAttached is an example showing where the first answer is correct for the document, but when I switch the context to other documents and ask the same question the answer is being incorrectly repeated.",
      "time": "05:36",
      "timestamp": "1726835798.438119",
      "is_reply": false
    },
    {
      "sender": "avi",
      "user_id": "U0477QPPM17",
      "message": ":eyes: by any chance did you turn on the conversation memory flag? Not sure if related, just a theory. cc: @Balaram @Alapan",
      "time": "05:56",
      "timestamp": "1726836992.386579",
      "is_reply": true
    },
    {
      "sender": "Prakhar",
      "user_id": "U03EMR9SK2T",
      "message": "Just adding I don't see a frontend bug here, the ibdocs used for the requests are correct.",
      "time": "05:57",
      "timestamp": "1726837038.760429",
      "is_reply": true
    },
    {
      "sender": "Balaram",
      "user_id": "UJQKL1UCC",
      "message": "In Prod, memory is not enabled by default.\n\n@Matt Vielkind whether you have enabled Converse memory?",
      "time": "05:59",
      "timestamp": "1726837158.839989",
      "is_reply": true
    },
    {
      "sender": "Matt Vielkind",
      "user_id": "U04HBN6BZRB",
      "message": "Is that the \"Enable chat history in Converse projects\" option?",
      "time": "06:11",
      "timestamp": "1726837895.915979",
      "is_reply": true
    },
    {
      "sender": "Alapan",
      "user_id": "U056NM5QYTX",
      "message": "Yep yep",
      "time": "06:11",
      "timestamp": "1726837913.350149",
      "is_reply": true
    },
    {
      "sender": "Alapan",
      "user_id": "U056NM5QYTX",
      "message": "If chat history is on, I think the issue might be the fact that direct answering doesn't consider whether reference document is changing @Balaram @avi",
      "time": "06:14",
      "timestamp": "1726838089.883679",
      "is_reply": true
    },
    {
      "sender": "Matt Vielkind",
      "user_id": "U04HBN6BZRB",
      "message": "Yes. The chat history was turned on. If I disable that setting I get the expected behavior.",
      "time": "06:17",
      "timestamp": "1726838225.779659",
      "is_reply": true
    },
    {
      "sender": "Alapan",
      "user_id": "U056NM5QYTX",
      "message": "Yep yep makes sense\n\nLike in general conversation history is being treated independently of whether the reference doc is changing which is fine unless it's the case of direct answering",
      "time": "06:18",
      "timestamp": "1726838292.238609",
      "is_reply": true
    },
    {
      "sender": "Balaram",
      "user_id": "UJQKL1UCC",
      "message": "@Alapan Let's discuss on this, this is not an expected behaviour",
      "time": "06:18",
      "timestamp": "1726838332.108449",
      "is_reply": true
    },
    {
      "sender": "Alapan",
      "user_id": "U056NM5QYTX",
      "message": "Yep we need to fix this",
      "time": "06:19",
      "timestamp": "1726838351.387329",
      "is_reply": true
    },
    {
      "sender": "avi",
      "user_id": "U0477QPPM17",
      "message": "Yup, this is a good catch. Let's fix this before we move forward with memory externally. \n\nFor now @Matt Vielkind should expect that after 3 queries things reset to the right doc right?",
      "time": "07:54",
      "timestamp": "1726844093.596749",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C0516UPPMT3",
    "channel_name": "aihub-feedback",
    "date_file": "2024-09-20.json",
    "message_count": 12,
    "start_time": "1726835798.438119",
    "end_time": "1726844093.596749",
    "is_thread": true
  }
}