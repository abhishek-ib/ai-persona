{
  "id": "ch_C05L87V014J_2025-06-05_1749160649.827959_thread",
  "type": "channel",
  "channel_name": "ask-crafting",
  "conversation_type": "thread",
  "participants": [
    "mfichman",
    "demetr.starshov"
  ],
  "messages": [
    {
      "sender": "demetr.starshov",
      "user_id": "U08SXGHP4R5",
      "message": "@mfichman\nHi there,\n\nI'm working with crafting and sometimes I want to debug my services :slightly_smiling_face:\nI've seen instructions to add breakpoint() and run it locally, e.g.\n```cd webserver/api-server && make clean build runlocal```\nit allows you to debug using pdb... and this is all :slightly_smiling_face: Debugging using terminal is not as easy, so I tried to make it more useful\nif instead of pdb we will load debugpy we'll be able to debug it via default vscode plugin, with all nice things like UI, variables, etc. (see screenshot for example)\n\nSetting it up is easy, we should just add debugpy to the local build dependencies and start debug service like this:\n```if not debugpy.is_client_connected():\n        debugpy.listen(5678)\n        print(\"üêõ Debugger listening on port 5678\")\n        print(\"üí° In Cursor: Press Ctrl+Shift+D ‚Üí 'Attach to Running Process' ‚Üí Play button\")\n        debugpy.wait_for_client()\n        print(\"‚úÖ Debugger connected!\")```\nAfter this is done you can connect using your vscode/cursor debug plugin by \"Attach to Running process\"\n\nRN I hacked out build file to have debugpy and started the server right before I installed breakpoint. I can write instructions how to do that to the wiki or we can make local runs do it automatically to save developers time\n\nWDYT?",
      "time": "14:57",
      "timestamp": "1749160649.827959",
      "is_reply": false
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Yes, this is great! Can we merge this? I‚Äôve been wanting this myself for a while, but I work mostly in Go, so I haven‚Äôt gotten around to it.",
      "time": "15:52",
      "timestamp": "1749163974.946739",
      "is_reply": true
    },
    {
      "sender": "demetr.starshov",
      "user_id": "U08SXGHP4R5",
      "message": "It's a several lines prototype :slightly_smiling_face: I don't want to add debugpy to the production dependencies\nTo merge it properly we should add it to local run only, so some changes in run scripts are needed",
      "time": "16:00",
      "timestamp": "1749164437.614339",
      "is_reply": true
    },
    {
      "sender": "demetr.starshov",
      "user_id": "U08SXGHP4R5",
      "message": "Let me start with wiki then",
      "time": "16:03",
      "timestamp": "1749164637.141599",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Agreed. Btw, we have a setup in Go that creates a specialized debug container image for attaching debuggers. Something similar would probably work for Python.",
      "time": "17:35",
      "timestamp": "1749170127.073849",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C05L87V014J",
    "channel_name": "ask-crafting",
    "date_file": "2025-06-05.json",
    "message_count": 5,
    "start_time": "1749160649.827959",
    "end_time": "1749170127.073849",
    "is_thread": true
  }
}