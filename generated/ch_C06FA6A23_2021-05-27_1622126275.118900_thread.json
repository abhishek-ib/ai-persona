{
  "id": "ch_C06FA6A23_2021-05-27_1622126275.118900_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Eric Han",
    "Ashish",
    "Serena",
    "achao"
  ],
  "messages": [
    {
      "sender": "Eric Han",
      "user_id": "UKPHNU5QE",
      "message": "Is there a way to get your bearer token from an api? something like a login endpoint?",
      "time": "07:37",
      "timestamp": "1622126275.118900",
      "is_reply": false
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "if you need a token to call APIs with, you can get an oauth token by clicking on the profile icon in the top bar, and then “View profile”, and then “OAuth management”",
      "time": "07:58",
      "timestamp": "1622127535.119000",
      "is_reply": true
    },
    {
      "sender": "Eric Han",
      "user_id": "UKPHNU5QE",
      "message": "is there a way to get that token through an api? a customer asked during training that they don’t want to hard code the bearer token in api calls and need a way to refresh it in case it becomes invalid",
      "time": "07:59",
      "timestamp": "1622127570.119200",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "You’d need a token to call the API for creating an oauth token, so I guess you can start off with an oauth token from the UI and regularly refresh it via the API. Would that address the customer’s concern that the token will passively become invalid?",
      "time": "08:02",
      "timestamp": "1622127771.119500",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "Otherwise, I don’t think there’s a way to get a token purely through the API without relying on the UI at all",
      "time": "08:05",
      "timestamp": "1622127903.119800",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "cc <!subteam^S01DXHX6FPT> in case i’m missing something",
      "time": "08:05",
      "timestamp": "1622127912.120000",
      "is_reply": true
    },
    {
      "sender": "Eric Han",
      "user_id": "UKPHNU5QE",
      "message": "what’s the refresh api?",
      "time": "08:07",
      "timestamp": "1622128037.120200",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "here’s the flask endpoint: https://github.com/instabase/instabase/blob/2ada82a/webserver/api-server/src/py/instabase/handler/api/v1/auth.py#L288\nand here’s how it’s called from the frontend: https://github.com/instabase/instabase/blob/2331950/webserver/shared/src/js/webpacked/lib/src/IBApi/api/settings/SiteSettingsApi.ts#L447",
      "time": "08:36",
      "timestamp": "1622129765.120400",
      "is_reply": true
    },
    {
      "sender": "achao",
      "user_id": "UH026QKA4",
      "message": "Yup, you’ll need a token to call the API. That’s how we authenticate your permissions.",
      "time": "09:19",
      "timestamp": "1622132342.121400",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "with any type of oauth based auth mechanism, the client needs to store a token somewhere [usually it is a access token or a refresh token]",
      "time": "09:26",
      "timestamp": "1622132808.121600",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "Goldman Sachs did not want to hardcode the token in their source code. Instead, they had their service make a call to an internal authentication service managed by GS to retrieve the access token",
      "time": "09:27",
      "timestamp": "1622132864.121800",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "They had some process to store Instabase access token in that auth service",
      "time": "09:27",
      "timestamp": "1622132878.122000",
      "is_reply": true
    },
    {
      "sender": "Eric Han",
      "user_id": "UKPHNU5QE",
      "message": "sounds good! thanks for all the info",
      "time": "11:04",
      "timestamp": "1622138668.122600",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2021-05-27.json",
    "message_count": 13,
    "start_time": "1622126275.118900",
    "end_time": "1622138668.122600",
    "is_thread": true
  }
}