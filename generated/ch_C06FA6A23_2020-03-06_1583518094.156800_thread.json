{
  "id": "ch_C06FA6A23_2020-03-06_1583518094.156800_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "rahul",
    "Kerry",
    "dlluncor",
    "Jonathan Shih",
    "Justin",
    "Karthik S"
  ],
  "messages": [
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "Where do I put csv files so that I can load them in a UDF in a flow binary?",
      "time": "10:08",
      "timestamp": "1583518094.156800",
      "is_reply": false
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "We can add a resources folder @Karthik S in the future ya to make it easier? Currently , I believe the solution is to use custom folders .flow/ib/custom and use from ib.custom.utils import load_file",
      "time": "10:19",
      "timestamp": "1583518741.157700",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "If you check the design doc it should show the usage there",
      "time": "10:19",
      "timestamp": "1583518753.157900",
      "is_reply": true
    },
    {
      "sender": "Justin",
      "user_id": "ULE9A7AHE",
      "message": "+1 to a resources folder",
      "time": "10:21",
      "timestamp": "1583518876.158300",
      "is_reply": true
    },
    {
      "sender": "Justin",
      "user_id": "ULE9A7AHE",
      "message": "Or if we allow relative file paths to the root in read file then the user can put wherever they want",
      "time": "10:21",
      "timestamp": "1583518903.159300",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "@dlluncor is it possible copy files into the .flow folder when it’s hidden?",
      "time": "10:21",
      "timestamp": "1583518915.159500",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "You have to manually set it up. Hidden folder support is a request for plex",
      "time": "10:22",
      "timestamp": "1583518953.159700",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "You'll have to use the file browser and create the file",
      "time": "10:22",
      "timestamp": "1583518967.159900",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "@Justin can we add resources to Q2 feature tracking",
      "time": "10:23",
      "timestamp": "1583518988.160200",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": ":disappointed: don’t think .flow exists in jpmc environment",
      "time": "10:26",
      "timestamp": "1583519162.160500",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "Hm. Why do you say that, when was it released?",
      "time": "10:26",
      "timestamp": "1583519190.160700",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "That feature should have been there for a while",
      "time": "10:26",
      "timestamp": "1583519204.160900",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "october at least",
      "time": "10:26",
      "timestamp": "1583519213.161100",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "but when I try to navigate to it, it just spins, and when I try to create a file, it says the path does not exist",
      "time": "10:27",
      "timestamp": "1583519231.161300",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "Hm. I think that might be user error :)",
      "time": "10:27",
      "timestamp": "1583519256.161500",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "You have to create the .flow folder",
      "time": "10:27",
      "timestamp": "1583519271.161700",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "And then manually navigate to it using the url .flow/",
      "time": "10:28",
      "timestamp": "1583519281.161900",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "ohh gotcha xD",
      "time": "10:28",
      "timestamp": "1583519302.162100",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "i thought it just always exists. thanks!",
      "time": "10:28",
      "timestamp": "1583519308.162300",
      "is_reply": true
    },
    {
      "sender": "Karthik S",
      "user_id": "UDQNWKX1P",
      "message": "+1 for resources folder as well",
      "time": "10:29",
      "timestamp": "1583519393.162500",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "how does it know to pick up the .flow folder? when I download it and unzip it, it’s not in there. Do it check for references from a script?",
      "time": "10:36",
      "timestamp": "1583519798.162700",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "Hm. Try on instabase.com (http://instabase.com) as a test as well",
      "time": "10:37",
      "timestamp": "1583519842.162900",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "It should pick it up automatically if you have any UDFs registered",
      "time": "10:37",
      "timestamp": "1583519864.163100",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "If that doesn't work, then you'll have to store those CSV files in a hardcoded location relative to the input folder ( we should give you the INPUT_FILEPATH as well as the ROOT_OUTPUT_FOLDER",
      "time": "10:38",
      "timestamp": "1583519915.163300",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "oh gotcha. i will try that out",
      "time": "10:40",
      "timestamp": "1583520009.163500",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "environment is down again so can’t actually test lol",
      "time": "10:40",
      "timestamp": "1583520023.163700",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "you can put that in the `.flow` folder?",
      "time": "10:57",
      "timestamp": "1583521079.164900",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "i’m very sure you can put txt files in the .flow folder and using it in a UDF. See this udf for an example https://www.instabase.com/ib_solutions/solutions/fs/Instabase%20Drive/.flow/ib/custom/us_markets/get_name_dict_matching.py\n\nThe txt is put in a `data/` folder",
      "time": "10:59",
      "timestamp": "1583521179.165100",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "Oh I don't think I created the directory structure right",
      "time": "11:00",
      "timestamp": "1583521224.165300",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "Thanks for the example though! Will be super helpful",
      "time": "11:00",
      "timestamp": "1583521249.165500",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "@Kerry not sure how you were able to get that working. I added a .py file alongside all my .csv’s and only the .py file got picked up into the binary.",
      "time": "12:01",
      "timestamp": "1583524913.165700",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "Hmm @Jonathan Shih I am very sure this works. Try these two things:\n1. See if there’re hidden folders / files in your binary (enable your finder to show hidden files) \n2. If the csvs are not bundled as hidden files, I am guessing it’s an extension name thing - see if you can re-saved those files to `txt` and see if that works\nThis UDF is used in many US Markets binaries, so I’m pretty sure it works; at least it worked a month ago when I last compiled, if the files are not included correctly now we should file a bug",
      "time": "12:06",
      "timestamp": "1583525183.167100",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "Yes I believe it's a hidden folder in the binary",
      "time": "12:07",
      "timestamp": "1583525250.167300",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "yeah I can see the hidden folder in the binary, but the only file that was added was the .py file and none of the .csvs",
      "time": "12:09",
      "timestamp": "1583525380.167900",
      "is_reply": true
    },
    {
      "sender": "Karthik S",
      "user_id": "UDQNWKX1P",
      "message": "Add the CSVs manually , Compress it and rename the extension from .zip to .ibflowbin",
      "time": "12:10",
      "timestamp": "1583525449.168100",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "I can… but this is for generally rapid development. I don’t want to have to manually add them each time",
      "time": "12:11",
      "timestamp": "1583525518.168300",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "I have to do this because we can’t run flow v2 non-batch on this environment",
      "time": "12:12",
      "timestamp": "1583525537.168500",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "hooray i got it working",
      "time": "12:12",
      "timestamp": "1583525557.168700",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "I put it under a subfolder within the custom folder called “training” and it didn’t pick anything up. However, when I put it at the top level, they showed up just fine",
      "time": "12:13",
      "timestamp": "1583525592.168900",
      "is_reply": true
    },
    {
      "sender": "Karthik S",
      "user_id": "UDQNWKX1P",
      "message": "~With the manual work around?~",
      "time": "12:13",
      "timestamp": "1583525595.169100",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "No, by putting the csvs in .flow/ib/custom instead of in .flow/ib/custom/training",
      "time": "12:13",
      "timestamp": "1583525623.169400",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "Interesting. File a bug for that one @Jonathan Shih any folder location should work in there. @rahul would know how to fix it",
      "time": "12:14",
      "timestamp": "1583525689.169800",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "I’ll test to see if i can repro on instabase.com (http://instabase.com) first",
      "time": "12:16",
      "timestamp": "1583525810.170300",
      "is_reply": true
    },
    {
      "sender": "rahul",
      "user_id": "USC1G2ZKR",
      "message": "Oh hmm yeah that is strange, I can take a look soon today",
      "time": "12:30",
      "timestamp": "1583526621.171400",
      "is_reply": true
    },
    {
      "sender": "rahul",
      "user_id": "USC1G2ZKR",
      "message": "@Jonathan Shih so you want the CSV to show up in your ibflowbin so you can easily distribute it?",
      "time": "12:31",
      "timestamp": "1583526688.171600",
      "is_reply": true
    },
    {
      "sender": "rahul",
      "user_id": "USC1G2ZKR",
      "message": "If that's the case, @dlluncor @Karthik S yah I think you guys are right about including a resources folder",
      "time": "12:32",
      "timestamp": "1583526731.171800",
      "is_reply": true
    },
    {
      "sender": "Jonathan Shih",
      "user_id": "UGJD45BCP",
      "message": "i just need to be able to run a compiled binary that has access to some resource files, so yes, that would be nice haha",
      "time": "12:37",
      "timestamp": "1583527034.172000",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2020-03-06.json",
    "message_count": 47,
    "start_time": "1583518094.156800",
    "end_time": "1583527034.172000",
    "is_thread": true
  }
}