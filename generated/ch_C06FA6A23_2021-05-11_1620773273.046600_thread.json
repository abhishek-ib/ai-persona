{
  "id": "ch_C06FA6A23_2021-05-11_1620773273.046600_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Mohit",
    "Kerry",
    "Serena",
    "Erick"
  ],
  "messages": [
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "I have been seeing some SIGSEGV errors since the past few weeks in app-tasks\n```[2021-05-11 15:44:36,009: ERROR/MainProcess] Process 'ForkPoolWorker-9' pid:64799 exited with 'signal 11 (SIGSEGV)'\n[2021-05-11 15:44:36,021: ERROR/MainProcess] Task handler raised error: WorkerLostError('Worker exited prematurely: signal 11 (SIGSEGV).')\nTraceback (most recent call last):\n  File \"/Users/mohitchawla/instabase/venv3/lib/python3.7/site-packages/billiard/pool.py\", line 1267, in mark_as_worker_lost\n    human_status(exitcode)),\nbilliard.exceptions.WorkerLostError: Worker exited prematurely: signal 11 (SIGSEGV).```\nHave we made a recent change that might cause this?",
      "time": "15:47",
      "timestamp": "1620773273.046600",
      "is_reply": false
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "cc: @Kerry who was also seeing this error yesterday for the openlane flow.",
      "time": "15:48",
      "timestamp": "1620773293.046700",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "The same flow works fine in prod, so potentially this is after last release.",
      "time": "16:05",
      "timestamp": "1620774343.047200",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "@Mohit have you tried running in docker?",
      "time": "16:10",
      "timestamp": "1620774642.047400",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "The docker build is failing for my local system as well. FYI @Kerry i am also seeing this error when i try to run paystubs metaflow in my local.",
      "time": "16:11",
      "timestamp": "1620774699.047600",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "I remember some old thread mentioning if a flow uses `cv2` it crashes locally but works in docker",
      "time": "16:11",
      "timestamp": "1620774703.047800",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "hmm ok",
      "time": "16:11",
      "timestamp": "1620774708.048100",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "https://instabase.slack.com/archives/C06FA6A23/p1595398330483600",
      "time": "16:12",
      "timestamp": "1620774721.048400",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "The US Drivers license flow works fine but the paystubs solution which is a metaflow shows this error.  Looking into this cv2 hypothesis",
      "time": "16:13",
      "timestamp": "1620774780.048700",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "Yep cv2 doesnâ€™t play nicely outside of docker",
      "time": "16:14",
      "timestamp": "1620774842.049300",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "Great, looks like we have a valid hypothesis, let me try to fix the local docker build for app-tasks and try it out. Thanks team :slightly_smiling_face:",
      "time": "16:14",
      "timestamp": "1620774890.049500",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "Your docker build is failing during _build_ or during _run_ with sigsegv?",
      "time": "16:14",
      "timestamp": "1620774893.049700",
      "is_reply": true
    },
    {
      "sender": "Mohit",
      "user_id": "ULPBBF8PR",
      "message": "during build (its a separate issue :sweat_smile:), i think this has to do something with docker version, looking into it",
      "time": "16:22",
      "timestamp": "1620775325.049900",
      "is_reply": true
    },
    {
      "sender": "Serena",
      "user_id": "U01CZ3LBFU4",
      "message": "not sure if this is already resolved, but i was running into this error (https://stackoverflow.com/questions/66319610/gpg-error-in-ubuntu-21-04-after-second-apt-get-update-during-docker-build) a few days ago - updating docker to get a new version of `runc` fixed it",
      "time": "19:07",
      "timestamp": "1620785279.050200",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2021-05-11.json",
    "message_count": 14,
    "start_time": "1620773273.046600",
    "end_time": "1620785279.050200",
    "is_thread": true
  }
}