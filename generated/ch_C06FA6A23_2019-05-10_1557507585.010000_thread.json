{
  "id": "ch_C06FA6A23_2019-05-10_1557507585.010000_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Ashish",
    "lydia"
  ],
  "messages": [
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "@lydia Have you used it?",
      "time": "09:59",
      "timestamp": "1557507585.010000",
      "is_reply": false
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "yup we've used it as the base image in my previous 2 startups",
      "time": "09:59",
      "timestamp": "1557507598.010100",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "not sure if there's a newer thing, but phusion seems like it was updated recently",
      "time": "10:00",
      "timestamp": "1557507623.010300",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "Great! Curious to learn more. In what way was it more helpful than a vanilla ubuntu image?",
      "time": "10:01",
      "timestamp": "1557507668.010500",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "tbh i didn't use docker much without phusion-baseimage, so i didn't personally run into the issues it mentions",
      "time": "10:02",
      "timestamp": "1557507744.010700",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "since i've pretty much only used it",
      "time": "10:02",
      "timestamp": "1557507751.010900",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "but it sounds like vanilla ubuntu has a lot of issues with daemons?",
      "time": "10:02",
      "timestamp": "1557507763.011100",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "it also lets you run additional daemons - not sure if vanilla docker allows that?",
      "time": "10:07",
      "timestamp": "1557508055.011400",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "we had a couple of other daemons running inside docker - and you just add it to /etc/service/",
      "time": "10:07",
      "timestamp": "1557508074.011600",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "i think we had pgbouncer running on our postgres docker",
      "time": "10:08",
      "timestamp": "1557508104.011800",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "and at one point, a websocket server in our web server docker",
      "time": "10:08",
      "timestamp": "1557508113.012000",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "I see. We haven't had issues due to vanilla ubuntu. It is possible that there might be issues that we are not even aware of and baseimage may help find. But, I am not certain. Currently, we don't run any daemons in our docker containers except in ocr-ari. ocr-ari runs abbyy, a vendor provided ocr. ocr-ari has one init.d process but I think if that process crashes, docker container will still continue to be healthy.",
      "time": "10:13",
      "timestamp": "1557508436.012300",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "Do you recall if anyone at your previous two startups felt that there life was greatly improved by using baseimage instead of vanilla ubuntu?",
      "time": "10:14",
      "timestamp": "1557508472.013100",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "it might been more of a preventive good to have vs. we were experiencing a lot of problems",
      "time": "10:17",
      "timestamp": "1557508637.014300",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "since it is an easy switch to make",
      "time": "10:17",
      "timestamp": "1557508644.014500",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "i don't remember, but it's possible people had issues with the web server crashing and running into the zombie process thing",
      "time": "10:18",
      "timestamp": "1557508701.016100",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "We haven't had any problems. It is not hard to make the switch. We just have to analyze the impact. For example, we don't know whether any of our enterprise customers will complain that baseimage internally runs a process that they don't approve. For example, a customer has asked us to remove sshd and netcat from our docker images.",
      "time": "10:25",
      "timestamp": "1557509117.020500",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "Another question: in your past startups, was software deployed on a self-managed cloud or on a customer's premise? The scrutiny in these two cases tend to be different.",
      "time": "10:26",
      "timestamp": "1557509188.020700",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "yup. makes sense. we always ran it in a self-managed cloud",
      "time": "10:30",
      "timestamp": "1557509429.021500",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "both startups were saas for smbs",
      "time": "10:31",
      "timestamp": "1557509477.021700",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "",
      "time": "10:31",
      "timestamp": "1557509514.021900",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "i think the issue phusion address is this pid=1 thing",
      "time": "10:32",
      "timestamp": "1557509523.022300",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "and i imagine if that process dies for whatever reason, the docker just stops?",
      "time": "10:32",
      "timestamp": "1557509539.022500",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "with phusion, it will restart the service",
      "time": "10:32",
      "timestamp": "1557509554.022700",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "but maybe if you have a kubernetes cluster which keeps bringing up more containers, it's not really an issue?",
      "time": "10:32",
      "timestamp": "1557509571.022900",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "is there any issue currently with wanting to create multiple go workers inside one container?",
      "time": "10:33",
      "timestamp": "1557509613.023100",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "Yeah, you are spot on. When the process dies, k8s health check fails and k8s restarts the container.",
      "time": "10:59",
      "timestamp": "1557511170.023400",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "AFAIK, we haven't had a case where we had any problems with go workers. I think go workers use co-routines and they run in user-space as part of the same process. Haven't seen any problems there.",
      "time": "11:01",
      "timestamp": "1557511268.023600",
      "is_reply": true
    },
    {
      "sender": "Ashish",
      "user_id": "U3UJ09DJ6",
      "message": "Just to close out this thread, happy to try it out. But, infra team won't be able to prioritize it in near future.",
      "time": "12:46",
      "timestamp": "1557517591.023800",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2019-05-10.json",
    "message_count": 29,
    "start_time": "1557507585.010000",
    "end_time": "1557517591.023800",
    "is_thread": true
  }
}