{
  "id": "ch_C05L87V014J_2025-04-21_1745267497.446229_thread",
  "type": "channel",
  "channel_name": "ask-crafting",
  "conversation_type": "thread",
  "participants": [
    "Paul H",
    "Abhishek Adupa"
  ],
  "messages": [
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "Unable to publish app on Crafting.\n\nPublishing always fails with the same error:\n`Failed to get mount details: Repo (system/global) not found`\n\nIt works fine on aihub-sandbox and other envs, just not on Crafting. Am I missing something? Has anyone seen this before or know how to fix it?\nHappy to post this in a different channel if that’s more appropriate.\n\napp-tasks logs\n\n```[2025-04-21 02:16:14,766: INFO/MainProcess] Task instabase.registry.tasks.create_aihub_app[24b7d6c8-90f9-4184-bec2-63a803b88ae1] received\n[2025-04-21 02:16:15,642] [ForkPoolWorker-24/MainThread] {/instabase/workers/celery-app-tasks/py/instabase/utils/grpc/client.py:267} ERROR - [trace_id=] - Request /file_service.FileService/ListDir failed. Error code=NOT_FOUND, Error=(5, 'not found'), Message: Folder aihub/0196561d-88a5-764c-9541-7879fdec03f8/project/flows/scripts does not exist: <nil>. Non-retriable error\n[2025-04-21 02:16:17,741] [ForkPoolWorker-24/MainThread] {/instabase/workers/celery-app-tasks/py/instabase/solution_shared_utils/utils.py:272} INFO - [trace_id=] - Reading local file: /tmp/tmp4h0tm2ge/bankstatement-0.0.1.ibsolution and writing to remote:aka/abhishek.adupa_instabase.com/fs/Instabase Drive/aihub/bankstatement-0.0.1.ibsolution\n[2025-04-21 02:16:18,046] [ForkPoolWorker-24/MainThread] {/instabase/workers/celery-app-tasks/py/instabase/solution_utils/solution.py:433} WARNING - [trace_id=5452d0e45e99fd75] - key is_advanced not found in package.json\n[2025-04-21 02:16:18,046] [ForkPoolWorker-24/MainThread] {/instabase/workers/celery-app-tasks/py/instabase/solution_utils/solution.py:433} WARNING - [trace_id=5452d0e45e99fd75] - key is_copy_of_existing_app not found in package.json\n[2025-04-21 02:16:18,074] [ForkPoolWorker-24/MainThread] {/instabase/workers/celery-app-tasks/py/instabase/solution_utils/deployed_solution_util.py:408} WARNING - [trace_id=5452d0e45e99fd75] - Could not find class label for step s3: Cannot infer a classname for s3. Classifier steps must be followed by filter to infer classname\n[2025-04-21 02:16:18,091] [ForkPoolWorker-24/MainThread] {/instabase/workers/celery-app-tasks/py/instabase/solution_utils/deployed_solution_util.py:203} INFO - [trace_id=5452d0e45e99fd75] - Deployed solutions root folder: system/global/fs/Instabase Drive/Applications/Deployed/All does not exist, creating dir.\n[2025-04-21 02:16:18,097] [ForkPoolWorker-24/MainThread] {/instabase/workers/celery-app-tasks/py/instabase/utils/grpc/client.py:267} ERROR - [trace_id=5452d0e45e99fd75] - Request /file_service.FileService/Mkdir failed. Error code=NOT_FOUND, Error=(5, 'not found'), Message: Failed to get mount details: Repo (system/global) not found. Non-retriable error\n[2025-04-21 02:16:18,098] [ForkPoolWorker-24/MainThread] {/instabase/workers/celery-app-tasks/py/instabase/solution_utils/deployed_solution_util.py:218} ERROR - [trace_id=5452d0e45e99fd75] - Error in creating directories system/global/fs/Instabase Drive/Applications/Deployed/All/8df0be44-ccf6-4c42-893f-c4d014c0e8c9. Err: [File_service_v2 Enabled] Error occurred executing GRPC method: Request /file_service.FileService/Mkdir failed. Error code=NOT_FOUND, Error=(5, 'not found'), Message: Failed to get mount details: Repo (system/global) not found. Non-retriable error```",
      "time": "13:31",
      "timestamp": "1745267497.446229",
      "is_reply": false
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "I’m able to publish using my `ibdev-backend` sandbox. What template are you using?",
      "time": "13:43",
      "timestamp": "1745268207.814209",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "ibdev on master, didn’t change anything sandbox (https://instabase.sandboxes.site/sandboxes/abhishekadupa3?cw=dev)",
      "time": "13:43",
      "timestamp": "1745268237.538339",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "https://https--abhishekadupa3-instabase.instabase.site.sandboxes.run/build/0196561d-88a5-764c-9541-7879fdec03f8",
      "time": "13:44",
      "timestamp": "1745268280.738829",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "Yup, you’re using the `ibdev-backend` template as well. Lemme see…",
      "time": "13:44",
      "timestamp": "1745268289.505429",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "will text you credentials",
      "time": "13:44",
      "timestamp": "1745268289.634379",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "When did you spin up this sandbox? I don’t see a `<mailto:noreply+instabase@instabase.com|noreply+instabase@instabase.com>` user in your DB :weird:",
      "time": "13:48",
      "timestamp": "1745268502.530789",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "I created it yesterday, and had to create db and run migration manually to avoid this (https://instabase.slack.com/archives/C05L87V014J/p1745009760717569?thread_ts=1744934586.860629&cid=C05L87V014J) issue",
      "time": "13:49",
      "timestamp": "1745268562.660129",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "I’m guessing there’s some post install scripts that needs to run in order to create the marketplace stuff",
      "time": "13:52",
      "timestamp": "1745268751.900499",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "should I try `Clean Rebuild`?",
      "time": "13:53",
      "timestamp": "1745268812.709009",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "is that a make command? I’m actually not sure what that is lol",
      "time": "13:54",
      "timestamp": "1745268861.573679",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "I found this, maybe worth trying to run?\n```.sandbox/ibdev-backend/scripts/run-post-install-actions```",
      "time": "13:55",
      "timestamp": "1745268917.113119",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "no warranty, if your box breaks it’s not my fault tyty",
      "time": "13:55",
      "timestamp": "1745268936.199579",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": ":joy:",
      "time": "13:55",
      "timestamp": "1745268956.711819",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "trying",
      "time": "13:55",
      "timestamp": "1745268958.284739",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "Okay, it didn’t help :lolcry:",
      "time": "13:58",
      "timestamp": "1745269111.118539",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "I’ll try creating new sandbox.",
      "time": "13:58",
      "timestamp": "1745269125.718019",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "Before you do, you might want to wait for this PR to land:\nhttps://github.com/instabase/instabase/pull/70007",
      "time": "13:59",
      "timestamp": "1745269142.066339",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "Then the DB will initialize normally and the post install scripts will work jsut fine",
      "time": "13:59",
      "timestamp": "1745269154.044739",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "cool. thanks Paul",
      "time": "13:59",
      "timestamp": "1745269163.140809",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "(either that, or create your new sandbox based off Matt’s branch. up to you)",
      "time": "13:59",
      "timestamp": "1745269176.306289",
      "is_reply": true
    },
    {
      "sender": "Abhishek Adupa",
      "user_id": "U03JYD51DM2",
      "message": "Thanks @Paul H it was likely one of the post-install actions. works with the new sandbox :tada:",
      "time": "17:27",
      "timestamp": "1745281624.773309",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C05L87V014J",
    "channel_name": "ask-crafting",
    "date_file": "2025-04-21.json",
    "message_count": 22,
    "start_time": "1745267497.446229",
    "end_time": "1745281624.773309",
    "is_thread": true
  }
}