{
  "id": "ch_C06FA6A23_2025-02-11_1739297505.150349_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Jessica",
    "Heymian"
  ],
  "messages": [
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "Is there a good env flag for determining whether an environment is an internal dogfood environment or a production environment? I need to use different API keys for Amplitude depending on whether it's dev data or prod data (Amplitude is also gated by its own flag, don't worry!). Maybe `CONFIG_TYPE` and check if it's prod?",
      "time": "10:11",
      "timestamp": "1739297505.150349",
      "is_reply": false
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Hrm, can you achieve this with patches in the necessary environment folders? (e.g. all Saas envs)",
      "time": "10:13",
      "timestamp": "1739297621.560599",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Add a patch for your AMPLITUDE env var, then there's no need to check CONFIG_TYPE in the codebase.",
      "time": "10:14",
      "timestamp": "1739297648.015359",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "I don't think I follow. I don't actually want to roll out amplitude to all the saas envs, we want to be very specific about which envs we roll it out to (it's false by default).\n\nBut maybe I could make my amplitude flag include the necessary info? So instead of being true/false, it could be \"dev\", \"prod,\" or \"off\"?",
      "time": "10:16",
      "timestamp": "1739297806.342659",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Yeah I think you would then just add a patch for those specific envs",
      "time": "10:19",
      "timestamp": "1739297995.841079",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "The API keys need to be configured in the patch as well right?",
      "time": "10:20",
      "timestamp": "1739298023.754149",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "Okay yeah, I'll go with that approach then. Thanks!",
      "time": "10:20",
      "timestamp": "1739298026.566039",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2025-02-11.json",
    "message_count": 7,
    "start_time": "1739297505.150349",
    "end_time": "1739298026.566039",
    "is_thread": true
  }
}