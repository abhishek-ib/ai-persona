{
  "id": "ch_CSY11CK7T_2024-11-04_1730745386.893909_thread",
  "type": "channel",
  "channel_name": "discuss-frontend",
  "conversation_type": "thread",
  "participants": [
    "Xindi Xu",
    "tony.shi",
    "Jessica",
    "Subash"
  ],
  "messages": [
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "@tony.shi For the deployment timeout acl check, I wonder this would solve the issue\nhttps://instabase.slack.com/archives/D03GDH0DCBG/p1730401519951579",
      "time": "10:36",
      "timestamp": "1730745386.893909",
      "is_reply": false
    },
    {
      "sender": "tony.shi",
      "user_id": "U03R8QN7VQA",
      "message": "It depends on where the user's accessable repos are coming from. I suspect the bulk of the issue usually comes from accessibleRepos rather than allPersonalRepos. In the case of the cypress user, the 2042 repos largely came from the org workspace",
      "time": "11:04",
      "timestamp": "1730747046.416499",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Do we actually need to include other users personal repos? Even if the org admin can access these repos, we usually skip checking these.",
      "time": "11:05",
      "timestamp": "1730747132.765749",
      "is_reply": true
    },
    {
      "sender": "tony.shi",
      "user_id": "U03R8QN7VQA",
      "message": "I'm not sure I understand. If there is a deployment in the org repo that the user has access to, wouldn't we want to show that deployment?",
      "time": "11:07",
      "timestamp": "1730747226.555829",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "What i'm suggesting is only check for shared repos + the current user's personal repo. We can do that by passing in `false` in the last param of `GetAllAIHubOrgRepos`",
      "time": "11:08",
      "timestamp": "1730747285.217419",
      "is_reply": true
    },
    {
      "sender": "tony.shi",
      "user_id": "U03R8QN7VQA",
      "message": "That would skip checking org users' personal repos the principal has access to right? Do we want to do that?\n\nCC: @Elan Sharony",
      "time": "11:10",
      "timestamp": "1730747449.726099",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Yes, we don't allow adding users to other users' personal repos. Even tho org admins can access other users' personal repos, we rarely allow them to do anything in these repos. This depends on the specific use case so I could be wrong here",
      "time": "11:12",
      "timestamp": "1730747557.733599",
      "is_reply": true
    },
    {
      "sender": "tony.shi",
      "user_id": "U03R8QN7VQA",
      "message": "The use case that is causing slowness is the get deployment call. So we would need to decide if an org admin can see the deployments in users' repos within their org right?",
      "time": "11:14",
      "timestamp": "1730747695.309749",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "I was talking with Jag about this in a private channel, will follow up about this soon",
      "time": "11:17",
      "timestamp": "1730747820.446019",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "ah, if the product requirement is to allow org admins to see all org users' deployment in their personal repo, then sure, we have to query all other users' personal repo",
      "time": "11:17",
      "timestamp": "1730747822.683679",
      "is_reply": true
    },
    {
      "sender": "Jessica",
      "user_id": "UDEF3M2NP",
      "message": "For now, I'm just moving the cypress test to run on the enterprise org lol",
      "time": "11:17",
      "timestamp": "1730747839.227289",
      "is_reply": true
    },
    {
      "sender": "Subash",
      "user_id": "U01CPRMS8LV",
      "message": "@abhijnan has a PR to fix the search failures",
      "time": "21:46",
      "timestamp": "1730785579.271869",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "CSY11CK7T",
    "channel_name": "discuss-frontend",
    "date_file": "2024-11-04.json",
    "message_count": 12,
    "start_time": "1730745386.893909",
    "end_time": "1730785579.271869",
    "is_thread": true
  }
}