{
  "id": "ch_C05L87V014J_2025-08-05_1754415193.228249_thread",
  "type": "channel",
  "channel_name": "ask-crafting",
  "conversation_type": "thread",
  "participants": [
    "Victor Zeng",
    "mfichman",
    "tony.shi",
    "Sayan"
  ],
  "messages": [
    {
      "sender": "tony.shi",
      "user_id": "U03R8QN7VQA",
      "message": "I've started getting recursionErrors when compiling webapp starting this morning on a recently resyned sandbox (https://instabase.sandboxes.site/sandboxes/tonybackend3?cw=dev). Has anyone found a solution yet?\n\n```fication,split_classification\"}}\"  path=\"/instabase-server/py/instabase/config_utils/hot_config.py:131\" process=\"MainProcess\" thread=\"Thread-2\" trace_id=\"\"\nlevel=INFO time=2025-08-05 17:32:12,165 msg=\"Initalizing Metronome\"  path=\"/instabase-server/py/instabase/webapp/server/main.py:268\" process=\"MainProcess\" thread=\"MainThread\" trace_id=\"\"\nTraceback (most recent call last):\n  File \"/usr/local/bin/flask\", line 7, in <module>\n    sys.exit(main())\n  File \"/usr/local/lib/python3.9/site-packages/flask/cli.py\", line 1063, in main\n    cli.main()\n  File \"/usr/local/lib/python3.9/site-packages/click/core.py\", line 1078, in main\n    rv = self.invoke(ctx)\n  File \"/usr/local/lib/python3.9/site-packages/click/core.py\", line 1682, in invoke\n    cmd_name, cmd, args = self.resolve_command(ctx, args)\n  File \"/usr/local/lib/python3.9/site-packages/click/core.py\", line 1729, in resolve_command\n    cmd = self.get_command(ctx, cmd_name)\n  File \"/usr/local/lib/python3.9/site-packages/flask/cli.py\", line 578, in get_command\n    app = info.load_app()\n  File \"/usr/local/lib/python3.9/site-packages/flask/cli.py\", line 308, in load_app\n    app = locate_app(import_name, name)\n  File \"/usr/local/lib/python3.9/site-packages/flask/cli.py\", line 218, in locate_app\n    __import__(module_name)\n  File \"/instabase-server/py/manage_webapp.py\", line 74, in <module>\n    webapp.init_metronome_client()\n  File \"/instabase-server/py/instabase/webapp/server/main.py\", line 275, in init_metronome_client\n    if self.app.metronome_client.is_in_sandbox:\n  File \"/instabase-server/py/instabase/metronome/client.py\", line 211, in is_in_sandbox\n    self._is_in_sandbox = self._check_is_in_sandbox()\n  File \"/instabase-server/py/instabase/metronome/client.py\", line 192, in _check_is_in_sandbox\n    self.get_plan_details(SANDBOX_SENTINEL_PLAN_ID)\n  File \"/instabase-server/py/instabase/tracing/utils.py\", line 330, in wrapped\n    raise error\n  File \"/instabase-server/py/instabase/tracing/utils.py\", line 325, in wrapped\n    r = func(*args, **kwargs)\n  File \"/instabase-server/py/instabase/metronome/client.py\", line 442, in get_plan_details\n    resp = self._get_with_retry(\n  File \"/instabase-server/py/instabase/metronome/client.py\", line 140, in _get_with_retry\n    response = self._session.get(url, params=params)\n  File \"/usr/local/lib/python3.9/site-packages/requests/sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n  File \"/usr/local/lib/python3.9/site-packages/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python3.9/site-packages/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python3.9/site-packages/requests/adapters.py\", line 667, in send\n    resp = conn.urlopen(\n  File \"/usr/local/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 716, in urlopen\n    httplib_response = self._make_request(\n  File \"/usr/local/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 404, in _make_request\n    self._validate_conn(conn)\n  File \"/usr/local/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 1061, in _validate_conn\n    conn.connect()\n  File \"/usr/local/lib/python3.9/site-packages/urllib3/connection.py\", line 406, in connect\n    context.verify_mode = resolve_cert_reqs(self.cert_reqs)\n  File \"/usr/local/lib/python3.9/ssl.py\", line 721, in verify_mode\n    super(SSLContext, SSLContext).verify_mode.__set__(self, value)\n  File \"/usr/local/lib/python3.9/ssl.py\", line 721, in verify_mode\n    super(SSLContext, SSLContext).verify_mode.__set__(self, value)\n  File \"/usr/local/lib/python3.9/ssl.py\", line 721, in verify_mode\n    super(SSLContext, SSLContext).verify_mode.__set__(self, value)\n  [Previous line repeated 4982 more times]\nRecursionError: maximum recursion depth exceeded```",
      "time": "10:33",
      "timestamp": "1754415193.228249",
      "is_reply": false
    },
    {
      "sender": "Sayan",
      "user_id": "U07TLK5RJBS",
      "message": "re Metronome, @Victor Zeng can you take a look as well?",
      "time": "10:45",
      "timestamp": "1754415918.832279",
      "is_reply": true
    },
    {
      "sender": "Sayan",
      "user_id": "U07TLK5RJBS",
      "message": "Also +1, Seeing this when starting webapp too",
      "time": "11:36",
      "timestamp": "1754418961.585929",
      "is_reply": true
    },
    {
      "sender": "Victor Zeng",
      "user_id": "U03JT46AUPP",
      "message": "Yep. This is a dependency issue with webapp.",
      "time": "11:36",
      "timestamp": "1754418994.108069",
      "is_reply": true
    },
    {
      "sender": "Victor Zeng",
      "user_id": "U03JT46AUPP",
      "message": "> The issue is that urllib3 1.26.20 has a known compatibility problem with cryptography 44.0.1 and newer versions of pyOpenSSL. This creates an infinite recursion loop in the SSL context verification.",
      "time": "11:36",
      "timestamp": "1754418996.339049",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Fix here!!",
      "time": "12:00",
      "timestamp": "1754420405.824379",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Oops, sorry, it's this one: https://github.com/instabase/instabase/pull/73350",
      "time": "12:03",
      "timestamp": "1754420624.088509",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Merged to unblock folks. Sorry about the blip :disappointed:",
      "time": "12:12",
      "timestamp": "1754421120.697939",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C05L87V014J",
    "channel_name": "ask-crafting",
    "date_file": "2025-08-05.json",
    "message_count": 8,
    "start_time": "1754415193.228249",
    "end_time": "1754421120.697939",
    "is_thread": true
  }
}