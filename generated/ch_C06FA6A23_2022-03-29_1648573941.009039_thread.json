{
  "id": "ch_C06FA6A23_2022-03-29_1648573941.009039_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Xi Cheng",
    "Cheryl Zhou",
    "donagh",
    "Eric Marnadi"
  ],
  "messages": [
    {
      "sender": "Eric Marnadi",
      "user_id": "U037BT6HLKZ",
      "message": "Hey all, I've had trouble installing Python 3.9.4 using pyenv, with the following output:\n```BUILD FAILED (OS X 12.1 using python-build 20180424)\n\nInspect or clean up the working tree at /var/folders/1f/8p4zv1v540jcg3l87zvfj4gw0000gq/T/python-build.20220329090826.42644\nResults logged to /var/folders/1f/8p4zv1v540jcg3l87zvfj4gw0000gq/T/python-build.20220329090826.42644.log\n\nLast 10 log lines:\nchecking for --with-cxx-main=<compiler>... no\nchecking for c++... c++\nconfigure:\n\n By default, distutils will build C++ extension modules with \"c++\".\n If this is not intended, then set CXX on the configure command line.\n  \nchecking for the platform triplet based on compiler characteristics... darwin\nconfigure: error: internal configure error for the platform triplet, please file a bug report\nmake: *** No targets specified and no makefile found. Stop.```",
      "time": "10:12",
      "timestamp": "1648573941.009039",
      "is_reply": false
    },
    {
      "sender": "Eric Marnadi",
      "user_id": "U037BT6HLKZ",
      "message": "I have an M1 chip, and have tried reinstalling xcode-select tools and going through the pyenv installation again per this link: https://github.com/pyenv/pyenv/issues/1746 but it didn't work.",
      "time": "10:13",
      "timestamp": "1648573999.419909",
      "is_reply": true
    },
    {
      "sender": "Eric Marnadi",
      "user_id": "U037BT6HLKZ",
      "message": "There is also some ambiguity about the architecture I'm using, the 'About This Mac' section shows I have an M1, but Homebrew was installed in the location used for Intel",
      "time": "10:14",
      "timestamp": "1648574045.828909",
      "is_reply": true
    },
    {
      "sender": "Xi Cheng",
      "user_id": "U01F946DGEP",
      "message": "Hi Eric, I am not on the M1 chip and likely don't have most up-to-date ack on local set up, but my impression is we are using python3.7? Or maybve that has changed",
      "time": "10:14",
      "timestamp": "1648574060.124269",
      "is_reply": true
    },
    {
      "sender": "donagh",
      "user_id": "U036AEB3AF9",
      "message": "are you running Rosetta2? If you run arch on the command line what is the output?",
      "time": "10:14",
      "timestamp": "1648574081.805049",
      "is_reply": true
    },
    {
      "sender": "Eric Marnadi",
      "user_id": "U037BT6HLKZ",
      "message": "So for M1, we're supposed to install Python 3.9.4. But, I have tried installing 3.7 and 3.9.4, and hitting the same issue on both. For the Terminal, I am using Rosetta2. The output of `arch` is `i386`",
      "time": "10:15",
      "timestamp": "1648574129.893819",
      "is_reply": true
    },
    {
      "sender": "donagh",
      "user_id": "U036AEB3AF9",
      "message": "Try this",
      "time": "10:17",
      "timestamp": "1648574257.494989",
      "is_reply": true
    },
    {
      "sender": "donagh",
      "user_id": "U036AEB3AF9",
      "message": "```pyenv install 3.7.3 --patch < <(curl -sSL https://github.com/python/cpython/commit/8ea6353.patch) ```",
      "time": "10:17",
      "timestamp": "1648574269.368649",
      "is_reply": true
    },
    {
      "sender": "donagh",
      "user_id": "U036AEB3AF9",
      "message": "This could also be helpful",
      "time": "10:18",
      "timestamp": "1648574303.321189",
      "is_reply": true
    },
    {
      "sender": "donagh",
      "user_id": "U036AEB3AF9",
      "message": "```https://towardsdatascience.com/how-to-use-manage-multiple-python-versions-on-an-apple-silicon-m1-mac-d69ee6ed0250```",
      "time": "10:18",
      "timestamp": "1648574304.964619",
      "is_reply": true
    },
    {
      "sender": "Eric Marnadi",
      "user_id": "U037BT6HLKZ",
      "message": "Hm, I get the same output",
      "time": "10:19",
      "timestamp": "1648574357.751189",
      "is_reply": true
    },
    {
      "sender": "Eric Marnadi",
      "user_id": "U037BT6HLKZ",
      "message": "Thanks @donagh I'll look at the article",
      "time": "10:20",
      "timestamp": "1648574401.558339",
      "is_reply": true
    },
    {
      "sender": "Cheryl Zhou",
      "user_id": "U030KCEN6NA",
      "message": "Hey Eric, I had a similar issue with M1 pyenv during set up too. I haven't really solved it and got the native arm64 terminal to work, but I eventually just sticked with python 3.7.10 in the Rosetta2 homebrew and followed through with the non-M1 setup instructions.",
      "time": "11:28",
      "timestamp": "1648578531.243949",
      "is_reply": true
    },
    {
      "sender": "Eric Marnadi",
      "user_id": "U037BT6HLKZ",
      "message": "@Cheryl Zhou Yeah I've tried with multiple versions of Python, but for some reason I get the same error each time... Was your homebrew also located at `/usr/local/bin/brew` and did `arch` output `i386`?",
      "time": "11:43",
      "timestamp": "1648579409.474689",
      "is_reply": true
    },
    {
      "sender": "Cheryl Zhou",
      "user_id": "U030KCEN6NA",
      "message": "I see, that's super weird. But yeah, those are what I have.",
      "time": "11:51",
      "timestamp": "1648579888.312829",
      "is_reply": true
    },
    {
      "sender": "Eric Marnadi",
      "user_id": "U037BT6HLKZ",
      "message": "Strange, not sure what the issue could be then",
      "time": "11:54",
      "timestamp": "1648580079.687059",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2022-03-29.json",
    "message_count": 16,
    "start_time": "1648573941.009039",
    "end_time": "1648580079.687059",
    "is_thread": true
  }
}