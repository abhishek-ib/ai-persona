{
  "id": "ch_C06FA6A23_2020-09-23_1600890582.013800_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Kerry",
    "Aaron Vontell",
    "Heymian",
    "georgia chestnuts rust-ing on an open fire",
    "Erick"
  ],
  "messages": [
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "Hey @Aaron Vontell :wave::skin-tone-3: BofA is having issues trying to use Ib_semantics. they screenshared with me and I couldn't fix the error. Would it be okay to set up time with you to see what's going on?",
      "time": "12:49",
      "timestamp": "1600890582.013800",
      "is_reply": false
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Yup sure thing!",
      "time": "12:50",
      "timestamp": "1600890603.014000",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "It might also be good to have someone from the marketplace team on that call",
      "time": "12:50",
      "timestamp": "1600890615.014200",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Do you know what the nature of the issue is?",
      "time": "12:50",
      "timestamp": "1600890623.014400",
      "is_reply": true
    },
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "Who is on the marketplace team?",
      "time": "12:50",
      "timestamp": "1600890627.014600",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Actually is it an issue with installing it on marketplace, or an issue with using one of the functions?",
      "time": "12:50",
      "timestamp": "1600890651.014800",
      "is_reply": true
    },
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "No issue installing it - they are calling the functions from refiner and getting errors.",
      "time": "12:51",
      "timestamp": "1600890672.015000",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Ah ok, no need for someone from MP team then. Do you know what the error is that they are getting?",
      "time": "12:51",
      "timestamp": "1600890690.015200",
      "is_reply": true
    },
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "It seems like the functions aren't registered or imported but they showed me the UDF and it looks just like this:\n\n```from ib.market.ib_semantics.semantics_fns import register_semantics_fns\n\ndef register(name_to_fn):\n  register_semantics_fns(name_to_fn)```",
      "time": "12:52",
      "timestamp": "1600890727.015400",
      "is_reply": true
    },
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "And they showed me where the package is in Developer Exchange so it's definitely installed. They are on 2.1.6.0 so idk if maybe it doesn't work with that version?",
      "time": "12:52",
      "timestamp": "1600890760.015600",
      "is_reply": true
    },
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "They are sending a screenshot of the error. will share when I have it",
      "time": "12:52",
      "timestamp": "1600890776.015800",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Hmmm and they link the scripts folder to their Refiner?",
      "time": "12:52",
      "timestamp": "1600890779.016000",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Thanks!",
      "time": "12:53",
      "timestamp": "1600890782.016200",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "And also there is a “Reload Scripts” toggle in the Bottom right “Run Field” bottom in Refiner 5, they may need to toggle that on",
      "time": "12:53",
      "timestamp": "1600890807.016400",
      "is_reply": true
    },
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "Yes, let me try that.",
      "time": "12:55",
      "timestamp": "1600890918.016600",
      "is_reply": true
    },
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "Here is the image:",
      "time": "12:55",
      "timestamp": "1600890939.016800",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Ah interesting… Do you know what release corresponds to Instabase version 2.1.6.0?",
      "time": "12:57",
      "timestamp": "1600891032.017400",
      "is_reply": true
    },
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "I think it's the 07-16 release branch.",
      "time": "12:59",
      "timestamp": "1600891182.017600",
      "is_reply": true
    },
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "Okay, he tried the toggle of reload scripts and that didn't work either.",
      "time": "13:03",
      "timestamp": "1600891385.017800",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Yeah it is correctly calling the find_address function, but one of the services is throwing an error that it shouldn’t. I’ll look into this!",
      "time": "13:03",
      "timestamp": "1600891418.018000",
      "is_reply": true
    },
    {
      "sender": "georgia chestnuts rust-ing on an open fire",
      "user_id": "ULA3N12G2",
      "message": "got it, thank you! I'll hold off on scheduling a call while you investigate.",
      "time": "13:04",
      "timestamp": "1600891451.018200",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Thanks :slightly_smiling_face:",
      "time": "13:04",
      "timestamp": "1600891459.018400",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "Is it possible the libpostal installation in the dockerfile is failing? Not 100% sure how images get built for customers. Would the\n```    # Install libpostal\n    git clone https://github.com/openvenues/libpostal && \\\n    cd libpostal && \\\n    ./bootstrap.sh && \\\n    ./configure --datadir=/tmp/models/nlp/libpostal-data && \\\n    make -j4 && \\\n    make install && \\\n    ldconfig && \\\n    export LD_LIBRARY_PATH=/usr/local/lib && \\\n    pip install --user postal && \\```\ncommand get run within BofA's firewall or before we ship anything to them?",
      "time": "13:36",
      "timestamp": "1600893374.018800",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "hey sorry for the late reply. it looks like libpostal is not correctly installed in the service?  @shaunak can we verify this checking out their container",
      "time": "15:12",
      "timestamp": "1600899137.023500",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Since that is part of the build, it should be installing that before we ship I believe",
      "time": "15:12",
      "timestamp": "1600899165.023700",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "yes",
      "time": "15:13",
      "timestamp": "1600899187.023900",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Everything in the Dockerfile gets run/installed when we build them the new image. So if the image got created, we would’ve made it to the end of the file and libpostal would be in there. I’m assuming we’re not ignoring an error if libpostal failed to install.",
      "time": "15:29",
      "timestamp": "1600900190.024100",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Not sure if I missed a message earlier, but have we tried pulling the image we sent them and seeing if we can reproduce?",
      "time": "15:31",
      "timestamp": "1600900282.024300",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "Nope, good idea. Where / what is the approach to pull that image? We can try to reproduce by simply running python and doing `from postal.parser import parse_address`",
      "time": "15:32",
      "timestamp": "1600900342.024500",
      "is_reply": true
    },
    {
      "sender": "Aaron Vontell",
      "user_id": "UCWNLU6CB",
      "message": "(Or what I mean is where do we list our available images)",
      "time": "15:37",
      "timestamp": "1600900647.024700",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "My guess is it's one of these",
      "time": "15:45",
      "timestamp": "1600901122.024900",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "```gcloud container images list-tags gcr.io/instabase-public/docops-service (http://gcr.io/instabase-public/docops-service) | grep baml\n2586be76dc13  20.09.13-69e678a84d,baml-20.09.13-69e678a84d                                                                                                                                                                                            2020-09-13T15:28:44\ne181e4c7aaa5  20.08.13-172e517927,20.08.16-86127a454b,baml-20.08.13-172e517927,baml-20.08.16-86127a454b,metlife-20.08.16-86127a454b                                                                                                                   2020-08-13T15:57:54\n9e75552036bc  20.07.30-4013f68c75,20.08.04-77d1e70172,baml-20.07.30-4013f68c75,baml-20.07.30-88920382f9,gsin-20.08.04-77d1e70172                                                                                                                      2020-07-30T08:41:55\nbfb682a623f5  20.05.07-c926a52258,20.05.08-9ed30f19f9,20.05.08-edabdcb95c,20.05.08-fe0596713c,baml-20.05.08-fe0596713c,bofa-20.05.07-c926a52258,bofa-20.05.08-9ed30f19f9,bofa-20.05.08-edabdcb95c                                                     2020-05-07T16:19:47\nab9cd5b78137  20.04.10-5fa2011138,baml-20.04.10-5fa2011138                                                                                                                                                                                            2020-04-10T14:27:40\n949f209194ec  20.04.09-8ed85be263,baml-20.04.09-8ed85be263                                                                                                                                                                                            2020-04-09T09:45:18\n5de804eae585  20.04.07-5df6707866,20.04.08-5df6707866,baml-20.04.07-5df6707866,baml-20.04.08-5df6707866                                                                                                                                               2020-04-07T16:22:17\n9adf812b82b3  20.04.03-6440fb87b5,20.04.06-3d3ea5b617,20.04.06-4526227cbc,20.04.06-58f59943d4,baml-20.04.03-6440fb87b5,gsin-20.04.06-3d3ea5b617,gsin-20.04.06-4526227cbc,gsin-20.04.06-58f59943d4                                                     2020-04-02T21:10:08\n08606cd0b6f3  20.03.10-b9eaca1151,20.03.11-b9eaca1151,baml-20.03.10-b9eaca1151,blend-20.03.11-b9eaca1151,fr-20.03.10-b9eaca1151,fr-20.03.11-b9eaca1151                                                                                                2020-03-10T16:08:56\nc29876358cc2  20.03.04-fbd98f1af9,baml-20.03.04-fbd98f1af9                                                                                                                                                                                            2020-03-04T00:22:29\n1d92c6b225b8  20.03.03-f507209883,20.03.04-f507209883,baml-20.03.03-f507209883,baml-20.03.04-f507209883                                                                                                                                               2020-03-03T15:34:12\n7ededc1a21a6  20.02.26-a2c54d745c,20.02.27-a2c54d745c,20.02.28-e6102c7790,20.03.03-fbd98f1af9,baml-20.02.26-a2c54d745c,baml-20.03.03-fbd98f1af9,blend-20.02.26-a2c54d745c,blend-20.02.27-a2c54d745c,blend-20.02.28-e6102c7790,fr-20.02.28-e6102c7790  2020-02-26T13:03:37\n5b3a72b33316  20.02.14-f3c3aed664,baml-20.02.14-f3c3aed664                                                                                                                                                                                            2020-02-14T10:23:54\nb0c8784d8a76  19.12.05-61be65a,baml-19.12.05-61be65a                                                                                                                                                                                                  2019-12-04T18:37:56\n9494a52abadc  19.11.08-e120cdd,baml-19.11.08-e120cdd                                                                                                                                                                                                  2019-11-07T21:32:33\n7f5140e0de9f  19.11.07-c435b8d,baml-19.11.07-c435b8d,rbs-19.11.07-c435b8d                                                                                                                                                                             2019-11-06T20:22:02```",
      "time": "15:45",
      "timestamp": "1600901122.025100",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "Probably `9e75552036bc`  for july?",
      "time": "15:45",
      "timestamp": "1600901152.025300",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "I'll try this",
      "time": "15:47",
      "timestamp": "1600901247.025700",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "Well the import worked on that one...",
      "time": "15:56",
      "timestamp": "1600901774.025900",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "Heads up it's a 3gb download so takes a few minutes. I might wait for @shaunak to get back with which image is the one they're currently running (and if I'm even on the right track with the `instabase-public` ones)",
      "time": "15:57",
      "timestamp": "1600901846.026100",
      "is_reply": true
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "yeah let’s wait; after getting the image checking should be quick",
      "time": "16:01",
      "timestamp": "1600902084.026300",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "This should be the tag: `\"registry-nonprod.sdi.corp.bankofamerica.com/72323/instabase/docops-service:baml-20.09.13-69e678a84d (http://registry-nonprod.sdi.corp.bankofamerica.com/72323/instabase/docops-service:baml-20.09.13-69e678a84d)\"` The hash of the commit is the last string segment.",
      "time": "16:52",
      "timestamp": "1600905140.026600",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "Don't think I have access to that",
      "time": "17:00",
      "timestamp": "1600905618.026900",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "Here - this is the tag in our gcr: gcr.io/instabase-public/docops-service:20.09.13-69e678a84d (http://gcr.io/instabase-public/docops-service:20.09.13-69e678a84d)",
      "time": "17:03",
      "timestamp": "1600905801.027200",
      "is_reply": true
    },
    {
      "sender": "Erick",
      "user_id": "ULQK30Z7V",
      "message": "Hmm import works in that one too...",
      "time": "17:06",
      "timestamp": "1600905962.027400",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2020-09-23.json",
    "message_count": 41,
    "start_time": "1600890582.013800",
    "end_time": "1600905962.027400",
    "is_thread": true
  }
}