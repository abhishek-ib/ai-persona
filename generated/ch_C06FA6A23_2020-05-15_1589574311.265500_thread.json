{
  "id": "ch_C06FA6A23_2020-05-15_1589574311.265500_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Heymian",
    "abhitaker",
    "will",
    "sudeep"
  ],
  "messages": [
    {
      "sender": "will",
      "user_id": "UJUJC82AG",
      "message": "I’m not sure who to ping about this, so apologies in advance for the broad reach. We have 21 pods of `monitor-prometheus-node-exporter` on sandbox, is it possible to reduce that or move it to another cluster? We are having pretty severe scheduling issues due to resource limits.",
      "time": "13:25",
      "timestamp": "1589574311.265500",
      "is_reply": false
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "@abhitaker @sudeep",
      "time": "13:27",
      "timestamp": "1589574446.265600",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "They’re probably asleep, but I think you can take it down for now, they’re mostly doing experiments.",
      "time": "13:27",
      "timestamp": "1589574479.265800",
      "is_reply": true
    },
    {
      "sender": "will",
      "user_id": "UJUJC82AG",
      "message": "I’",
      "time": "13:28",
      "timestamp": "1589574485.266000",
      "is_reply": true
    },
    {
      "sender": "will",
      "user_id": "UJUJC82AG",
      "message": "Sounds good, I’ll just scale to 0 replicas that way it can just be scaled up if needed",
      "time": "13:28",
      "timestamp": "1589574501.266200",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": ":+1:",
      "time": "13:28",
      "timestamp": "1589574508.266400",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "Hey Will - these are part of the monitoring stack and is a daemonset that monitors every node. The usage for these pods should also be tiny.",
      "time": "19:11",
      "timestamp": "1589595068.268700",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "Could we ask folks to delete unused sandboxes on the cluster?",
      "time": "19:11",
      "timestamp": "1589595118.270700",
      "is_reply": true
    },
    {
      "sender": "will",
      "user_id": "UJUJC82AG",
      "message": "I think we might need to look at how it is configured and confirm, it was preventing anything else from being scheduled.",
      "time": "19:12",
      "timestamp": "1589595132.271100",
      "is_reply": true
    },
    {
      "sender": "will",
      "user_id": "UJUJC82AG",
      "message": "Maybe the resource limits are not tuned?",
      "time": "19:12",
      "timestamp": "1589595145.271700",
      "is_reply": true
    },
    {
      "sender": "will",
      "user_id": "UJUJC82AG",
      "message": "There aren't very many on that cluster right now.",
      "time": "19:12",
      "timestamp": "1589595162.272400",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "Sure we can check resource limits on it. We have not seen node exporter use more than 100m memory for each pod though.",
      "time": "19:16",
      "timestamp": "1589595366.274200",
      "is_reply": true
    },
    {
      "sender": "Heymian",
      "user_id": "UADQ9V8PK",
      "message": "request to keep my sandbox up! it’s running with a set of configs that allow training folk to run a script to reset training accounts.",
      "time": "19:18",
      "timestamp": "1589595501.276400",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "I can take a look at this again but we will have much more leverage deleting inactive sandboxes.",
      "time": "19:18",
      "timestamp": "1589595533.277300",
      "is_reply": true
    },
    {
      "sender": "sudeep",
      "user_id": "UCWRN72EP",
      "message": "Hahaha @Heymian sure!",
      "time": "19:19",
      "timestamp": "1589595545.277800",
      "is_reply": true
    },
    {
      "sender": "abhitaker",
      "user_id": "URXC02W58",
      "message": "@sudeep @will for node exporters, i’ve set cpu limit to 10m and Memory limit to 40 MiB, even then it’s barely using that much resources.\nsince we have only 1 node exporter pod per node, node exporters should not be a problem :slightly_smiling_face:",
      "time": "21:17",
      "timestamp": "1589602660.278000",
      "is_reply": true
    },
    {
      "sender": "abhitaker",
      "user_id": "URXC02W58",
      "message": "and also, we have resource limits for all the monitoring stack components.",
      "time": "21:23",
      "timestamp": "1589603025.278300",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2020-05-15.json",
    "message_count": 17,
    "start_time": "1589574311.265500",
    "end_time": "1589603025.278300",
    "is_thread": true
  }
}