{
  "id": "ch_C06FA6A23_2024-04-30_1714460950.675139_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "mfichman",
    "Balaram",
    "Xindi Xu",
    "Varun Nandan",
    "shaunak",
    "Murali",
    "Vasu",
    "Gauti",
    "Nithin",
    "Pridhvi Vegesna",
    "aditi.garg"
  ],
  "messages": [
    {
      "sender": "Varun Nandan",
      "user_id": "UKLRUHCUF",
      "message": "I'm facing the same issue, I've lost access to all the shared org-spaces in platform.instabase.com (http://platform.instabase.com)\ncc: @Nithin",
      "time": "00:09",
      "timestamp": "1714460950.675139",
      "is_reply": false
    },
    {
      "sender": "Vasu",
      "user_id": "U02RJRBS13R",
      "message": "Then it might not be the above PR as it just got merged only in dogfood!",
      "time": "00:12",
      "timestamp": "1714461174.108309",
      "is_reply": true
    },
    {
      "sender": "Nithin",
      "user_id": "UNXFBRZ6D",
      "message": "Cc @Murali",
      "time": "00:16",
      "timestamp": "1714461377.411669",
      "is_reply": true
    },
    {
      "sender": "Murali",
      "user_id": "U02GRP16ESX",
      "message": "I’m unable to see ib_solutions too.",
      "time": "00:18",
      "timestamp": "1714461501.904769",
      "is_reply": true
    },
    {
      "sender": "aditi.garg",
      "user_id": "U03QU8ENQH5",
      "message": "Refiner is also getting errored out frequently for me.\n\n \"*Error running program:* Refiner job was killed while processing aditi.garg/table-extractor-v2/fs/Instabase Drive/flow/output-v01/s2_map_records/YY2022_MM11_10607WCZ6_OS_ic633.pdf.ibmsg, likely because the worker ran out of memory.\"",
      "time": "02:45",
      "timestamp": "1714470344.780879",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Yes, the database migration mentioned is not in prod yet. Must be a different issue!",
      "time": "02:49",
      "timestamp": "1714470544.289539",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "Is this still happening ... the worker running out of memory is an out of memory error.  @Gauti does this continue to be an issue?",
      "time": "08:18",
      "timestamp": "1714490332.662259",
      "is_reply": true
    },
    {
      "sender": "Nithin",
      "user_id": "UNXFBRZ6D",
      "message": "I still see the issue.",
      "time": "08:20",
      "timestamp": "1714490448.523679",
      "is_reply": true
    },
    {
      "sender": "Balaram",
      "user_id": "UJQKL1UCC",
      "message": "yes, none of the org workspaces are getting listed. I am seeing only the personal shared workspaces.",
      "time": "08:20",
      "timestamp": "1714490449.850449",
      "is_reply": true
    },
    {
      "sender": "Gauti",
      "user_id": "U01JA04CX1B",
      "message": "Hi @shaunak, Yes I am still not able to access to any org-subspace.",
      "time": "08:20",
      "timestamp": "1714490457.939309",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "@mfichman adding you here in case we made any changes to workspaces ...",
      "time": "08:56",
      "timestamp": "1714492615.704649",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "This is our first RC",
      "time": "08:57",
      "timestamp": "1714492646.608179",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "And we pushed the latest 24.04 version here.",
      "time": "08:57",
      "timestamp": "1714492662.663849",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Not to my knowledge! This is v24.20?",
      "time": "08:57",
      "timestamp": "1714492662.910899",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "This is enterprise",
      "time": "08:57",
      "timestamp": "1714492672.586029",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Oh 24.04 -- nope, not to my knowledge. When was the 24.04 code cut made?",
      "time": "08:58",
      "timestamp": "1714492683.916299",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "`Version 24.04.3 — e701712697`",
      "time": "08:58",
      "timestamp": "1714492683.951029",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "Second week of April",
      "time": "08:58",
      "timestamp": "1714492701.793479",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "No changes to the best of my knowledge, but let me double-check w/ Cheryl and Xindi.",
      "time": "08:58",
      "timestamp": "1714492736.163189",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "I don't see any org workspace either actually",
      "time": "08:59",
      "timestamp": "1714492753.940419",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Would someone mind adding me to that org so I can check it out for myself?",
      "time": "09:01",
      "timestamp": "1714492872.386549",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "BTW, I don't see anything under https://platform.instabase.com/apps/admin/spaces#all-spaces either",
      "time": "09:01",
      "timestamp": "1714492909.347049",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Whereas in Dogfood I do: https://dogfood.instabase.com/apps/admin/spaces#all-spaces",
      "time": "09:02",
      "timestamp": "1714492944.095979",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "I'm a site admin for prod, so I should be able to see some.",
      "time": "09:02",
      "timestamp": "1714492962.595039",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "https://instabase.atlassian.net/browse/EPD-2037 Yes, exactly",
      "time": "09:02",
      "timestamp": "1714492974.053279",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Seeing a lot of this in the console:\n\n```Error occurred executing GRPC method: Request /account_service.AccountService/GetActiveOrganization failed. Error code=UNKNOWN, Error=(2, 'unknown'), Message: code = INTERNAL msg = Fail to find active org for username 'matt.fichman'. Non-retriable error```",
      "time": "09:03",
      "timestamp": "1714493001.505379",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Over and over again. That could be the culprit.",
      "time": "09:03",
      "timestamp": "1714493009.174859",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Just repeating again and again :slightly_smiling_face:",
      "time": "09:03",
      "timestamp": "1714493024.674879",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "",
      "time": "09:04",
      "timestamp": "1714493067.737209",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Like a hundred retries there",
      "time": "09:04",
      "timestamp": "1714493091.708289",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "https://platform.instabase.com/api/v1/spaces/list?get_profiles=false&get_admins=true&get_repos=false\n\nhttps://dogfood.instabase.com/api/v1/spaces/list?get_profiles=false&get_admins=true&get_repos=false\n\nCompare these two and you can see the difference.",
      "time": "09:07",
      "timestamp": "1714493230.704829",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "So dogfood also calls the <username>/info endpoint without erroring out. It's odd that the call to get user's active org is not wrapped in `ENABLE_AIHUB` check, but the code hasn't change in 6 months",
      "time": "09:16",
      "timestamp": "1714493798.836679",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "I'm not sure if the two problems (missing spaces, GetActiveOrg error) are related or not (?)",
      "time": "09:17",
      "timestamp": "1714493843.060869",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "btw, dbmigrate job failed on the platform. Is this expected?",
      "time": "09:19",
      "timestamp": "1714493989.381689",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Nope!",
      "time": "09:20",
      "timestamp": "1714494007.454389",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Good eyes :slightly_smiling_face:",
      "time": "09:20",
      "timestamp": "1714494031.815949",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Another error:\n```POST /api/v2/account/user/profiles  \n\n500 Internal Server Error\n\n\"message\": \"Error occurred executing GRPC method: Request /account_service.AccountService/GetUserProfileList failed. Error code=UNKNOWN, Error=(2, 'unknown'), Message: code = INTERNAL msg = Internal error while checking requestor's authorization. Non-retriable error\"```",
      "time": "09:21",
      "timestamp": "1714494064.731959",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "```Error 3940 (HY000): Constraint 'deployed_solutions_state_ck' does not exist.```\n:thinking_face: not sure how this happened, but a check constraint is missing, and a migration is trying to drop it. This is one of the very first check constraints we added with the new tools. Maybe the name of the constraint is incorrect.",
      "time": "09:25",
      "timestamp": "1714494358.526989",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Ah, looks like another instance of https://instabase.slack.com/archives/C04TSMWLPAS/p1713227892256489?thread_ts=1713223342.411049. The constraint got renamed.",
      "time": "09:27",
      "timestamp": "1714494473.169489",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "I can't create an org on prod either due to the failed db migration. I can create on dogfood.",
      "time": "09:28",
      "timestamp": "1714494507.695219",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "I think the fix here is\n\n```ALTER TABLE deployed_solutions ALTER CONSTRAINT state RENAME TO deployed_solutions_state_ck;```\nHowever, I'm having trouble running a pod to connect to the mysql server:\n\n```kubectl run mysql-client --image=mysql:8 -it --rm --restart=Never \"$@\" -- /usr/bin/bash\nE0430 12:26:09.271686   73736 memcache.go:287] couldn't get resource list for metrics.k8s.io/v1beta1 (http://metrics.k8s.io/v1beta1): the server is currently unable to handle the request\nE0430 12:26:09.367628   73736 memcache.go:121] couldn't get resource list for metrics.k8s.io/v1beta1 (http://metrics.k8s.io/v1beta1): the server is currently unable to handle the request\nE0430 12:27:09.636726   73736 memcache.go:121] couldn't get resource list for metrics.k8s.io/v1beta1 (http://metrics.k8s.io/v1beta1): the server is currently unable to handle the request\npod \"mysql-client\" deleted\nerror: timed out waiting for the condition```",
      "time": "09:29",
      "timestamp": "1714494588.918139",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "should it be oracle?",
      "time": "09:30",
      "timestamp": "1714494624.106129",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Prod is mysql. The issue anyway is that k8s isn't allocating resources for the pod I want to run.",
      "time": "09:30",
      "timestamp": "1714494645.233809",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "<!subteam^S02FJA6A7U5> can I get help running this pod in production?",
      "time": "09:31",
      "timestamp": "1714494709.388129",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "I think we found the root cause of the missing org spaces issue: db migration failed to run so querying the organizations table will fail.",
      "time": "09:32",
      "timestamp": "1714494779.940709",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "There is also a cherry-pick we can make to fix this -- I added support for detecting unnamed/incorrectly-named constraints, which would allow the migration to succeed. However, that will take some time to patch.",
      "time": "09:33",
      "timestamp": "1714494789.611389",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "https://github.com/instabase/instabase/pull/56710 fix, but to unbreak prod in a reasonable time we need to get mysql access.",
      "time": "09:40",
      "timestamp": "1714495201.658339",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Might have to do this actually, since mysql doesn't support renaming constraints.\n\n```ALTER TABLE deployed_solutions DROP CONSTRAINT state;\nALTER TABLE deployed_solutions ADD CONSTRAINT deployed_solutions_state_ck CHECK (state IN ('ACTIVE','INACTIVE', 'PROCESSING'));```",
      "time": "09:48",
      "timestamp": "1714495688.743929",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Then rerun dbmigrate",
      "time": "09:48",
      "timestamp": "1714495703.567879",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "BTW, thanks @Xindi Xu! I can take it from here.",
      "time": "09:49",
      "timestamp": "1714495781.147819",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Oh jeez, prod has a public mysql. We should probably fix that.",
      "time": "09:50",
      "timestamp": "1714495847.911149",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "```mysql> ALTER TABLE deployed_solutions DROP CONSTRAINT state;\nERROR 3940 (HY000): Constraint 'state' does not exist.\nmysql> ALTER TABLE deployed_solutions ADD CONSTRAINT deployed_solutions_state_ck CHECK (state IN ('ACTIVE','INACTIVE', 'PROCESSING'));\nQuery OK, 50 rows affected (0.08 sec)\nRecords: 50  Duplicates: 0  Warnings: 0\n\nmysql>```\nConstraint was totally missing",
      "time": "09:52",
      "timestamp": "1714495947.632329",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "```mysql> show create table deployed_solutions;\n+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Table              | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |\n+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| deployed_solutions | CREATE TABLE `deployed_solutions` (\n  `id` varchar(255) NOT NULL,\n  `name` varchar(511) NOT NULL,\n  `version` varchar(255) NOT NULL,\n  `created_at` timestamp NOT NULL,\n  `updated_at` timestamp NOT NULL,\n  `summary` varchar(511) NOT NULL,\n  `description` varchar(2047) NOT NULL,\n  `state` varchar(255) NOT NULL,\n  `metadata` longtext NOT NULL,\n  `author` varchar(255) DEFAULT NULL,\n  `visibility` varchar(255) DEFAULT NULL,\n  `owner` varchar(255) DEFAULT NULL,\n  `link_sharing_mode` varchar(255) DEFAULT NULL,\n  `solution_type` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  CONSTRAINT `deployed_solutions_state_ck` CHECK ((`state` in (_utf8mb4'ACTIVE',_utf8mb4'INACTIVE',_utf8mb4'PROCESSING')))\n) ENGINE=InnoDB DEFAULT CHARSET=latin1 |\n+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n1 row in set (0.01 sec)```\nFixed now",
      "time": "09:53",
      "timestamp": "1714495988.011119",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Running dbmigrate again...",
      "time": "09:53",
      "timestamp": "1714496002.161739",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Success!",
      "time": "09:54",
      "timestamp": "1714496070.986769",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "The problem was that constraint was totally missing from prod. Not sure how that happened, or how to figure out how it happened. We'd probably have to dig back in the old snapshots from 2022...if they still exist.",
      "time": "09:55",
      "timestamp": "1714496127.492309",
      "is_reply": true
    },
    {
      "sender": "Pridhvi Vegesna",
      "user_id": "U0290LSE8KC",
      "message": "Do we still need any help with getting mysql access to prod?",
      "time": "10:06",
      "timestamp": "1714496804.332239",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Nope, all good",
      "time": "10:10",
      "timestamp": "1714497054.002659",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Ty Pridhvi!",
      "time": "10:10",
      "timestamp": "1714497059.027069",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "Oh boy, so this was a dbmigrate issue from a long time ago then?",
      "time": "10:15",
      "timestamp": "1714497351.341759",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "I'm not 100% sure it was dbmigrate. The check constraint in question was totally missing in the prod database. Possible that a migration file was edited after the fact to add the constraint after the migrations already ran...which is generally not allowed. I'll have to go back and see.",
      "time": "10:17",
      "timestamp": "1714497427.314869",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "BTW, there was _another_ issue with this constraint where the constraint was originally misnamed \"state\" instead of \"deployed_solutions_state_ck\" and then later corrected (by me, which in retrospect was an error). This PR fixes that particular problem for good. (https://github.com/instabase/instabase/pull/56710)",
      "time": "10:17",
      "timestamp": "1714497472.153659",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "Got it, do you think that this is going to be affecting any of our customers as well?  They haven't receivied the 24.04 upgrade yet.",
      "time": "10:21",
      "timestamp": "1714497717.319749",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "It's entirely possible...we should merge that backport at minimum.",
      "time": "10:23",
      "timestamp": "1714497785.187729",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Let me check out the state of some earlier release sandboxes to see what the situation is.",
      "time": "10:23",
      "timestamp": "1714497811.847329",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "right, make sense.",
      "time": "10:23",
      "timestamp": "1714497814.571049",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "23.07 sandbox looks OK:\n\n```| deployed_solutions | CREATE TABLE `deployed_solutions` (\n  `id` varchar(255) COLLATE utf8mb4_general_ci NOT NULL,\n  `name` varchar(511) COLLATE utf8mb4_general_ci NOT NULL,\n  `version` varchar(255) COLLATE utf8mb4_general_ci NOT NULL,\n  `created_at` timestamp NOT NULL,\n  `updated_at` timestamp NOT NULL,\n  `summary` varchar(511) COLLATE utf8mb4_general_ci NOT NULL,\n  `description` varchar(2047) COLLATE utf8mb4_general_ci NOT NULL,\n  `state` varchar(255) COLLATE utf8mb4_general_ci NOT NULL,\n  `metadata` longtext COLLATE utf8mb4_general_ci NOT NULL,\n  `author` varchar(255) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `visibility` varchar(255) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  `owner` varchar(255) COLLATE utf8mb4_general_ci DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  CONSTRAINT `deployed_solutions_state_ck` CHECK ((`state` in (_utf8mb4'ACTIVE',_utf8mb4'INACTIVE'))),\n  CONSTRAINT `deployed_solutions_visibility_ck` CHECK ((`visibility` in (_utf8mb4'PRIVATE',_utf8mb4'PUBLIC',_utf8mb4'PENDING_REVIEW')))\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci |```\nThat's the earliest one we have I think (?)",
      "time": "10:27",
      "timestamp": "1714498070.764849",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "We do have the ones from 22.10 as well :slightly_smiling_face: they might be in a different project though ...",
      "time": "10:28",
      "timestamp": "1714498129.329959",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "OK, looking",
      "time": "10:28",
      "timestamp": "1714498135.534189",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Are they at sandbox.console.instabase.com (http://sandbox.console.instabase.com)?",
      "time": "10:29",
      "timestamp": "1714498151.390279",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "https://release-22-10-0.aws.sandbox.instabase.com/control-plane/",
      "time": "10:29",
      "timestamp": "1714498155.202599",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "No, they are not on sandbox.console",
      "time": "10:29",
      "timestamp": "1714498168.225349",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "OK",
      "time": "10:29",
      "timestamp": "1714498172.309389",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "22.10 doesn't have deployed_solutions, so that one is actually too early. I think 23.01 is probably the one we need.\n```mysql> show create table deployed_solutions;\nERROR 1146 (42S02): Table 'instabase.deployed_solutions' doesn't exist```",
      "time": "10:33",
      "timestamp": "1714498402.659249",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "23.01 doesn't either\n```mysql> show create table deployed_solutions;\nERROR 1146 (42S02): Table 'instabase.deployed_solutions' doesn't exist```",
      "time": "10:49",
      "timestamp": "1714499350.030409",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "23.04 is OK\n```mysql> show create table deployed_solutions;\n+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Table              | Create Table\n\n\n\n                                                 |\n+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| deployed_solutions | CREATE TABLE `deployed_solutions` (\n  `id` varchar(255) NOT NULL,\n  `name` varchar(511) NOT NULL,\n  `version` varchar(255) NOT NULL,\n  `created_at` timestamp NOT NULL,\n  `updated_at` timestamp NOT NULL,\n  `summary` varchar(511) NOT NULL,\n  `description` varchar(2047) NOT NULL,\n  `state` varchar(255) NOT NULL,\n  `metadata` longtext NOT NULL,\n  `author` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `deployed_solutions_name_version_uc` (`name`,`version`),\n  CONSTRAINT `deployed_solutions_state_ck` CHECK ((`state` in (_utf8mb4'ACTIVE',_utf8mb4'INACTIVE')))\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |```\nSo the plot thickens",
      "time": "10:54",
      "timestamp": "1714499644.437219",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "hmm ...",
      "time": "11:02",
      "timestamp": "1714500160.780219",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "the plot definitely thickens",
      "time": "11:02",
      "timestamp": "1714500168.229379",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "Wonder if there was some manual fiddling at some point...? Kind of out of ideas for tracking this down though, unless we have more example databases from the 23.01-23.04 timeframe.",
      "time": "11:05",
      "timestamp": "1714500319.995909",
      "is_reply": true
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "Don't spend too much time on tracking this down -- we have definitely fiddled with these databases in the past, so I wouldn't rule that out.  As long as we have the backport in, and we know what to do when we encounter this problem, we should be good.",
      "time": "11:51",
      "timestamp": "1714503116.621849",
      "is_reply": true
    },
    {
      "sender": "mfichman",
      "user_id": "U03DZ9XUE10",
      "message": "OK!",
      "time": "12:00",
      "timestamp": "1714503654.473249",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2024-04-30.json",
    "message_count": 81,
    "start_time": "1714460950.675139",
    "end_time": "1714503654.473249",
    "is_thread": true
  }
}