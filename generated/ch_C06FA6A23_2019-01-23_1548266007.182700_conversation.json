{
  "id": "ch_C06FA6A23_2019-01-23_1548266007.182700_conversation",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "conversation",
  "participants": [
    "shaunak",
    "Ted",
    "Kerry"
  ],
  "messages": [
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "@Kerry are the documents that degrade due to bad image quality? (E.g.: the text layer of the PDF is fantastic.. but our own OCR is the problem?)",
      "time": "09:53",
      "timestamp": "1548266007.182700",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "the document (pdf) looks perfect",
      "time": "09:54",
      "timestamp": "1548266056.183500",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "it’s very strange. the documents are all image pdfs",
      "time": "09:54",
      "timestamp": "1548266088.184100",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "with very good quality",
      "time": "09:54",
      "timestamp": "1548266099.184500",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "Image PDFs can have text layers",
      "time": "09:55",
      "timestamp": "1548266105.184800",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "So this link:",
      "time": "09:55",
      "timestamp": "1548266111.185100",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "https://www.instabase.com/apps/ocr/review-doc/kerry/my-repo/fs/Instabase%20Drive/DHL/samples/out/s1_process_files/p01.pdf.ibocr?i=0&ibflowresults=#",
      "time": "09:55",
      "timestamp": "1548266112.185300",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "was processed with `force_image_ocr`??!!",
      "time": "09:55",
      "timestamp": "1548266119.185600",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "yeah…",
      "time": "09:55",
      "timestamp": "1548266128.186000",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "woah!",
      "time": "09:55",
      "timestamp": "1548266130.186200",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "I’ll dig around a bit and see if I can find anything useful to help",
      "time": "09:55",
      "timestamp": "1548266146.186700",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "",
      "time": "09:55",
      "timestamp": "1548266157.187000",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "this is the flow https://www.instabase.com/apps/flow/edit/kerry/my-repo/fs/Instabase%20Drive/DHL/samples/workflows/DHL_WB.ibflow#",
      "time": "09:55",
      "timestamp": "1548266159.187400",
      "is_reply": false
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "@Kerry can you add one more option: “write_converted_image”: true",
      "time": "09:56",
      "timestamp": "1548266210.188100",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "trying it now",
      "time": "09:57",
      "timestamp": "1548266220.188300",
      "is_reply": false
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "thanks",
      "time": "09:57",
      "timestamp": "1548266235.188800",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "So I just opened every PDF… the phrase “YESCOM” doesn’t appear in any of them",
      "time": "09:57",
      "timestamp": "1548266252.189200",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "So I suspect Process Files isn’t actually using the page images",
      "time": "09:57",
      "timestamp": "1548266266.190200",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "Cause that data has to be coming from somewhere",
      "time": "09:57",
      "timestamp": "1548266273.190500",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "It’s not spurious: it’s well formed names and addresses and strucvture",
      "time": "09:58",
      "timestamp": "1548266284.191000",
      "is_reply": false
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "@Ted we have acrobat reader license",
      "time": "09:58",
      "timestamp": "1548266286.191100",
      "is_reply": false
    },
    {
      "sender": "shaunak",
      "user_id": "UCY6SA014",
      "message": "to analyze the PDFs",
      "time": "09:58",
      "timestamp": "1548266295.191600",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "so after adding ` \"write_converted_image\": true`, old links are back to normal, new links are wrong",
      "time": "09:58",
      "timestamp": "1548266316.192400",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "https://www.instabase.com/apps/ocr/review-doc/kerry/my-repo/fs/Instabase%20Drive/DHL/samples/out/s1_process_files/p105.pdf.ibocr?i=0&ibflowresults=#",
      "time": "09:58",
      "timestamp": "1548266337.192600",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "the `p01` pdf now is correct",
      "time": "09:59",
      "timestamp": "1548266366.192900",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "it almost looks like our flow grabbed the wrong pdf to scan and put the wrong result in randomly",
      "time": "10:02",
      "timestamp": "1548266527.195200",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "anyway, thanks for helping me debug this… happy to have a call anytime later to debug this together",
      "time": "10:02",
      "timestamp": "1548266573.196000",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "",
      "time": "10:07",
      "timestamp": "1548266853.196700",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "Incoming video: as far as I can tell in Acrobat:\n1. There is a text layer in p01\n2. The text layer is correct",
      "time": "10:07",
      "timestamp": "1548266859.197100",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "Let me try with p105",
      "time": "10:07",
      "timestamp": "1548266862.197400",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "Here is the text layer on p105",
      "time": "10:09",
      "timestamp": "1548266971.198200",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "```\n\n*WAYBILL DOC* \nNot to be attached to package -Hand to Courier \n2018-10-08 Pa erless EDI 1 0 / XDE0012938 \nShipper \nASOS \nPark Spring Road Barnsley Grimethorpe S72 7GX United Kingdom \n['R:ceiver: \nG1anfranco Facch1ner1 \n4776 7th Ave W Br1t1sh Columbia \nV6T 1C6 .anada \nContact \n7 \nPhone 2263465453 \n_J \nProduct Details: Features/ Services (Service Code) \n[P] EXPRESS WORLDWIDE (48) Payer Details \nService OAP \nShipment Details  \nAccount No 187076726  \nRef code 360194044  \nValue: USD72  \nCust Deel Shpt Wgt (UOM) / Dim Wgt (UOM):  Pieces  \n1.45 kg  0001  \n\nProduced from Data by Paperless EDI solution \nNamo {1n Capital L@tt@rs) S1gnat\"r@ Dal@ {00.MM.YYYY) \nNew Look biker Jacket With Zip \nIIII I II 1 111 111 11 11 1111 II \nWAYBILL 31 5013 8703 \nLicense Plates of pieces ,n shipment \nJD0002251523525198 \n-page1of1.\n```",
      "time": "10:09",
      "timestamp": "1548266975.198400",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "Thanks for checking it Ted",
      "time": "10:09",
      "timestamp": "1548266987.198800",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "the text result looks correct",
      "time": "10:09",
      "timestamp": "1548266992.199100",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "So if there is a flow setting that gets something other than that…. maybe the crossed wires are in flow somewhere",
      "time": "10:10",
      "timestamp": "1548267006.199400",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "yeah, it seems a bug in flow",
      "time": "10:10",
      "timestamp": "1548267046.200200",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "",
      "time": "10:10",
      "timestamp": "1548267057.200600",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "if you look at the link (https://www.instabase.com/apps/ocr/review-doc/kerry/my-repo/fs/Instabase%20Drive/DHL/samples/out/s1_process_files/p105.pdf.ibocr?i=0&ibflowresults=#), the scanned text is something completely different..\n```\nExpediteur   I Sender\nBEYOND    ORGANIC\nM. ORGANIC    BEYOND\n8 rue des artisans\n37530 NAZELLES    NEGRON\nFRANCE\nTel/Phone:  0621248436\n                                                                  Destinataire  / Recipient\n                                                                  M. meaghan Wincey\n                                                                  3807 Mont Blanc Terrace\n                                                                  NOVA   SCOTIA  B3K  6R9 HALIFAX\n                                                                  CANADA\n                                                                  Tel / Phone : 9024568291\n                                                                  Date : vendredi 23 novembre 2018\n                              FACTURE          SANS     PAIEMENT           /\n                        UAL   UE    FOR    CUSTOM         PURPOSE         ONLY\n                                         MOTIF   : Usage personnel\n                                          PURPOSE:   Personal use\n         Description ddtaillde de la mardhandise /                  Quantity /    Prix unitaire /   Valeur (EUR)/\n              Detailed description ofgoods                          Quantity       Unit value       Value (EUR)\n       accessoires bebe 1 baby goods (origin : EEE)                     8               10,00EUR           80,00EUR\n          Poids  total / Total weight : 10.0 kg                      Valeur  totale / Total value         80,00EUR\n                                           FREE   OF  CHARGE\n                                      NO  COMMERCIAL        VALUE,\n                               VALUE   FOR   CUSTOM     PURPOSES     ONLY\nL'exportateur de produits converts par le present document declare que, sauf indication claire du contraire, ces produits\nont 1'origine preferentielle EEE. / The exporter ofthe products covered by this document declares that, except -where\notherwise clearly indicated, these products are ofEEA preferential origin.\n                                         A NAZELLES     NEGRON     (37530) le vendredi 23 novembre  2018\n                                         M. ORGANIC     BEYOND     (Signature et/cachet obligatoire):\n```",
      "time": "10:11",
      "timestamp": "1548267076.201000",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "looks like a very legit document - it is just not `p105.pdf`",
      "time": "10:11",
      "timestamp": "1548267095.201700",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "So here’s a question…",
      "time": "10:11",
      "timestamp": "1548267098.201900",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "do we know of any instances of `BEYOND    ORGANIC` appearing anywhere on instabase.com (http://instabase.com)?",
      "time": "10:11",
      "timestamp": "1548267114.202200",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": ":fearful: is there a way to know that",
      "time": "10:12",
      "timestamp": "1548267145.203100",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "because Flow wouldn’t spuriously generate good looking errors like that… it has to come from somewhere… so tracking down where it came from is probably the easiest way to figure out what’s going on",
      "time": "10:12",
      "timestamp": "1548267155.203400",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "yeah, flow must get the file from somewhere…. i can check other DHL pdfs, i think",
      "time": "10:13",
      "timestamp": "1548267232.204500",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "everything in that `input` folder is a way bill, so this `BEYOND ORGANIC` doc must be from a different folder",
      "time": "10:14",
      "timestamp": "1548267276.205300",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "There’s some tool called `pdfgrep`",
      "time": "10:16",
      "timestamp": "1548267360.206000",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "Going to see if I can find the phrase in the input folder offline",
      "time": "10:16",
      "timestamp": "1548267377.206600",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "If you just do a normal grep you get nothing, even for words we know are in there in plaintext… so adobe must use some sort of compressed text format",
      "time": "10:16",
      "timestamp": "1548267401.207100",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "I found it! it’s in\nhttps://www.instabase.com/kerry/my-repo/fs/Instabase%20Drive/DHL/samples2-non-waybills/input/",
      "time": "10:21",
      "timestamp": "1548267661.207600",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "the `....42963.TIF`",
      "time": "10:21",
      "timestamp": "1548267681.208100",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "hrm. so you used `cache_pdf_results=false`",
      "time": "10:22",
      "timestamp": "1548267738.209200",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "(great find btw!)",
      "time": "10:22",
      "timestamp": "1548267752.209800",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "yaah… maybe i’ll delete the flow file and recreate one?",
      "time": "10:22",
      "timestamp": "1548267757.210000",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "well…",
      "time": "10:22",
      "timestamp": "1548267770.210400",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "That might cause the instance of the problem to go away",
      "time": "10:22",
      "timestamp": "1548267778.210900",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "But it seems like maybe this is something that will appear again without warning?",
      "time": "10:23",
      "timestamp": "1548267787.211400",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "yeah",
      "time": "10:23",
      "timestamp": "1548267795.211700",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "I’m not familiar with the caching code.. but I do know the OCR layer has different control paths for different kinds of documents… maybe somehow state isn’t being handled consistently between them and the problem is odd interactions between the TIFF and PDF pipelines?",
      "time": "10:23",
      "timestamp": "1548267826.212600",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "^ @shaunak",
      "time": "10:23",
      "timestamp": "1548267829.212900",
      "is_reply": false
    },
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "It’s weird that this happens with caching forced off though.",
      "time": "10:24",
      "timestamp": "1548267843.213300",
      "is_reply": false
    },
    {
      "sender": "Kerry",
      "user_id": "UCX3VGDJR",
      "message": "i’m getting lunch - will be back shortly to see if deleting/recreating the flow solves the problem",
      "time": "10:25",
      "timestamp": "1548267933.214000",
      "is_reply": false
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2019-01-23.json",
    "message_count": 61,
    "start_time": "1548266007.182700",
    "end_time": "1548267933.214000",
    "is_thread": false
  }
}