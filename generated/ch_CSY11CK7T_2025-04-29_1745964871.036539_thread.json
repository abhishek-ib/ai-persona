{
  "id": "ch_CSY11CK7T_2025-04-29_1745964871.036539_thread",
  "type": "channel",
  "channel_name": "discuss-frontend",
  "conversation_type": "thread",
  "participants": [
    "Paul H",
    "Xindi Xu",
    "prateek.tenkale",
    "andy",
    "Weiming Wu"
  ],
  "messages": [
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "`nested-field-editor.spec.ts` failed on Cypress CI because the API endpoint is throwing an error. @Paul H /@Weiming Wu could you help pulling in relevant backend engineers on this? Thanks!\nPlayback: 19250 (https://cloud.cypress.io/projects/cfhedy/runs/19250/overview/5f858499-17e6-4d4d-b900-8849c336d948/replay?roarHideRunsWithDiffGroupsAndTags=1&ts=1745957964999.3&att=1) 19251 (https://cloud.cypress.io/projects/cfhedy/runs/19251/overview/6a42097d-11a3-4df6-9ffd-ac433b2cdf6f/replay?roarHideRunsWithDiffGroupsAndTags=1&ts=1745961127200.3&att=1)\nTrace id `c2d0b4e4b9286169` `9a470cf58cbadf63`\n```https://crafting-cyp--pr-70190-cypress-instabase.instabase.site.sandboxes.run/api/v1/flow-correction/set-records\n\n{\n  \"status\": \"ERROR\",\n  \"msg\": \"An unexpected error occurred. (Error=cannot unpack non-iterable NoneType object)\"\n}```",
      "time": "15:14",
      "timestamp": "1745964871.036539",
      "is_reply": false
    },
    {
      "sender": "Weiming Wu",
      "user_id": "U03DZ9Y4MC2",
      "message": "@andy Who should we assign this one to?",
      "time": "15:48",
      "timestamp": "1745966903.878329",
      "is_reply": true
    },
    {
      "sender": "andy",
      "user_id": "U0130FUMPN3",
      "message": "@prateek.tenkale is investigating this already",
      "time": "15:51",
      "timestamp": "1745967092.910719",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Thank you both. For the time being, i'll mark it as non-blocking",
      "time": "15:51",
      "timestamp": "1745967105.367299",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "https://github.com/instabase/instabase/pull/70214",
      "time": "15:53",
      "timestamp": "1745967231.027999",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "How would I be able to trigger the cypress tests to run on a backend PR?",
      "time": "15:55",
      "timestamp": "1745967329.460449",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Just want to make sure my fix will address the issue",
      "time": "15:55",
      "timestamp": "1745967339.540569",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "I think you have to do this:\n1. set up port forwarding in crafting to make the app accessible on `https://localhost`\n2. fork the codebase in your local env\n3. in your local env, modify this file `cypress/configs/local.js` to include log in creds for your env\n4. in the local env, run `yarn run e2e:open` and then select the test to run",
      "time": "15:58",
      "timestamp": "1745967500.867889",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Gotcha, I meant from a CI perspectice",
      "time": "15:58",
      "timestamp": "1745967522.343409",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "We can't",
      "time": "15:58",
      "timestamp": "1745967527.895259",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Oh interesting okay",
      "time": "15:58",
      "timestamp": "1745967533.976809",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Could I potentially make a dummy change on the FE?",
      "time": "15:59",
      "timestamp": "1745967543.160229",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Test that the cypress tests pass and revert before merging?",
      "time": "15:59",
      "timestamp": "1745967558.090299",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "It won't help because the cypress CI will use the backend code from crafting-cyp ICC sandbox, not the changes in your PR",
      "time": "15:59",
      "timestamp": "1745967583.369329",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Ohh right okay, I'll try on my local env then",
      "time": "16:00",
      "timestamp": "1745967603.362339",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "@Xindi Xu Is there any documentation on the steps you outlined? I'm a bit confused on exactly what to do for parts 1 and 2. Happy to do a quick huddle if that would make it easier.",
      "time": "16:14",
      "timestamp": "1745968475.756689",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "1 => run this in your local terminal\n```sudo sh -c \"CRAFTING_SANDBOX_SERVER_URL=https://instabase.sandboxes.site cs pf -P -F \\\n\t-L 80:localhost:80 \\ \n    -W $CRAFTING_SANDBOX\"```\n2 => Clone the `instabase/instabase` repo to your desktop",
      "time": "16:16",
      "timestamp": "1745968605.005829",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "What is CRAFTING_SANDBOX supposed to be set to? when I try to echo it in terminal right now it returns blank",
      "time": "16:18",
      "timestamp": "1745968698.991639",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "Should be your `<sandbox name>/dev`. For example, i have `xindixu-v4/dev`",
      "time": "16:20",
      "timestamp": "1745968811.728059",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Okay. For part 3, how do we add the login credentials (which field name do I set)? And how does it work if we need to authenticate okta to access the crafting environment first?",
      "time": "16:34",
      "timestamp": "1745969658.242509",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "And for part 4 I'm guessing you run `yarn run e2e:open`  in the base `instabase`  directory?",
      "time": "16:35",
      "timestamp": "1745969757.584039",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "I wrote the docs here: https://github.com/instabase/frontend-docs/pull/29",
      "time": "16:42",
      "timestamp": "1745970157.544319",
      "is_reply": true
    },
    {
      "sender": "Xindi Xu",
      "user_id": "U03FT35MAHF",
      "message": "All the frontend code/commands should run under `/home/owner/instabase/webserver/shared/src/js/webpacked`",
      "time": "16:47",
      "timestamp": "1745970431.248219",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Gotcha",
      "time": "16:54",
      "timestamp": "1745970856.862289",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "I was looking into the cypress test a bit more with @Weiming Wu, seems like it assumes that an existing app already exists",
      "time": "16:54",
      "timestamp": "1745970896.256409",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "'Cypress human review long doc'",
      "time": "16:55",
      "timestamp": "1745970912.154439",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "I may honestly just reproduce manually on my whiteglove environment, Paul had a doc that was failing as well that I may just copy",
      "time": "16:55",
      "timestamp": "1745970934.632149",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "Appreciate you putting this together though! Will leave comments on the testing docs enhancements pr",
      "time": "16:56",
      "timestamp": "1745970979.845739",
      "is_reply": true
    },
    {
      "sender": "Paul H",
      "user_id": "U011UPRAPNV",
      "message": "Yeah, it'll be easier to replicate in your own environment. If it's anyone like the report in the other thread, all you need is an app with a table field",
      "time": "16:56",
      "timestamp": "1745971008.429389",
      "is_reply": true
    },
    {
      "sender": "prateek.tenkale",
      "user_id": "U0817MND9J9",
      "message": "PR to fix: https://github.com/instabase/instabase/pull/70219",
      "time": "17:44",
      "timestamp": "1745973858.245549",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "CSY11CK7T",
    "channel_name": "discuss-frontend",
    "date_file": "2025-04-29.json",
    "message_count": 30,
    "start_time": "1745964871.036539",
    "end_time": "1745973858.245549",
    "is_thread": true
  }
}