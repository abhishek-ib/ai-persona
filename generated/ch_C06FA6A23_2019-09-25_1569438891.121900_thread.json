{
  "id": "ch_C06FA6A23_2019-09-25_1569438891.121900_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "Ted",
    "dlluncor",
    "Hari",
    "Eric Han",
    "lydia"
  ],
  "messages": [
    {
      "sender": "Ted",
      "user_id": "UAEM2MEGJ",
      "message": "@Hari my guess is this might have something to do with Py2 services and Py3 services interacting badly with each other. Perhaps Py3 defaults to a newer version of the pickle protocol?",
      "time": "12:14",
      "timestamp": "1569438891.121900",
      "is_reply": false
    },
    {
      "sender": "Hari",
      "user_id": "UCX3XL72Q",
      "message": "Thanks Ted! I will check this out.. but I am on Py2 venv for app task...",
      "time": "12:16",
      "timestamp": "1569438981.122000",
      "is_reply": true
    },
    {
      "sender": "Eric Han",
      "user_id": "UKPHNU5QE",
      "message": "@Hari all distributed tasks need to run on the same python version. If one is on py3, all tasks will use that module",
      "time": "12:29",
      "timestamp": "1569439779.122200",
      "is_reply": true
    },
    {
      "sender": "Hari",
      "user_id": "UCX3XL72Q",
      "message": "@Eric Han I have been running app-task in Py2, core task in Py3 all this while and there is no problem with that approach... I tried what you said but didn't help",
      "time": "12:36",
      "timestamp": "1569440218.122400",
      "is_reply": true
    },
    {
      "sender": "Eric Han",
      "user_id": "UKPHNU5QE",
      "message": "so this is the PR that @dlluncor made:\nhttps://github.com/instabase/instabase/commit/073d876613cd57195a579dc82725a68b3779eb07\n\nI was running into that error when I had a mix of py2 and 3 on my distributed tasks. Maybe David can give more context",
      "time": "12:39",
      "timestamp": "1569440341.122700",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "@Hari it became an issue after david made the PR. he said he was sometimes seeing serialization issues between tasks created and executed in different py environments",
      "time": "12:40",
      "timestamp": "1569440455.122900",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "as in, you might have ran both fine before his PR, but after it, it'll complain if you have tasks running different py versions",
      "time": "12:41",
      "timestamp": "1569440480.123200",
      "is_reply": true
    },
    {
      "sender": "Hari",
      "user_id": "UCX3XL72Q",
      "message": "@lydia Any idea on the fix? :slightly_smiling_face: the PR talks about setting the protocol...",
      "time": "12:46",
      "timestamp": "1569440810.123400",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "the fix is that you have to run all your services on the same py version",
      "time": "12:47",
      "timestamp": "1569440828.123600",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "you can run app-tasks in py3",
      "time": "12:47",
      "timestamp": "1569440839.123800",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "are you running in py2 because you have code that is py2?",
      "time": "12:48",
      "timestamp": "1569440896.124000",
      "is_reply": true
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "*udf code i mean",
      "time": "12:48",
      "timestamp": "1569440901.124200",
      "is_reply": true
    },
    {
      "sender": "Hari",
      "user_id": "UCX3XL72Q",
      "message": "yeah.. i tried to run all in py2 cos of UDFs",
      "time": "12:48",
      "timestamp": "1569440923.124400",
      "is_reply": true
    },
    {
      "sender": "Hari",
      "user_id": "UCX3XL72Q",
      "message": "I am trying with Py3 now...",
      "time": "12:54",
      "timestamp": "1569441253.124800",
      "is_reply": true
    },
    {
      "sender": "dlluncor",
      "user_id": "U3UA06MFD",
      "message": "hey hari — can help — not sure what issue you are running into but let me know",
      "time": "12:55",
      "timestamp": "1569441302.125100",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2019-09-25.json",
    "message_count": 15,
    "start_time": "1569438891.121900",
    "end_time": "1569441302.125100",
    "is_thread": true
  }
}