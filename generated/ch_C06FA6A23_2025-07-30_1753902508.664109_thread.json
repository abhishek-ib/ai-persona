{
  "id": "ch_C06FA6A23_2025-07-30_1753902508.664109_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "neerad.phansalkar",
    "Cody Boggs",
    "demetr.starshov"
  ],
  "messages": [
    {
      "sender": "demetr.starshov",
      "user_id": "U08SXGHP4R5",
      "message": "I played with cursor and claude AI for some time now and now I was able to get ~stable algorithm to make them produce safe refactoring without me correcting it.\nSo want to share it\nhttps://github.com/instabase/instabase/pull/73143\n\n(Unfortunately it doesn't work with only one agent call, since incorrect actions is being kept in the history and agent eventually either ignore the mistake, or goes wild and ignore instructions rather than correcting that mistake)",
      "time": "12:08",
      "timestamp": "1753902508.664109",
      "is_reply": false
    },
    {
      "sender": "demetr.starshov",
      "user_id": "U08SXGHP4R5",
      "message": "@Cody Boggs\n1. Here it is\n2. How can I run tests for any module? Do we have a silver bullet for that?",
      "time": "12:12",
      "timestamp": "1753902767.363979",
      "is_reply": true
    },
    {
      "sender": "Cody Boggs",
      "user_id": "U037PKN4USZ",
      "message": "Depends on what exactly you mean. :smile: What's the scenario you'd like to set up?",
      "time": "12:19",
      "timestamp": "1753903154.960709",
      "is_reply": true
    },
    {
      "sender": "demetr.starshov",
      "user_id": "U08SXGHP4R5",
      "message": "Well, I succeeded in making AI actually run tests to check everything out, but for now I provide it with exact instructions",
      "time": "12:41",
      "timestamp": "1753904485.153479",
      "is_reply": true
    },
    {
      "sender": "demetr.starshov",
      "user_id": "U08SXGHP4R5",
      "message": "Otherwise it tries to figure it out, fails half of the time and does strange things",
      "time": "12:42",
      "timestamp": "1753904543.888169",
      "is_reply": true
    },
    {
      "sender": "demetr.starshov",
      "user_id": "U08SXGHP4R5",
      "message": "So ideally a command \"run affected tests\" or at least mapping module -> how to run tests",
      "time": "12:45",
      "timestamp": "1753904758.060699",
      "is_reply": true
    },
    {
      "sender": "Cody Boggs",
      "user_id": "U037PKN4USZ",
      "message": "Ah yea that's generally tedious and is subject to our (fairly painful) hand-rolled test detection stuffs.\n\nThere a couple of options:\n1. Run the same script that pre-merge uses to determine what 'modules' should be tested\n2. Interrogate the `test-cmd*.json` files in `shared-utils/test-utils/src` to parse out what command is believed to be proper for any given directory you care about",
      "time": "12:54",
      "timestamp": "1753905271.755669",
      "is_reply": true
    },
    {
      "sender": "demetr.starshov",
      "user_id": "U08SXGHP4R5",
      "message": "> Interrogate the `test-cmd*.json` files in `shared-utils/test-utils/src` to parse out what command is believed to be proper for any given directory you care about\nWill try it next time, sounds like it can work",
      "time": "13:39",
      "timestamp": "1753907994.153719",
      "is_reply": true
    },
    {
      "sender": "neerad.phansalkar",
      "user_id": "U08K6KE6R54",
      "message": "You can probably add these to .cursor/rules (https://github.com/instabase/instabase/tree/master/.cursor/rules) so that they can be tagged during prompts.",
      "time": "14:43",
      "timestamp": "1753911826.391759",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2025-07-30.json",
    "message_count": 9,
    "start_time": "1753902508.664109",
    "end_time": "1753911826.391759",
    "is_thread": true
  }
}