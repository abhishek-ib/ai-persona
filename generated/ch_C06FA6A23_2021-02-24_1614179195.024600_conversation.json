{
  "id": "ch_C06FA6A23_2021-02-24_1614179195.024600_conversation",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "conversation",
  "participants": [
    "Daniel Cahn",
    "Anant",
    "lydia"
  ],
  "messages": [
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "can someone point me to how to iterate over each page in INPUT_IBOCR",
      "time": "07:06",
      "timestamp": "1614179195.024600",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "I need it to check if a page has the text I'm looking for",
      "time": "07:07",
      "timestamp": "1614179223.025200",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "and I can get the page number from it",
      "time": "07:07",
      "timestamp": "1614179229.025400",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "and then pass that particular page to some model",
      "time": "07:07",
      "timestamp": "1614179239.025700",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "would love any quick help here",
      "time": "07:07",
      "timestamp": "1614179250.026000",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "<!here>",
      "time": "07:07",
      "timestamp": "1614179254.026300",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "list of string is fine as long as it's an ordered list",
      "time": "07:09",
      "timestamp": "1614179351.027900",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "I can infer the page_no as `idx + 1`",
      "time": "07:09",
      "timestamp": "1614179364.028300",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "here is what I'm looking for",
      "time": "07:09",
      "timestamp": "1614179383.028700",
      "is_reply": false
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "anant you can also get provenacne from the text and use that to get page image i’m guessing",
      "time": "07:09",
      "timestamp": "1614179392.029000",
      "is_reply": false
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "the issue is you have some text and you don’t know what page it corresponds to to get hte image?",
      "time": "07:10",
      "timestamp": "1614179409.029400",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "Yes, I need a page number that has some text",
      "time": "07:10",
      "timestamp": "1614179432.029800",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "on a 100 page long doc",
      "time": "07:10",
      "timestamp": "1614179442.030100",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "one easy way is my UDF takes the IBOCR",
      "time": "07:11",
      "timestamp": "1614179461.030500",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "iterates over each page",
      "time": "07:11",
      "timestamp": "1614179466.030700",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "does `page.getText()`",
      "time": "07:11",
      "timestamp": "1614179477.031200",
      "is_reply": false
    },
    {
      "sender": "Daniel Cahn",
      "user_id": "U01BA1SDWP4",
      "message": "try ibtools function `get_pages()`",
      "time": "07:11",
      "timestamp": "1614179479.031500",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "and if it matches my criteria -- I can get the page number",
      "time": "07:11",
      "timestamp": "1614179498.031900",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "as `idx + 1`",
      "time": "07:11",
      "timestamp": "1614179502.032300",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "what is that ibtools function",
      "time": "07:12",
      "timestamp": "1614179529.032700",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "is there any UDF example",
      "time": "07:12",
      "timestamp": "1614179534.032900",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "that uses it?",
      "time": "07:12",
      "timestamp": "1614179540.033200",
      "is_reply": false
    },
    {
      "sender": "Daniel Cahn",
      "user_id": "U01BA1SDWP4",
      "message": "https://instabase.com/apps/refiner-v5/edit/ib_solutions/UAT/fs/Instabase%20Drive/tests/ibocr_get_pages/prog/refiner.ibrefiner",
      "time": "07:12",
      "timestamp": "1614179550.033400",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "`\n```Exception calling function - get_financial_data_page: Function context not provided: Calling attribute. Defined in scripts/custom_refiner_fns.py (line 21)\n\nTraceback:\n  File \"scripts/custom_refiner_fns.py\", line 21, in get_financial_data_page\n  File \"ib/market/ibtools/page_fns.py\", line 136, in get_pages\n  File \"ib/market/ibtools/page_fns.py\", line 40, in get_ibocr_record_from_kwargs```",
      "time": "07:14",
      "timestamp": "1614179693.034300",
      "is_reply": false
    },
    {
      "sender": "Daniel Cahn",
      "user_id": "U01BA1SDWP4",
      "message": "just use `from ib.market.ibtools import *` to register ibtools",
      "time": "07:16",
      "timestamp": "1614179767.034900",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "`\n```Exception calling function - get_financial_data_page: Function context not provided: Calling attribute. Defined in scripts/custom_refiner_fns.py (line 22)\n\nTraceback:\n  File \"scripts/custom_refiner_fns.py\", line 22, in get_financial_data_page\n  File \"ib/market/ibtools/page_fns.py\", line 136, in get_pages\n  File \"ib/market/ibtools/page_fns.py\", line 40, in get_ibocr_record_from_kwargs```",
      "time": "07:19",
      "timestamp": "1614179965.035300",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "here are my imports",
      "time": "07:19",
      "timestamp": "1614179985.035600",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "from typing import Text, Any\nfrom instabase.ocr.client.libs import ibocr\nfrom ib.custom.models.form_recognizer import *\nfrom ib.market.ib_intelligence.functions import provenance_track_region, Value\nfrom ib.market.ibtools import *\nfrom ib.market.ibtools.page_fns import get_pages",
      "time": "07:19",
      "timestamp": "1614179986.035800",
      "is_reply": false
    },
    {
      "sender": "Daniel Cahn",
      "user_id": "U01BA1SDWP4",
      "message": "Can you just put `from ib.market.ibtools import *` in it’s own file? Problems can happen when multiple libraries try to export using different methods in the same file. I think you might be registering the same function multiple times",
      "time": "07:21",
      "timestamp": "1614180092.036900",
      "is_reply": false
    },
    {
      "sender": "Daniel Cahn",
      "user_id": "U01BA1SDWP4",
      "message": "or\n```from ib.market import ibtools\n\ndef register(name_to_fn):\n    ...\n    ibtools.register(name_to_fn)```",
      "time": "07:22",
      "timestamp": "1614180129.037500",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "nope, same bug",
      "time": "07:24",
      "timestamp": "1614180285.037900",
      "is_reply": false
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "Anant maybe share your refiner prog?",
      "time": "07:26",
      "timestamp": "1614180416.038200",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "too late",
      "time": "07:30",
      "timestamp": "1614180648.038400",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "doing my plan B",
      "time": "07:30",
      "timestamp": "1614180652.038600",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "I'm good",
      "time": "07:30",
      "timestamp": "1614180655.038800",
      "is_reply": false
    },
    {
      "sender": "Anant",
      "user_id": "U0U100MNZ",
      "message": "I have a plan B of solving the problem",
      "time": "07:31",
      "timestamp": "1614180662.039000",
      "is_reply": false
    },
    {
      "sender": "lydia",
      "user_id": "UJK4LKYSJ",
      "message": "you should alaways have a plan B",
      "time": "07:31",
      "timestamp": "1614180675.039300",
      "is_reply": false
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2021-02-24.json",
    "message_count": 37,
    "start_time": "1614179195.024600",
    "end_time": "1614180675.039300",
    "is_thread": false
  }
}