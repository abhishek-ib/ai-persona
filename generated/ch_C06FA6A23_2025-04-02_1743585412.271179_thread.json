{
  "id": "ch_C06FA6A23_2025-04-02_1743585412.271179_thread",
  "type": "channel",
  "channel_name": "discuss-engineering",
  "conversation_type": "thread",
  "participants": [
    "astpierre",
    "jayapandian.ponraj",
    "abhishekk",
    "Parvez"
  ],
  "messages": [
    {
      "sender": "abhishekk",
      "user_id": "U082ZDHE63H",
      "message": "I learned from the team that although a Terraform file may exist for this cluster, it's not actively used for management. So, I went ahead and upgraded the cluster manually, except for the *vpc-cni* add-on, which I couldn’t update due to lack of access.\nI'm not sure if keeping an outdated add-on like *vpc-cni* could result in additional charges under the extended support window.\n\ncc @astpierre",
      "time": "02:16",
      "timestamp": "1743585412.271179",
      "is_reply": false
    },
    {
      "sender": "jayapandian.ponraj",
      "user_id": "U04A43DJT71",
      "message": "Which part did you not have access to ?",
      "time": "08:01",
      "timestamp": "1743606113.271379",
      "is_reply": true
    },
    {
      "sender": "abhishekk",
      "user_id": "U082ZDHE63H",
      "message": "My IAM user doesn't have required policy to upgrade vpc-cni add-on for the cluster.",
      "time": "08:04",
      "timestamp": "1743606287.661639",
      "is_reply": true
    },
    {
      "sender": "jayapandian.ponraj",
      "user_id": "U04A43DJT71",
      "message": "Interesting.. you had access to upgrade cluster but not the plugins ? What level of permission do you have ?",
      "time": "09:00",
      "timestamp": "1743609608.260429",
      "is_reply": true
    },
    {
      "sender": "abhishekk",
      "user_id": "U082ZDHE63H",
      "message": "I have `aws-powerUserAccess` to this account @jayapandian.ponraj.\n\nThis is the error I was getting\n`User: arn:aws:sts::***:assumed-role/AWSReservedSSO_aws-powerUserAccess_***/`<mailto:abhishek.kashyap@instabase.com|abhishek.kashyap@instabase.com> `is not authorized to perform: iam:PassRole on resource: arn:aws:iam::***:role/inmodev-use2-sandbox-central-obs-vpc-cni`\n\nI have added the details in this EKS upgrade document (https://docs.google.com/document/d/1s5vJDuDZXJ8Q8S43fqcG1n9xoHE2KX6bm0OYb37StDc/edit?usp=sharing).",
      "time": "09:16",
      "timestamp": "1743610568.705509",
      "is_reply": true
    },
    {
      "sender": "astpierre",
      "user_id": "U071A4KNEJV",
      "message": "> I'm not sure if keeping an outdated add-on like *vpc-cni* could result in additional charges under the extended support window.\nan outdated plugin version won't incur additional charges, but its best practice to keep those in line with the version of eks youre running otherwise you can run into instability in your cluster",
      "time": "09:32",
      "timestamp": "1743611533.957919",
      "is_reply": true
    },
    {
      "sender": "jayapandian.ponraj",
      "user_id": "U04A43DJT71",
      "message": "you can temporarily ask for admin access to get this through.\nRaise an IT ticket",
      "time": "09:38",
      "timestamp": "1743611925.490329",
      "is_reply": true
    },
    {
      "sender": "abhishekk",
      "user_id": "U082ZDHE63H",
      "message": "I'll do that JP :thankyou:",
      "time": "22:43",
      "timestamp": "1743659026.278929",
      "is_reply": true
    },
    {
      "sender": "Parvez",
      "user_id": "U04H04W3CK1",
      "message": "We can grant *powerUser* access to the EKS cluster owners. By default, only the new *kubectl* user created by Terraform is added as an owner, which is why you’re unable to access it. I believe you might also face issues with *admin* access.\nIf you're available, Abhishek, let's connect.",
      "time": "23:38",
      "timestamp": "1743662304.477539",
      "is_reply": true
    },
    {
      "sender": "abhishekk",
      "user_id": "U082ZDHE63H",
      "message": "I can connect now @Parvez",
      "time": "23:40",
      "timestamp": "1743662422.614089",
      "is_reply": true
    },
    {
      "sender": "Parvez",
      "user_id": "U04H04W3CK1",
      "message": "https://instabase.zoom.us/j/98404216701",
      "time": "23:42",
      "timestamp": "1743662529.518769",
      "is_reply": true
    },
    {
      "sender": "Parvez",
      "user_id": "U04H04W3CK1",
      "message": "Hey @abhishekk try using the terraform user I shared with you to target the resource and update it using aws cli. Or you can use it to update the IAM roles for that resource as well to allow powerUser access.",
      "time": "23:56",
      "timestamp": "1743663395.906579",
      "is_reply": true
    },
    {
      "sender": "abhishekk",
      "user_id": "U082ZDHE63H",
      "message": "Sure @Parvez :thankyou:",
      "time": "23:58",
      "timestamp": "1743663523.568949",
      "is_reply": true
    }
  ],
  "metadata": {
    "channel_id": "C06FA6A23",
    "channel_name": "discuss-engineering",
    "date_file": "2025-04-02.json",
    "message_count": 13,
    "start_time": "1743585412.271179",
    "end_time": "1743663523.568949",
    "is_thread": true
  }
}